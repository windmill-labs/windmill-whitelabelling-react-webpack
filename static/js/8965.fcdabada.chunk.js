"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[8965],{8965:(e,i,t)=>{t.r(i),t.d(i,{AbstractResourceEditorInput:()=>l.b,AbstractTextResourceEditorInput:()=>l.h,ActivityService:()=>f.s,ActivitybarPart:()=>r.h,ConfirmResult:()=>a.sa,DomScrollableElement:()=>n.zp,EditorInput:()=>d.jt,EditorInputCapabilities:()=>d.zt,GroupOrientation:()=>d.J,PanelPart:()=>f.l,Parts:()=>s.I,Position:()=>s.L,RegisteredEditorPriority:()=>l.t,SidebarPart:()=>f.c,SplitView:()=>n.Jt,ViewContainerLocation:()=>a.Sf,ViewPaneContainer:()=>a.P,attachPart:()=>w,default:()=>A,getSideBarPosition:()=>f.t,isEditorPartVisible:()=>R,isPartVisibile:()=>f.n,onDidChangeSideBarPosition:()=>f.r,onPartVisibilityChange:()=>b,renderPart:()=>P});var o=t(9379),n=t(6233),r=t(3262),l=t(9114),a=(t(8040),t(5452)),s=(t(3890),t(9558),t(4892),t(4747),t(1588)),d=t(5929),u=t(2004),c=(t(7077),t(6693),t(6048),t(4673),t(9863),t(9399),t(7564),t(7183),t(6567),t(1698),t(7),t(308),t(6183),t(5321),t(3680)),f=t(97);function v(e,i,t){let o=document.createElement("status"===i?"footer":"div");return o.classList.add("part","monaco-workbench-part",...t),o.id=e,o.setAttribute("role",i),"status"===i&&o.setAttribute("aria-live","off"),o}function p(e){var i;let t=null===(i=e.getContainer())||void 0===i?void 0:i.parentNode;null!=t&&e.layout(Math.max(e.minimumWidth,Math.min(e.maximumWidth,t.offsetWidth)),Math.max(e.minimumHeight,Math.min(e.maximumHeight,t.offsetHeight)),t.offsetTop,t.offsetLeft)}function P(e,i){function t(){p(i)}e.oncontextmenu=()=>!1,i.onDidVisibilityChange(e=>{e&&t()}),t()}function g(e){return n.n.get(n.Rl).getPart(e)}function w(e,i){let t=g(e);if(null==t)throw Error("Part not found");return function(e,i){i.append(e.getContainer());let t=new ResizeObserver(()=>p(e));return t.observe(i),{dispose:()=>t.disconnect()}}(t,i)}function b(e,i){let t=g(e);if(null==t)throw Error("Part not found");return t.onDidVisibilityChange(i)}function R(){let e=n.n.get(d.W).mainPart.getContainer();return null!=e&&function(e){return!!e.isConnected&&(null==e.checkVisibility?e.offsetHeight>0&&e.offsetWidth>0:e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))}(e)}(0,n.Ib)(),(0,n.WM)(),(0,n.Iw)(),(0,n.yc)(),(0,n.mj)(),(0,n.TD)(),(0,n.r)(),(0,n.s_)(),(0,n.Ml)(),(0,n.bs)(),(0,n.sm)(),(0,n.Kb)(),(0,n.zl)(),(0,n.nb)(),(0,n.Jo)(),(0,n.Wo)(),(0,n.ss)(),(0,n.za)(),(0,r.mt)(),(0,r.g)(),(0,d.en)(),(0,a.Df)(),(0,a.fx)(),(0,d.Q)(),(0,d.G)(),(0,d.At)(),(0,s.Ot)(),(0,s.z)(),(0,d.L)(),(0,d.z)(),(0,s.wt)(),(0,s.x)(),(0,u.i)(),(0,r.p)(),(0,r.bt)(),(0,a.L)(),(0,a.ca)(),(0,l.a)(),(0,l.x)(),(0,l._)(),(0,d.Mt)(),(0,n.Yt)(),(0,n.Up)();var y=class extends c.t{constructor(e,i){var t;super(i.createInstance(f.u),!1,e,i),t=this,this.restoreGroup=function(){return t.delegate.restoreGroup(...arguments)}}getId(){return"standalone"}updateStyles(){}registerPart(e){return this.delegate.registerPart(e)}bind(e,i){return this.delegate.bind(e,i)}get activePart(){return this.delegate.activePart}};y=(0,n.Pb)([(0,n.Fb)(1,n.Ub)],y);var h=e=>e;function A(e,i,t){return null!=t&&(h="boolean"==typeof t?e=>(0,o.A)((0,o.A)({},e),{},{editor:(0,o.A)((0,o.A)({},e.editor),{},{restoreEditors:t})}):t),(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},(0,f.i)(i)),(0,r.yt)({isKeybindingConfigurationVisible:R,shouldUseGlobalPicker:R})),(0,f.o)({shouldUseGlobalKeybindings:R})),{},{[d.W.toString()]:new n.om(y,[e],!1),[d.kt.toString()]:new n.om(c.n,[e,R],!1)})}(0,s.C)(async e=>{var i,t,o;let r=e.get(s.Ct),l=e.get(a.dx),u=e.get(d.R),c=e.get(n.Uo),p=e.get(d.W),g=e.get(d.kt),w=e.get(n.eb),b=e.get(s.Dt),R=e.get(n.jl),y=e.get(n.Ra),A=e.get(n.o_),m=e.get(n.ys),S=e.get(n.Rl);let T=function(){var e,i,t,o,r;let l=null===(e=R.options)||void 0===e?void 0:e.defaultLayout;if((null!=(null===l||void 0===l?void 0:l.editors)&&l.editors.length>0||null!=(null===l||void 0===l||null===(i=l.layout)||void 0===i?void 0:i.editors))&&(null!==(t=l.force)&&void 0!==t&&t||c.isNew(n.Go.WORKSPACE)))return{layout:null===(o=l.layout)||void 0===o?void 0:o.editors,filesToOpenOrCreate:null===(r=l.editors)||void 0===r?void 0:r.map(e=>({viewColumn:e.viewColumn,fileUri:n.wD.revive(e.uri),openOnlyIfExists:e.openOnlyIfExists,options:e.options}))};let{filesToOpenOrCreate:a,filesToDiff:s,filesToMerge:d}=R;return null!=a||null!=s||null!=d?{filesToOpenOrCreate:a,filesToDiff:s,filesToMerge:d}:void 0}();null!=T&&w.info("Initial editor state",T);let C={layout:{editors:null===T||void 0===T?void 0:T.layout},editor:{restoreEditors:(E=y,I=T,!(0,n.fs)(E.getWorkspace())&&("preserve"===A.getValue("window.restoreWindows")||void 0===I)),editorsToOpen:async function(e,i){if(null!=i){let o=(0,n.AM)(await(0,d._n)(i.filesToMerge,e,w));if(4===o.length&&(0,d.un)(o[0])&&(0,d.un)(o[1])&&(0,d.un)(o[2])&&(0,d.un)(o[3]))return[{editor:{input1:{resource:o[0].resource},input2:{resource:o[1].resource},base:{resource:o[2].resource},result:{resource:o[3].resource},options:{pinned:!0}}}];let r=(0,n.AM)(await(0,d._n)(i.filesToDiff,e,w));if(2===r.length)return[{editor:{original:{resource:r[0].resource},modified:{resource:r[1].resource},options:{pinned:!0}}}];let l=[],a=await(0,d._n)(i.filesToOpenOrCreate,e,w);for(let e=0;e<a.length;e++){var t;let o=a[e];null!=o&&l.push({editor:o,viewColumn:null===(t=i.filesToOpenOrCreate)||void 0===t?void 0:t[e].viewColumn})}return l}return y.getWorkbenchState()===n.rs.EMPTY&&"newUntitledFile"===A.getValue("workbench.startupEditor")?p.mainPart.hasRestorableState?[]:[{editor:{resource:void 0}}]:[]}(m,T)},views:{defaults:function(e,i){var t,o;let r=null===(t=e.options)||void 0===t?void 0:t.defaultLayout;if(null==r||(null===(o=r.force)||void 0===o||!o)&&!i.isNew(n.Go.WORKSPACE))return;let{views:l}=r;return null!=l&&l.length>0?l.map(e=>e.id):void 0}(R,c),containerToRestore:{}}};var E,I;function B(e){var i;return null!==(i=l.getDefaultViewContainer(e))&&void 0!==i?i:l.getViewContainersByLocation(e)[0]}(function(){if(S.isVisible(s.I.SIDEBAR_PART)){var e,i;let t;t=!R.isBuilt||u.startupKind===d.F.ReloadedWindow||n.Dj?c.get(f.c.activeViewletSettingsKey,n.Go.WORKSPACE,null===(e=B(a.Sf.Sidebar))||void 0===e?void 0:e.id):null===(i=B(a.Sf.Sidebar))||void 0===i?void 0:i.id,C.views.containerToRestore.sideBar=t}if(S.isVisible(s.I.PANEL_PART)){var t;let e=c.get(f.l.activePanelSettingsKey,n.Go.WORKSPACE,null===(t=B(a.Sf.Panel))||void 0===t?void 0:t.id);C.views.containerToRestore.panel=e}if(S.isVisible(s.I.AUXILIARYBAR_PART)){var o;let e=c.get(f._.activeViewSettingsKey,n.Go.WORKSPACE,null===(o=B(a.Sf.AuxiliaryBar))||void 0===o?void 0:o.id);C.views.containerToRestore.auxiliaryBar=e}})(),C=h(C),null!==(i=C.views.containerToRestore.sideBar)&&void 0!==i||S.setPartHidden(!0,s.I.SIDEBAR_PART),null!==(t=C.views.containerToRestore.panel)&&void 0!==t||S.setPartHidden(!0,s.I.PANEL_PART),null!==(o=C.views.containerToRestore.auxiliaryBar)&&void 0!==o||S.setPartHidden(!0,s.I.AUXILIARYBAR_PART);let V=document.createElement("div");V.style.display="none",document.body.append(V);for(let{id:n,role:a,classes:d,options:f,getPosition:h,onDidChangePosition:L}of[{id:s.I.TITLEBAR_PART,role:"none",classes:["titlebar"]},{id:s.I.BANNER_PART,role:"banner",classes:["banner"]},{id:s.I.ACTIVITYBAR_PART,role:"none",classes:["activitybar"],getPosition:()=>S.getSideBarPosition(),onDidChangePosition:S.onDidChangeSideBarPosition},{id:s.I.SIDEBAR_PART,role:"none",classes:["sidebar"],getPosition:()=>S.getSideBarPosition(),onDidChangePosition:S.onDidChangeSideBarPosition},{id:s.I.EDITOR_PART,role:"main",classes:["editor"],options:{restorePreviousState:C.editor.restoreEditors}},{id:s.I.PANEL_PART,role:"none",classes:["panel","basepanel"],getPosition:()=>S.getPanelPosition(),onDidChangePosition:S.onDidChangePanelPosition},{id:s.I.AUXILIARYBAR_PART,role:"none",classes:["auxiliarybar","basepanel"],getPosition:()=>S.getSideBarPosition()===s.L.LEFT?s.L.RIGHT:s.L.LEFT,onDidChangePosition:S.onDidChangeSideBarPosition},{id:s.I.STATUSBAR_PART,role:"status",classes:["statusbar"]}]){let e=S.getPart(n);if(null!=e){let i=v(n,a,d);if(e.create(i,f),P(i,e),e.layout(9999,9999,0,0),V.append(i),null!=h){let i=h();e.element.classList.add((0,s.W)(i)),null===L||void 0===L||L(()=>{e.element.classList.remove((0,s.W)(i)),i=h(),e.element.classList.add((0,s.W)(i))})}}}let x=[],D=[];x.push((async(e,i)=>{(0,n.bc)("code/willRestoreEditors"),await p.mainPart.whenReady,(0,n.bc)("code/restoreEditors/editorGroupsReady"),null!=(null===(e=C.layout)||void 0===e?void 0:e.editors)&&p.applyLayout(C.layout.editors);let t,o=await C.editor.editorsToOpen;if((0,n.bc)("code/restoreEditors/editorsToOpenResolved"),o.length>0){let e=p.getGroups(d.X.GRID_APPEARANCE),i=new Map;for(let t of o){var r;let o=e[(null!==(r=t.viewColumn)&&void 0!==r?r:1)-1],n=i.get(o.id);null!==n&&void 0!==n||(n=new Set,i.set(o.id,n)),n.add(t.editor)}t=Promise.all(Array.from(i).map(async e=>{let[i,t]=e;try{await g.openEditors(Array.from(t),i,{validateTrust:!0})}catch(i){w.error(i)}}))}D.push(Promise.all([null===(i=t)||void 0===i?void 0:i.finally(()=>(0,n.bc)("code/restoreEditors/editorsOpened")),p.mainPart.whenRestored.finally(()=>(0,n.bc)("code/restoreEditors/editorGroupsRestored"))]).finally(()=>{(0,n.bc)("code/didRestoreEditors")}))})());let O=(async()=>{if(null!=C.views.defaults&&C.views.defaults.length>0){(0,n.bc)("code/willOpenDefaultViews");let e=[],i=i=>{let t=l.getViewLocationById(i.id);if(null!==t){let r=l.getViewContainerByViewId(i.id);if(null!=r){var o,n;i.order>=(null!==(o=null===(n=e[t])||void 0===n?void 0:n.order)&&void 0!==o?o:0)&&(e[t]={id:r.id,order:i.order});let a=l.getViewContainerModel(r);return a.setCollapsed(i.id,!1),a.setVisible(i.id,!0),!0}}return!1},t=[...C.views.defaults].reverse().map((e,i)=>({id:e,order:i})),o=t.length;for(;o>0;)o--,i(t[o])&&t.splice(o,1);if(t.length>0){await b.whenInstalledExtensionsRegistered();let e=t.length;for(;e>0;)e--,i(t[e])&&t.splice(e,1)}null!=e[a.Sf.Sidebar]&&(C.views.containerToRestore.sideBar=e[a.Sf.Sidebar].id),null!=e[a.Sf.Panel]&&(C.views.containerToRestore.panel=e[a.Sf.Panel].id),null!=e[a.Sf.AuxiliaryBar]&&(C.views.containerToRestore.auxiliaryBar=e[a.Sf.AuxiliaryBar].id),(0,n.bc)("code/didOpenDefaultViews")}})();x.push(O),x.push((async(e,i)=>{await O,null!=C.views.containerToRestore.sideBar&&((0,n.bc)("code/willRestoreViewlet"),null!==(e=await r.openPaneComposite(C.views.containerToRestore.sideBar,a.Sf.Sidebar))&&void 0!==e||await r.openPaneComposite(null===(i=B(a.Sf.Sidebar))||void 0===i?void 0:i.id,a.Sf.Sidebar),(0,n.bc)("code/didRestoreViewlet"))})()),x.push((async(e,i)=>{await O,null!=C.views.containerToRestore.panel&&((0,n.bc)("code/willRestorePanel"),null!==(e=await r.openPaneComposite(C.views.containerToRestore.panel,a.Sf.Panel))&&void 0!==e||await r.openPaneComposite(null===(i=B(a.Sf.Panel))||void 0===i?void 0:i.id,a.Sf.Panel),(0,n.bc)("code/didRestorePanel"))})()),x.push((async(e,i)=>{await O,null!=C.views.containerToRestore.auxiliaryBar&&((0,n.bc)("code/willRestoreAuxiliaryBar"),null!==(e=await r.openPaneComposite(C.views.containerToRestore.auxiliaryBar,a.Sf.AuxiliaryBar))&&void 0!==e||await r.openPaneComposite(null===(i=B(a.Sf.AuxiliaryBar))||void 0===i?void 0:i.id,a.Sf.AuxiliaryBar),(0,n.bc)("code/didRestoreAuxiliaryBar"))})()),await n.yw.settled(x),await n.yw.settled(D)})}}]);
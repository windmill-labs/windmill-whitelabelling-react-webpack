"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[9713],{9713:(t,e,i)=>{i.r(e),i.d(e,{AbstractResourceEditorInput:()=>P.b,AbstractTextResourceEditorInput:()=>P.h,ConfirmResult:()=>x.ea,DomScrollableElement:()=>M.Fp,EditorInput:()=>O.jt,EditorInputCapabilities:()=>O.zt,Parts:()=>B.V,RegisteredEditorPriority:()=>P.t,SplitView:()=>M.Yt,ViewContainerLocation:()=>x.gf,ViewPaneContainer:()=>x.A,default:()=>He,getSideBarPosition:()=>Y.t,isPartVisibile:()=>Y.n,onDidChangeSideBarPosition:()=>Y.r});var s,n,o,r,a,l,h,d,c,u,g,m,b,p,v,f,A,E,C,S,_,I,y,w,T,R,D,V=i(9379),M=i(1359),P=i(6095),N=i(3373),x=(i(7852),i(2182),i(8638),i(3227)),L=i(8871),B=i(1439),O=i(1070),k=(i(1532),i(6361)),H=(i(5537),i(981),i(8074),i(8610),i(2527),i(2278),i(9796),i(3087),i(6300)),Y=i(3767);(0,B.W)(),(0,B.st)(),(0,O.L)(),(0,O.z)(),(0,M.yi)(),(0,M.Lo)(),(0,M.Vo)(),(0,M.cc)(),(0,M.Fd)(),(0,M.Jp)(),(0,M.Zp)(),(0,M.i_)(),(0,M.Xb)(),(0,M.ox)(),(0,M.oS)(),(0,M.JC)(),(0,M.Ww)(),(0,M.HT)(),(0,M.KT)(),(0,M.oE)(),(0,M.vE)(),(0,M.SE)(),(0,M.SO)(),(0,M.QO)(),(0,M.sj)(),(0,M.wj)(),(0,M.jj)(),(0,M.Hj)(),(0,M.iM)(),(0,M.TM)(),(0,M.GM)(),(0,M.AN)(),(0,M.aP)();var z,F,U,G={};(0,P.er)(),(0,M.Xd)(),(0,M.sp)(),(0,M.mm)(),(0,M._m)(),(0,M.vm)(),(0,M.Sm)(),(0,M.wm)(),(0,M.Vm)(),(0,M.rh)(),(0,M.ih)(),(0,M.Qh)(),(0,M.cg)(),(0,M.vg)(),(0,M.jg)(),(0,M.kv)(),(0,M.Mb)(),(0,M.pO)(),(0,M.Bd)(),(0,M.Ap)(),(0,M.Kb)(),(0,M.ir)(),(0,M.Wd)(),(F=z||(z={}))[F.ADD=0]="ADD",F[F.CHANGE=1]="CHANGE",F[F.EXPAND_COLLAPSE=2]="EXPAND_COLLAPSE",F[F.REMOVE=3]="REMOVE",function(t){t[t.ADD=0]="ADD",t[t.REMOVE=1]="REMOVE"}(U||(U={}));var W=class extends M.mj{constructor(t,e){super(),this.item=t,this.onClose=e,this._onDidClose=this._register(new M.ej),this.onDidClose=this._onDidClose.event,this._onDidChangeVisibility=this._register(new M.ej),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.registerListeners()}registerListeners(){this._register(this.item.onDidChangeVisibility(t=>this._onDidChangeVisibility.fire(t))),M.tj.once(this.item.onDidClose)(()=>{this._onDidClose.fire(),this.dispose()})}get progress(){return this.item.progress}updateSeverity(t){this.item.updateSeverity(t)}updateMessage(t){this.item.updateMessage(t)}updateActions(t){this.item.updateActions(t)}close(){this.onClose(this.item),this.dispose()}};s=class t extends M.mj{constructor(){super(...arguments),this._onDidChangeNotification=this._register(new M.ej),this.onDidChangeNotification=this._onDidChangeNotification.event,this._onDidChangeStatusMessage=this._register(new M.ej),this.onDidChangeStatusMessage=this._onDidChangeStatusMessage.event,this._onDidChangeFilter=this._register(new M.ej),this.onDidChangeFilter=this._onDidChangeFilter.event,this._notifications=[],this.filter={global:M.zd.OFF,sources:new Map}}get notifications(){return this._notifications}get statusMessage(){return this._statusMessage}setFilter(t){let e=!1;"number"==typeof t.global&&(e=this.filter.global!==t.global,this.filter.global=t.global);let i=!1;t.sources&&(i=!(0,M.Uj)(this.filter.sources,t.sources),this.filter.sources=t.sources),(e||i)&&this._onDidChangeFilter.fire({global:e?t.global:void 0,sources:i?t.sources:void 0})}addNotification(e){var i;let s=this.createViewItem(e);return s?(null!==(i=this.findNotification(s))&&void 0!==i&&i.close(),this._notifications.splice(0,0,s),this._onDidChangeNotification.fire({item:s,index:0,kind:z.ADD}),new W(s,t=>this.onClose(t))):t.NO_OP_NOTIFICATION}onClose(t){let e=this.findNotification(t);e&&e!==t?e.close():t.close()}findNotification(t){return this._notifications.find(e=>e.equals(t))}createViewItem(t){let e=Z.create(t,this.filter);if(!e)return;let i=(t,i)=>{let s=this._notifications.indexOf(e);s>=0&&this._onDidChangeNotification.fire({item:e,index:s,kind:t,detail:i})},s=e.onDidChangeExpansion(()=>i(z.EXPAND_COLLAPSE)),n=e.onDidChangeContent(t=>i(z.CHANGE,t.kind));return M.tj.once(e.onDidClose)(()=>{s.dispose(),n.dispose();let t=this._notifications.indexOf(e);t>=0&&(this._notifications.splice(t,1),this._onDidChangeNotification.fire({item:e,index:t,kind:z.REMOVE}))}),e}showStatusMessage(t,e){let i=q.create(t,e);return i?(this._statusMessage=i,this._onDidChangeStatusMessage.fire({kind:U.ADD,item:i}),{close:()=>{this._statusMessage===i&&(this._statusMessage=void 0,this._onDidChangeStatusMessage.fire({kind:U.REMOVE,item:i}))}}):{close:()=>{}}}};var j;s.NO_OP_NOTIFICATION=new M.Ld;function K(t){return t instanceof Z}!function(t){t[t.SEVERITY=0]="SEVERITY",t[t.MESSAGE=1]="MESSAGE",t[t.ACTIONS=2]="ACTIONS",t[t.PROGRESS=3]="PROGRESS"}(j||(j={}));var X=class extends M.mj{constructor(){super(),this._onDidChange=this._register(new M.ej),this.onDidChange=this._onDidChange.event,this._state=Object.create(null)}get state(){return this._state}infinite(){this._state.infinite||(this._state.infinite=!0,this._state.total=void 0,this._state.worked=void 0,this._state.done=void 0,this._onDidChange.fire())}done(){this._state.done||(this._state.done=!0,this._state.infinite=void 0,this._state.total=void 0,this._state.worked=void 0,this._onDidChange.fire())}total(t){this._state.total!==t&&(this._state.total=t,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire())}worked(t){"number"==typeof this._state.worked?this._state.worked+=t:this._state.worked=t,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire()}},Z=(n=class t extends M.mj{static create(e,i){var s;if(!e||!e.message||(0,M.oP)(e.message))return;let n;n="number"==typeof e.severity?e.severity:M.Ud.Info;let o,r=t.parseNotificationMessage(e.message);if(!r)return;e.actions?o=e.actions:(0,M.jp)(e.message)&&(o={primary:e.message.actions});let a=null!==(s=e.priority)&&void 0!==s?s:M.Rd.DEFAULT;return(a===M.Rd.DEFAULT||a===M.Rd.OPTIONAL)&&n!==M.Ud.Error&&(i.global===M.zd.ERROR||(0,M.Vd)(e.source)&&i.sources.get(e.source.id)===M.zd.ERROR)&&(a=M.Rd.SILENT),new t(e.id,n,e.sticky,a,r,e.source,e.progress,o)}static parseNotificationMessage(e){let i;if(e instanceof Error?i=(0,M.Mp)(e,!1):"string"==typeof e&&(i=e),!i)return;let s=i;return i.length>t.MAX_MESSAGE_LENGTH&&(i="".concat(i.substr(0,t.MAX_MESSAGE_LENGTH),"...")),i=i.replace(/(\r\n|\n|\r)/gm," ").trim(),{raw:s,linkedText:(0,M.ar)(i),original:e}}constructor(t,e,i,s,n,o,r,a){super(),this.id=t,this._severity=e,this._sticky=i,this._priority=s,this._message=n,this._source=o,this._visible=!1,this._onDidChangeExpansion=this._register(new M.ej),this.onDidChangeExpansion=this._onDidChangeExpansion.event,this._onDidClose=this._register(new M.ej),this.onDidClose=this._onDidClose.event,this._onDidChangeContent=this._register(new M.ej),this.onDidChangeContent=this._onDidChangeContent.event,this._onDidChangeVisibility=this._register(new M.ej),this.onDidChangeVisibility=this._onDidChangeVisibility.event,r&&this.setProgress(r),this.setActions(a)}setProgress(t){t.infinite?this.progress.infinite():t.total&&(this.progress.total(t.total),t.worked&&this.progress.worked(t.worked))}setActions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{primary:[],secondary:[]};this._actions={primary:Array.isArray(t.primary)?t.primary:[],secondary:Array.isArray(t.secondary)?t.secondary:[]},this._expanded=t.primary&&t.primary.length>0}get canCollapse(){return!this.hasActions}get expanded(){return!!this._expanded}get severity(){return this._severity}get sticky(){if(this._sticky)return!0;let t=this.hasActions;return!!(t&&this._severity===M.Ud.Error||!t&&this._expanded||this._progress&&!this._progress.state.done)}get priority(){return this._priority}get hasActions(){return!(!this._actions||!this._actions.primary)&&this._actions.primary.length>0}get hasProgress(){return!!this._progress}get progress(){return this._progress||(this._progress=this._register(new X),this._register(this._progress.onDidChange(()=>this._onDidChangeContent.fire({kind:j.PROGRESS})))),this._progress}get message(){return this._message}get source(){return"string"==typeof this._source?this._source:this._source?this._source.label:void 0}get sourceId(){return this._source&&"string"!=typeof this._source&&"id"in this._source?this._source.id:void 0}get actions(){return this._actions}get visible(){return this._visible}updateSeverity(t){t!==this._severity&&(this._severity=t,this._onDidChangeContent.fire({kind:j.SEVERITY}))}updateMessage(e){let i=t.parseNotificationMessage(e);!i||i.raw===this._message.raw||(this._message=i,this._onDidChangeContent.fire({kind:j.MESSAGE}))}updateActions(t){this.setActions(t),this._onDidChangeContent.fire({kind:j.ACTIONS})}updateVisibility(t){this._visible!==t&&(this._visible=t,this._onDidChangeVisibility.fire(t))}expand(){this._expanded||!this.canCollapse||(this._expanded=!0,this._onDidChangeExpansion.fire())}collapse(t){!this._expanded||!this.canCollapse||(this._expanded=!1,t||this._onDidChangeExpansion.fire())}toggle(){this._expanded?this.collapse():this.expand()}close(){this._onDidClose.fire(),this.dispose()}equals(t){if(this.hasProgress||t.hasProgress)return!1;if("string"==typeof this.id||"string"==typeof t.id)return this.id===t.id;if("object"==typeof this._source){if(this._source.label!==t.source||this._source.id!==t.sourceId)return!1}else if(this._source!==t.source)return!1;return this._message.raw===t.message.raw&&(0,M.TN)(this._actions&&this._actions.primary||[],t.actions&&t.actions.primary||[],(t,e)=>t.id+t.label===e.id+e.label)}},{_:n.MAX_MESSAGE_LENGTH=1e3},n),J=class t extends M.Hb{constructor(e,i){super(e,i.label,void 0,!0,async()=>{i.run(),this._onDidRun.fire()}),this._onDidRun=this._register(new M.ej),this.onDidRun=this._onDidRun.event,this._keepOpen=!!i.keepOpen,this._menu=!i.isSecondary&&i.menu?i.menu.map((i,s)=>new t("".concat(e,".").concat(s),i)):void 0}get menu(){return this._menu}get keepOpen(){return this._keepOpen}},q=class{static create(t,e){if(!t||(0,M.oP)(t))return;let i;return t instanceof Error?i=(0,M.Mp)(t,!1):"string"==typeof t&&(i=t),i?{message:i,options:e}:void 0}};(0,M.Pb)(),(0,M.Ib)(),(0,M.Pk)(),(0,M.Ab)(),(0,M.Tb)(),(0,M.Ct)(),(0,M.Tt)(),(0,M.yb)(),(0,B.tr)(),(0,M.Bd)(),(0,M.Kb)(),(0,M.dc)(),(0,M.wj)(),(0,P.pi)(),(0,M.f)();var $="notifications.showList",Q="notifications.hideList",tt="notifications.hideToasts",et="notifications.focusToasts",it="notification.collapse",st="notification.expand",nt="notification.acceptPrimaryAction",ot="notification.clear",rt="notifications.clearAll",at="notifications.toggleDoNotDisturbMode",lt="notifications.toggleDoNotDisturbModeBySource";function ht(t,e){if(K(e))return e;let i=t.lastFocusedList;if(i instanceof M.ot){let t=i.getFocusedElements()[0];if(K(t)||i.isDOMFocused()&&(t=i.element(0)),K(t))return t}}var dt=class extends M.Ub{constructor(t,e){super(),this.telemetryService=t,this.notificationService=e}async runAction(t,e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.id,from:"message"});try{await super.runAction(t,e)}catch(t){this.notificationService.error(t)}}};dt=(0,M.Jb)([(0,M.Yb)(0,M.vb),(0,M.Yb)(1,M.Pd)],dt),(0,O.it)(),(0,O.At)(),(0,O.en)(),(0,M.Ii)(),(0,M.ps)(),(0,M.Ol)(),(0,M.Dd)(),(0,M.Rb)(),(0,M.Vb)();(0,M.Xn)(),(0,M.Ur)(),(0,M.Ki)(),(0,M.ia)(),(0,M.Oc)(),(0,M.Vc)(),(0,M.hl)(),(0,M.lm)(),(0,M.Xb)(),(0,M.TM)(),(0,M.Kb)(),(0,M.S)(),(0,M.G)(),(0,M.bE)(G);var ct=(0,M.K)("notifications-clear",M.fO.close,(0,M.EM)(3436,"Icon for the clear action in notifications.")),ut=(0,M.K)("notifications-clear-all",M.fO.clearAll,(0,M.EM)(3437,"Icon for the clear all action in notifications.")),gt=(0,M.K)("notifications-hide",M.fO.chevronDown,(0,M.EM)(3438,"Icon for the hide action in notifications.")),mt=(0,M.K)("notifications-expand",M.fO.chevronUp,(0,M.EM)(3439,"Icon for the expand action in notifications.")),bt=(0,M.K)("notifications-collapse",M.fO.chevronDown,(0,M.EM)(3440,"Icon for the collapse action in notifications.")),pt=(0,M.K)("notifications-configure",M.fO.gear,(0,M.EM)(3441,"Icon for the configure action in notifications.")),vt=(0,M.K)("notifications-do-not-disturb",M.fO.bellSlash,(0,M.EM)(3442,"Icon for the mute all action in notifications.")),ft=(o=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(ct)),this.commandService=i}async run(t){this.commandService.executeCommand(ot,t)}},{_:o.ID=ot},{_:o.LABEL=(0,M.EM)(3443,"Clear Notification")},o);ft=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],ft);var At=(r=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(ut)),this.commandService=i}async run(){this.commandService.executeCommand(rt)}},{_:r.ID=rt},{_:r.LABEL=(0,M.EM)(3444,"Clear All Notifications")},r);At=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],At);var Et=(a=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(vt)),this.commandService=i}async run(){this.commandService.executeCommand(at)}},{_:a.ID=at},{_:a.LABEL=(0,M.EM)(3445,"Toggle Do Not Disturb Mode")},a);Et=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],Et);var Ct=(l=class extends M.Hb{constructor(t,e,i){super(t,e),this.commandService=i}async run(){this.commandService.executeCommand(lt)}},{_:l.ID=lt},{_:l.LABEL=(0,M.EM)(3446,"Toggle Do Not Disturb Mode By Source...")},l);Ct=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],Ct);var St=(h=class extends M.Hb{constructor(t,e){super(t,e,M.Bb.asClassName(vt))}},{_:h.ID="workbench.action.configureDoNotDisturbMode"},{_:h.LABEL=(0,M.EM)(3447,"Configure Do Not Disturb...")},h),_t=(d=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(gt)),this.commandService=i}async run(){this.commandService.executeCommand(Q)}},{_:d.ID=Q},{_:d.LABEL=(0,M.EM)(3448,"Hide Notifications")},d);_t=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],_t);var It=(c=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(mt)),this.commandService=i}async run(t){this.commandService.executeCommand(st,t)}},{_:c.ID=st},{_:c.LABEL=(0,M.EM)(3449,"Expand Notification")},c);It=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],It);var yt=(u=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(bt)),this.commandService=i}async run(t){this.commandService.executeCommand(it,t)}},{_:u.ID=it},{_:u.LABEL=(0,M.EM)(3450,"Collapse Notification")},u);yt=(0,M.Jb)([(0,M.Yb)(2,M.Lb)],yt);var wt=(g=class extends M.Hb{constructor(t,e,i){super(t,e,M.Bb.asClassName(pt)),this.notification=i}},{_:g.ID="workbench.action.configureNotification"},{_:g.LABEL=(0,M.EM)(3451,"More Actions...")},g),Tt=(m=class extends M.Hb{constructor(t,e,i){super(t,e),this.clipboardService=i}run(t){return this.clipboardService.writeText(t.message.raw)}},{_:m.ID="workbench.action.copyNotificationMessage"},{_:m.LABEL=(0,M.EM)(3452,"Copy Text")},m);Tt=(0,M.Jb)([(0,M.Yb)(2,M.x)],Tt),(0,M.Xb)(),(0,M.TM)(),(0,M.Kb)(),(0,M.ox)(),(0,M.wj)(),(0,M.Bn)(),(0,M.Bd)(),(0,M.Fd)(),(0,M.AN)(),(0,M.pO)(),(0,M.Vb)(),(0,M.Vi)(),(0,M.Pp)(),(0,M.sj)(),(0,M.QO)(),(0,M.rr)(),(0,M.Wd)();var Rt,Dt,Vt=(b=class t{constructor(t){this.offsetHelper=this.createOffsetHelper(t)}createOffsetHelper(t){return t.appendChild((0,M.px)(".notification-offset-helper"))}getHeight(e){if(!e.expanded)return t.ROW_HEIGHT;let i=t.ROW_HEIGHT,s=this.computePreferredHeight(e);if(t.LINE_HEIGHT<s){i+=s-t.LINE_HEIGHT}return(e.source||(0,M.PN)(e.actions&&e.actions.primary))&&(i+=t.ROW_HEIGHT),i===t.ROW_HEIGHT&&e.collapse(!0),i}computePreferredHeight(t){let e=0;t.hasProgress||e++,t.canCollapse&&e++,(0,M.PN)(t.actions&&t.actions.secondary)&&e++,this.offsetHelper.style.width="".concat(450-(40+30*e-4*Math.max(e-1,0)),"px");let i=Mt.render(t.message);this.offsetHelper.appendChild(i);let s=Math.max(this.offsetHelper.offsetHeight,this.offsetHelper.scrollHeight);return(0,M.Ox)(this.offsetHelper),s}getTemplateId(t){if(t instanceof Z)return Pt.TEMPLATE_ID;throw Error("unknown element type: "+t)}},{_:b.ROW_HEIGHT=42},{_:b.LINE_HEIGHT=22},b),Mt=class{static render(t,e){let i=(0,M.px)("span");for(let s of t.linkedText.nodes)if("string"==typeof s)i.appendChild(document.createTextNode(s));else{let t=s.title;!t&&s.href.startsWith("command:")?t=(0,M.EM)(3493,"Click to execute command '{0}'",s.href.substr(8)):t||(t=s.href);let n=(0,M.px)("a",{href:s.href,title:t,tabIndex:0},s.label);if(e){let t=t=>{(0,M.hS)(t)&&M.gx.stop(t,!0),e.callback(s.href)},i=e.toDispose.add(new M.Np(n,M._x.CLICK)).event,o=e.toDispose.add(new M.Np(n,M._x.KEY_DOWN)).event,r=M.tj.chain(o,t=>t.filter(t=>{let e=new M.GT(t);return e.equals(M.KO.Space)||e.equals(M.KO.Enter)}));e.toDispose.add(M.cm.addTarget(n));let a=e.toDispose.add(new M.Np(n,M.sm.Tap)).event;M.tj.any(i,a,r)(t,null,e.toDispose)}i.appendChild(n)}return i}},Pt=(p=class{constructor(t,e,i,s){this.actionRunner=t,this.contextMenuService=e,this.instantiationService=i,this.notificationService=s}get templateId(){return Rt.TEMPLATE_ID}renderTemplate(t){let e=Object.create(null);e.toDispose=new M.gj,e.container=(0,M.px)(".notification-list-item"),e.mainRow=(0,M.px)(".notification-list-item-main-row"),e.icon=(0,M.px)(".notification-list-item-icon.codicon"),e.message=(0,M.px)(".notification-list-item-message");let i=this,s=(0,M.px)(".notification-list-item-toolbar-container");return e.toolbar=new M.Vr(s,{ariaLabel:(0,M.EM)(3494,"Notification Actions"),actionViewItemProvider:(t,s)=>{if(t instanceof wt)return e.toDispose.add(new M.Bi(t,{getActions(){var e;let s=[],n={id:t.notification.sourceId,label:t.notification.source};if((0,M.Vd)(n)){var o;let e=i.notificationService.getFilter(n)===M.zd.ERROR;s.push((0,M.qb)({id:n.id,label:e?(0,M.EM)(3495,"Turn On All Notifications from '{0}'",n.label):(0,M.EM)(3496,"Turn Off Info and Warning Notifications from '{0}'",n.label),run:()=>i.notificationService.setFilter((0,V.A)((0,V.A)({},n),{},{filter:e?M.zd.OFF:M.zd.ERROR}))})),(null===(o=t.notification.actions)||void 0===o||null===(o=o.secondary)||void 0===o?void 0:o.length)&&s.push(new M.Wb)}return Array.isArray(null===(e=t.notification.actions)||void 0===e?void 0:e.secondary)&&s.push(...t.notification.actions.secondary),s}},this.contextMenuService,(0,V.A)((0,V.A)({},s),{},{actionRunner:this.actionRunner,classNames:t.class})))},actionRunner:this.actionRunner}),e.toDispose.add(e.toolbar),e.detailsRow=(0,M.px)(".notification-list-item-details-row"),e.source=(0,M.px)(".notification-list-item-source"),e.buttonsContainer=(0,M.px)(".notification-list-item-buttons-container"),t.appendChild(e.container),e.container.appendChild(e.detailsRow),e.detailsRow.appendChild(e.source),e.detailsRow.appendChild(e.buttonsContainer),e.container.appendChild(e.mainRow),e.mainRow.appendChild(e.icon),e.mainRow.appendChild(e.message),e.mainRow.appendChild(s),e.progress=new M.zn(t,M.Ni),e.toDispose.add(e.progress),e.renderer=this.instantiationService.createInstance(Nt,e,this.actionRunner),e.toDispose.add(e.renderer),e}renderElement(t,e,i){i.renderer.setInput(t)}disposeTemplate(t){(0,M.Sj)(t.toDispose)}},{_:Rt=p},{_:p.TEMPLATE_ID="notification"},p);Pt=Rt=(0,M.Jb)([(0,M.Yb)(1,M.El),(0,M.Yb)(2,M.rx),(0,M.Yb)(3,M.Pd)],Pt);var Nt=(v=class extends M.mj{constructor(t,e,i,s,n,o,r){super(),this.template=t,this.actionRunner=e,this.openerService=i,this.instantiationService=s,this.keybindingService=n,this.contextMenuService=o,this.hoverService=r,this.inputDisposables=this._register(new M.gj),Dt.closeNotificationAction||(Dt.closeNotificationAction=s.createInstance(ft,ft.ID,ft.LABEL),Dt.expandNotificationAction=s.createInstance(It,It.ID,It.LABEL),Dt.collapseNotificationAction=s.createInstance(yt,yt.ID,yt.LABEL))}setInput(t){this.inputDisposables.clear(),this.render(t)}render(t){this.template.container.classList.toggle("expanded",t.expanded),this.inputDisposables.add((0,M.Sx)(this.template.container,M._x.MOUSE_UP,t=>{1===t.button&&M.gx.stop(t,!0)})),this.inputDisposables.add((0,M.Sx)(this.template.container,M._x.AUXCLICK,e=>{!t.hasProgress&&1===e.button&&(M.gx.stop(e,!0),t.close())})),this.renderSeverity(t);let e=this.inputDisposables.add(this.hoverService.setupManagedHover((0,M.ra)("mouse"),this.template.message,"")),i=this.renderMessage(t,e);this.renderSecondaryActions(t,i);let s=this.inputDisposables.add(this.hoverService.setupManagedHover((0,M.ra)("mouse"),this.template.source,""));this.renderSource(t,s),this.renderButtons(t),this.renderProgress(t),this.inputDisposables.add(t.onDidChangeContent(i=>{switch(i.kind){case j.SEVERITY:this.renderSeverity(t);break;case j.PROGRESS:this.renderProgress(t);break;case j.MESSAGE:this.renderMessage(t,e)}}))}renderSeverity(t){Dt.SEVERITIES.forEach(e=>{t.severity!==e&&this.template.icon.classList.remove(...M.Bb.asClassNameArray(this.toSeverityIcon(e)))}),this.template.icon.classList.add(...M.Bb.asClassNameArray(this.toSeverityIcon(t.severity)))}renderMessage(t,e){(0,M.Ox)(this.template.message),this.template.message.appendChild(Mt.render(t.message,{callback:t=>this.openerService.open(M.xO.parse(t),{allowCommands:!0}),toDispose:this.inputDisposables}));let i=t.canCollapse&&!t.expanded&&this.template.message.scrollWidth>this.template.message.clientWidth;return e.update(i?this.template.message.textContent+"":""),i}renderSecondaryActions(t,e){var i;let s=[];if((0,M.PN)(null===(i=t.actions)||void 0===i?void 0:i.secondary)){let e=this.instantiationService.createInstance(wt,wt.ID,wt.LABEL,t);s.push(e),this.inputDisposables.add(e)}let n=!1;t.canCollapse&&(t.expanded||t.source||e)&&(n=!0),n&&s.push(t.expanded?Dt.collapseNotificationAction:Dt.expandNotificationAction),t.hasProgress||s.push(Dt.closeNotificationAction),this.template.toolbar.clear(),this.template.toolbar.context=t,s.forEach(t=>this.template.toolbar.push(t,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(t)}))}renderSource(t,e){t.expanded&&t.source?(this.template.source.textContent=(0,M.EM)(3497,"Source: {0}",t.source),e.update(t.source)):(this.template.source.textContent="",e.update(""))}renderButtons(t){(0,M.Ox)(this.template.buttonsContainer);let e=t.actions?t.actions.primary:void 0;if(t.expanded&&(0,M.PN)(e)){let i=this,s=this.inputDisposables.add(new class extends M.Ub{async runAction(e){i.actionRunner.run(e,t),(!(e instanceof J)||!e.keepOpen)&&t.close()}}),n=this.inputDisposables.add(new M.Kn(this.template.buttonsContainer));for(let t=0;t<e.length;t++){let i=e[t],o=(0,V.A)({title:!0,secondary:t>0},M.Ti),r=i instanceof J?i.menu:void 0,a=this.inputDisposables.add(r?n.addButtonWithDropdown((0,V.A)((0,V.A)({},o),{},{contextMenuProvider:this.contextMenuService,actions:r,actionRunner:s})):n.addButton(o));a.label=i.label,this.inputDisposables.add(a.onDidClick(t=>{t&&M.gx.stop(t,!0),s.run(i)}))}}}renderProgress(t){if(!t.hasProgress)return void this.template.progress.stop().hide();let e=t.progress.state;e.infinite?this.template.progress.infinite().show():"number"==typeof e.total||"number"==typeof e.worked?("number"==typeof e.total&&!this.template.progress.hasTotal()&&this.template.progress.total(e.total),"number"==typeof e.worked&&this.template.progress.setWorked(e.worked).show()):this.template.progress.done().hide()}toSeverityIcon(t){switch(t){case M.Ud.Warning:return M.fO.warning;case M.Ud.Error:return M.fO.error}return M.fO.info}getKeybindingLabel(t){let e=this.keybindingService.lookupKeybinding(t.id);return e?e.getLabel():null}},{_:Dt=v},{_:v.SEVERITIES=[M.Ud.Info,M.Ud.Warning,M.Ud.Error]},v);Nt=Dt=(0,M.Jb)([(0,M.Yb)(2,M.ml),(0,M.Yb)(3,M.rx),(0,M.Yb)(4,M.Ed),(0,M.Yb)(5,M.El),(0,M.Yb)(6,M.nr)],Nt),(0,M.vE)(),(0,M.Xb)(),(0,M.TM)(),(0,M.oS)(),(0,M.Ct)(),(0,M.ox)(),(0,M.Ol)(),(0,B.tr)(),(0,M.wj)(),(0,M.Dd)(),(0,M.Bd)(),(0,M.bE)({});var xt=class extends M.mj{constructor(t,e,i,s){super(),this.container=t,this.options=e,this.instantiationService=i,this.contextMenuService=s,this.viewModel=[]}show(){this.isVisible||(this.isVisible=(this.list||this.createNotificationsList(),!0))}createNotificationsList(){this.listContainer=(0,M.px)(".notifications-list-container");let t=this._register(this.instantiationService.createInstance(dt)),e=this.instantiationService.createInstance(Pt,t),i=this.listDelegate=new Vt(this.listContainer),s=this.options,n=this.list=this._register(this.instantiationService.createInstance(M.ot,"NotificationsList",this.listContainer,i,[e],(0,V.A)((0,V.A)({},s),{},{setRowLineHeight:!1,horizontalScrolling:!1,overrideStyles:{listBackground:P.Ot},accessibilityProvider:this.instantiationService.createInstance(Bt,s)}))),o=this._register(this.instantiationService.createInstance(Tt,Tt.ID,Tt.LABEL));this._register(n.onContextMenu(e=>{e.element&&this.contextMenuService.showContextMenu({getAnchor:()=>e.anchor,getActions:()=>[o],getActionsContext:()=>e.element,actionRunner:t})})),this._register(n.onMouseDblClick(t=>t.element.toggle()));let r=this._register((0,M.US)(n.getHTMLElement()));this._register(r.onDidBlur(()=>{(0,M.$x)(this.listContainer).document.hasFocus()&&n.setFocus([])})),B.jn.bindTo(n.contextKeyService),this._register(n.onDidChangeSelection(t=>{t.indexes.length>0&&n.setSelection([])})),this.container.appendChild(this.listContainer)}updateNotificationsList(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[s,n]=(0,M.HM)(this.list,this.listContainer),o=(0,M.uS)(n),r=s.getFocus()[0],a=this.viewModel[r],l=null;if("number"==typeof r&&(l=s.getRelativeTop(r)),this.viewModel.splice(t,e,...i),s.splice(t,e,i),s.layout(),0===this.viewModel.length)this.hide();else if("number"==typeof r){let t=0;if(a){let e=this.viewModel.indexOf(a);-1===e&&(e=r-1),e<this.viewModel.length&&e>=0&&(t=e)}"number"==typeof l&&s.reveal(t,l),s.setFocus([t])}this.isVisible&&o&&s.domFocus()}updateNotificationHeight(t){let e=this.viewModel.indexOf(t);if(-1===e)return;let[i,s]=(0,M.HM)(this.list,this.listDelegate);i.updateElementHeight(e,s.getHeight(t)),i.layout()}hide(){!this.isVisible||!this.list||(this.isVisible=!1,this.list.splice(0,this.viewModel.length),this.viewModel=[])}focusFirst(){this.list&&(this.list.focusFirst(),this.list.domFocus())}hasFocus(){return!!this.listContainer&&(0,M.uS)(this.listContainer)}layout(t,e){this.listContainer&&this.list&&(this.listContainer.style.width="".concat(t,"px"),"number"==typeof e&&(this.list.getHTMLElement().style.maxHeight="".concat(e,"px")),this.list.layout())}dispose(){this.hide(),super.dispose()}};xt=(0,M.Jb)([(0,M.Yb)(2,M.rx),(0,M.Yb)(3,M.El)],xt);var Lt,Bt=class{constructor(t,e,i){this._options=t,this._keybindingService=e,this._configurationService=i}getAriaLabel(t){var e;let i,s=null===(e=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===e?void 0:e.getAriaLabel();return this._configurationService.getValue("accessibility.verbosity.notification")&&(i=s?(0,M.EM)(3472,"Inspect the response in the accessible view with {0}",s):(0,M.EM)(3473,"Inspect the response in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding")),t.source?(0,M.Hd)(i?(0,M.EM)(3476,"{0}, source: {1}, notification, {2}",t.message.raw,t.source,i):(0,M.EM)(3477,"{0}, source: {1}, notification",t.message.raw,t.source),t.severity):(0,M.Hd)(i?(0,M.EM)(3474,"{0}, notification, {1}",t.message.raw,i):(0,M.EM)(3475,"{0}, notification",t.message.raw),t.severity)}getWidgetAriaLabel(){var t;return null!==(t=this._options.widgetAriaLabel)&&void 0!==t?t:(0,M.EM)(3478,"Notifications List")}getRole(){return"dialog"}};Bt=(0,M.Jb)([(0,M.Yb)(1,M.Ed),(0,M.Yb)(2,M.r_)],Bt),(0,M.vE)(),(0,M.Xb)(),(0,P.er)(),(0,M.sj)(),(0,M.ox)(),(0,M.oS)(),(0,O.G)(),(0,M.TM)(),(0,M.Ur)(),(0,M.Kb)(),(0,M.Dd)(),(0,M.GM)(),(0,B.tr)(),(0,M.Bd)(),(0,M.Fd)(),(0,M.Ol)(),(0,M.Vi)(),(0,P.pi)(),(0,M.f)(),(0,M.bE)({}),(0,M.bE)(G);var Ot=(f=class extends M.ap{constructor(t,e,i,s,n,o,r,a,l,h,d){super(i),this.container=t,this.model=e,this.instantiationService=s,this.layoutService=n,this.editorGroupService=r,this.keybindingService=a,this.notificationService=l,this.accessibilitySignalService=h,this.contextMenuService=d,this._onDidChangeVisibility=this._register(new M.ej),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.notificationsCenterVisibleContextKey=B.Mn.bindTo(o),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t))),this._register(this.layoutService.onDidLayoutMainContainer(t=>this.layout(M.mx.lift(t)))),this._register(this.notificationService.onDidChangeFilter(()=>this.onDidChangeFilter()))}onDidChangeFilter(){this.notificationService.getFilter()===M.zd.ERROR&&this.hide()}get isVisible(){return!!this._isVisible}show(){if(this._isVisible){let t=(0,M.UM)(this.notificationsList);return t.show(),void t.focusFirst()}this.notificationsCenterContainer||this.create(),this.updateTitle();let[t,e]=(0,M.HM)(this.notificationsList,this.notificationsCenterContainer);this._isVisible=!0,e.classList.add("visible"),t.show(),this.layout(this.workbenchDimensions),t.updateNotificationsList(0,0,this.model.notifications),t.focusFirst(),this.updateStyles(),this.model.notifications.forEach(t=>t.updateVisibility(!0)),this.notificationsCenterVisibleContextKey.set(!0),this._onDidChangeVisibility.fire()}updateTitle(){let[t,e]=(0,M.HM)(this.notificationsCenterTitle,this.clearAllAction);0===this.model.notifications.length?(t.textContent=(0,M.EM)(3456,"No new notifications"),e.enabled=!1):(t.textContent=(0,M.EM)(3457,"Notifications"),e.enabled=this.model.notifications.some(t=>!t.hasProgress))}create(){this.notificationsCenterContainer=(0,M.px)(".notifications-center"),this.notificationsCenterHeader=(0,M.px)(".notifications-center-header"),this.notificationsCenterContainer.appendChild(this.notificationsCenterHeader),this.notificationsCenterTitle=(0,M.px)("span.notifications-center-header-title"),this.notificationsCenterHeader.appendChild(this.notificationsCenterTitle);let t=(0,M.px)(".notifications-center-header-toolbar");this.notificationsCenterHeader.appendChild(t);let e=this._register(this.instantiationService.createInstance(dt)),i=this,s=this._register(new M.Vr(t,{ariaLabel:(0,M.EM)(3458,"Notification Center Actions"),actionRunner:e,actionViewItemProvider:(t,s)=>{if(t.id===St.ID)return this._register(this.instantiationService.createInstance(M.Bi,t,{getActions(){let t=[(0,M.qb)({id:Et.ID,label:i.notificationService.getFilter()===M.zd.OFF?(0,M.EM)(3459,"Enable Do Not Disturb Mode"):(0,M.EM)(3460,"Disable Do Not Disturb Mode"),run:()=>i.notificationService.setFilter(i.notificationService.getFilter()===M.zd.OFF?M.zd.ERROR:M.zd.OFF)})],e=i.notificationService.getFilters().sort((t,e)=>t.label.localeCompare(e.label));for(let s of e.slice(0,Lt.MAX_NOTIFICATION_SOURCES))1===t.length&&t.push(new M.Wb),t.push((0,M.qb)({id:"".concat(Et.ID,".").concat(s.id),label:s.label,checked:s.filter!==M.zd.ERROR,run:()=>i.notificationService.setFilter((0,V.A)((0,V.A)({},s),{},{filter:s.filter===M.zd.ERROR?M.zd.OFF:M.zd.ERROR}))}));return e.length>Lt.MAX_NOTIFICATION_SOURCES&&(t.push(new M.Wb),t.push(i._register(i.instantiationService.createInstance(Ct,Ct.ID,(0,M.EM)(3461,"More\u2026"))))),t}},this.contextMenuService,(0,V.A)((0,V.A)({},s),{},{actionRunner:e,classNames:t.class,keybindingProvider:t=>this.keybindingService.lookupKeybinding(t.id)})))}}));this.clearAllAction=this._register(this.instantiationService.createInstance(At,At.ID,At.LABEL)),s.push(this.clearAllAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.clearAllAction)}),this.configureDoNotDisturbAction=this._register(this.instantiationService.createInstance(St,St.ID,St.LABEL)),s.push(this.configureDoNotDisturbAction,{icon:!0,label:!1});let n=this._register(this.instantiationService.createInstance(_t,_t.ID,_t.LABEL));s.push(n,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(n)}),this.notificationsList=this.instantiationService.createInstance(xt,this.notificationsCenterContainer,{widgetAriaLabel:(0,M.EM)(3462,"Notifications Center")}),this.container.appendChild(this.notificationsCenterContainer)}getKeybindingLabel(t){let e=this.keybindingService.lookupKeybinding(t.id);return e?e.getLabel():null}onDidChangeNotification(t){if(!this._isVisible)return;let e=!1,[i,s]=(0,M.HM)(this.notificationsList,this.notificationsCenterContainer);switch(t.kind){case z.ADD:i.updateNotificationsList(t.index,0,[t.item]),t.item.updateVisibility(!0);break;case z.CHANGE:switch(t.detail){case j.ACTIONS:i.updateNotificationsList(t.index,1,[t.item]);break;case j.MESSAGE:t.item.expanded&&i.updateNotificationHeight(t.item)}break;case z.EXPAND_COLLAPSE:i.updateNotificationsList(t.index,1,[t.item]);break;case z.REMOVE:e=(0,M.uS)(s),i.updateNotificationsList(t.index,1),t.item.updateVisibility(!1)}this.updateTitle(),0===this.model.notifications.length&&(this.hide(),e&&this.editorGroupService.activeGroup.focus())}hide(){if(!this._isVisible||!this.notificationsCenterContainer||!this.notificationsList)return;let t=(0,M.uS)(this.notificationsCenterContainer);this._isVisible=!1,this.notificationsCenterContainer.classList.remove("visible"),this.notificationsList.hide(),this.model.notifications.forEach(t=>t.updateVisibility(!1)),this.notificationsCenterVisibleContextKey.set(!1),this._onDidChangeVisibility.fire(),t&&this.editorGroupService.activeGroup.focus()}updateStyles(){if(this.notificationsCenterContainer&&this.notificationsCenterHeader){let t=this.getColor(M.ag);this.notificationsCenterContainer.style.boxShadow=t?"0 0 8px 2px ".concat(t):"";let e=this.getColor(P.kt);this.notificationsCenterContainer.style.border=e?"1px solid ".concat(e):"";let i=this.getColor(P.jt);this.notificationsCenterHeader.style.color=null!==i&&void 0!==i?i:"";let s=this.getColor(P.At);this.notificationsCenterHeader.style.background=null!==s&&void 0!==s?s:""}}layout(t){if(this.workbenchDimensions=t,this._isVisible&&this.notificationsCenterContainer){let t=Lt.MAX_DIMENSIONS.width,e=Lt.MAX_DIMENSIONS.height,i=t,s=e;this.workbenchDimensions&&(i=this.workbenchDimensions.width,i-=16,s=this.workbenchDimensions.height-35,this.layoutService.isVisible(B.V.STATUSBAR_PART,M.wE)&&(s-=22),this.layoutService.isVisible(B.V.TITLEBAR_PART,M.wE)&&(s-=22),s-=24),(0,M.UM)(this.notificationsList).layout(Math.min(t,i),Math.min(e,s))}}clearAll(){this.hide();for(let t of[...this.model.notifications])t.hasProgress||t.close(),this.accessibilitySignalService.playSignal(P.fi.clear)}},{_:Lt=f},{_:f.MAX_DIMENSIONS=new M.mx(450,400)},{_:f.MAX_NOTIFICATION_SOURCES=10},f);Ot=Lt=(0,M.Jb)([(0,M.Yb)(2,M.Yd),(0,M.Yb)(3,M.rx),(0,M.Yb)(4,B.ot),(0,M.Yb)(5,M.Nb),(0,M.Yb)(6,O.W),(0,M.Yb)(7,M.Ed),(0,M.Yb)(8,M.Pd),(0,M.Yb)(9,M.d),(0,M.Yb)(10,M.El)],Ot),(0,M.Vn)(),(0,M.e_)(),(0,M.TM)(),(0,M.wj)(),(0,M.Ap)(),(0,M.Bd)(),(0,M.sj)(),(0,M.Wd)();var kt=class extends M.mj{constructor(t){super(),this.model=t;for(let e of t.notifications)this.triggerAriaAlert(e);this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t)))}onDidChangeNotification(t){t.kind===z.ADD&&(this.triggerAriaAlert(t.item),t.item.severity===M.Ud.Error&&(t.item.message.original instanceof Error?console.error(t.item.message.original):console.error((0,M.Mp)(t.item.message.linkedText.toString(),!0))))}triggerAriaAlert(t){if(t.priority===M.Rd.SILENT)return;let e=t.onDidChangeContent(e=>{e.kind===j.MESSAGE&&this.doTriggerAriaAlert(t)});M.tj.once(t.onDidClose)(()=>e.dispose()),this.doTriggerAriaAlert(t)}doTriggerAriaAlert(t){let e;e=t.severity===M.Ud.Error?(0,M.EM)(3453,"Error: {0}",t.message.linkedText.toString()):t.severity===M.Ud.Warning?(0,M.EM)(3454,"Warning: {0}",t.message.linkedText.toString()):(0,M.EM)(3455,"Info: {0}",t.message.linkedText.toString()),(0,M.$g)(e)}};(0,M.Xb)(),(0,x.kb)(),(0,x.Tb)(),(0,M.wj)(),(0,M.TM)(),(0,M.Bd)(),(0,M.Fd)();var Ht=class extends M.mj{constructor(t,e,i){super(),this.model=t,this.statusbarService=e,this.notificationService=i,this.newNotificationsCount=0,this.isNotificationsCenterVisible=!1,this.isNotificationsToastsVisible=!1,this.updateNotificationsCenterStatusItem(),t.statusMessage&&this.doSetStatusMessage(t.statusMessage),this.registerListeners()}registerListeners(){this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t))),this._register(this.model.onDidChangeStatusMessage(t=>this.onDidChangeStatusMessage(t))),this._register(this.notificationService.onDidChangeFilter(()=>this.updateNotificationsCenterStatusItem()))}onDidChangeNotification(t){this.isNotificationsCenterVisible||(t.kind===z.ADD?this.newNotificationsCount++:t.kind===z.REMOVE&&this.newNotificationsCount>0&&this.newNotificationsCount--),this.updateNotificationsCenterStatusItem()}updateNotificationsCenterStatusItem(){let t=0;if(!this.isNotificationsCenterVisible&&!this.isNotificationsToastsVisible)for(let i of this.model.notifications)i.hasProgress&&t++;let e={name:(0,M.EM)(3479,"Notifications"),text:"".concat(t>0||this.newNotificationsCount>0?"$(bell-dot)":"$(bell)"),ariaLabel:(0,M.EM)(3479,"Notifications"),command:this.isNotificationsCenterVisible?Q:$,tooltip:this.getTooltip(t),showBeak:this.isNotificationsCenterVisible};this.notificationService.getFilter()===M.zd.ERROR&&(e=(0,V.A)((0,V.A)({},e),{},{text:"".concat(t>0||this.newNotificationsCount>0?"$(bell-slash-dot)":"$(bell-slash)"),ariaLabel:(0,M.EM)(3480,"Do Not Disturb"),tooltip:(0,M.EM)(3481,"Do Not Disturb Mode is Enabled")})),this.notificationsCenterStatusItem?this.notificationsCenterStatusItem.update(e):this.notificationsCenterStatusItem=this.statusbarService.addEntry(e,"status.notifications",x.Db.RIGHT,-1/0)}getTooltip(t){return this.isNotificationsCenterVisible?(0,M.EM)(3482,"Hide Notifications"):0===this.model.notifications.length?(0,M.EM)(3483,"No Notifications"):0===t?0===this.newNotificationsCount?(0,M.EM)(3484,"No New Notifications"):1===this.newNotificationsCount?(0,M.EM)(3485,"1 New Notification"):(0,M.EM)(3486,"{0} New Notifications",this.newNotificationsCount):0===this.newNotificationsCount?(0,M.EM)(3487,"No New Notifications ({0} in progress)",t):1===this.newNotificationsCount?(0,M.EM)(3488,"1 New Notification ({0} in progress)",t):(0,M.EM)(3489,"{0} New Notifications ({1} in progress)",this.newNotificationsCount,t)}update(t,e){let i=!1;this.isNotificationsCenterVisible!==t&&(this.isNotificationsCenterVisible=t,this.newNotificationsCount=0,i=!0),this.isNotificationsToastsVisible!==e&&(this.isNotificationsToastsVisible=e,i=!0),i&&this.updateNotificationsCenterStatusItem()}onDidChangeStatusMessage(t){let e=t.item;switch(t.kind){case U.ADD:this.doSetStatusMessage(e);break;case U.REMOVE:this.currentStatusMessage&&this.currentStatusMessage[0]===e&&((0,M.Sj)(this.currentStatusMessage[1]),this.currentStatusMessage=void 0)}}doSetStatusMessage(t){let e=t.message,i=t.options&&"number"==typeof t.options.showAfter?t.options.showAfter:0,s=t.options&&"number"==typeof t.options.hideAfter?t.options.hideAfter:-1;this.currentStatusMessage&&(0,M.Sj)(this.currentStatusMessage[1]);let n,o,r=setTimeout(()=>{n=this.statusbarService.addEntry({name:(0,M.EM)(3490,"Status Message"),text:e,ariaLabel:e},"status.message",x.Db.LEFT,-1/0),r=void 0},i),a={dispose:()=>{var t;r&&clearTimeout(r),o&&clearTimeout(o),null===(t=n)||void 0===t||t.dispose()}};s>0&&(o=setTimeout(()=>a.dispose(),s)),this.currentStatusMessage=[t,a]}};Ht=(0,M.Jb)([(0,M.Yb)(1,x.wb),(0,M.Yb)(2,M.Pd)],Ht);var Yt,zt;(0,M.vE)(),(0,M.Xb)(),(0,M.TM)(),(0,M.wj)(),(0,M.oS)(),(0,M.ox)(),(0,M.sj)(),(0,B.W)(),(0,B.st)(),(0,P.er)(),(0,M.sp)(),(0,M.Xd)(),(0,M.jg)(),(0,M.vg)(),(0,M.rh)(),(0,M.Qh)(),(0,M.Vm)(),(0,M.wm)(),(0,M.Sm)(),(0,M.ih)(),(0,M.cg)(),(0,M.vm)(),(0,M._m)(),(0,O.G)(),(0,M.Pb)(),(0,M.Bd)(),(0,M.XA)(),(0,P.z)(),(0,M.GM)(),(0,B.tr)(),(0,M.SE)(),(0,M.Wd)(),(0,M.bE)({}),function(t){t[t.HIDDEN_OR_VISIBLE=0]="HIDDEN_OR_VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.VISIBLE=2]="VISIBLE"}(zt||(zt={}));var Ft,Ut=(A=class extends M.ap{get isVisible(){return!!this._isVisible}constructor(t,e,i,s,n,o,r,a,l){super(n),this.container=t,this.model=e,this.instantiationService=i,this.layoutService=s,this.editorGroupService=o,this.lifecycleService=a,this.hostService=l,this._onDidChangeVisibility=this._register(new M.ej),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._isVisible=!1,this.mapNotificationToToast=new Map,this.mapNotificationToDisposable=new Map,this.addedToastsIntervalCounter=new M.ww(Yt.SPAM_PROTECTION.interval),this.notificationsToastsVisibleContextKey=B.Nn.bindTo(r),this.registerListeners()}registerListeners(){this._register(this.layoutService.onDidLayoutMainContainer(t=>this.layout(M.mx.lift(t)))),this.lifecycleService.when(O.M.Restored).then(()=>{this.model.notifications.forEach(t=>this.addToast(t)),this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t)))}),this._register(this.model.onDidChangeFilter(t=>{let{global:e,sources:i}=t;if(e===M.zd.ERROR)this.hide();else if(i)for(let[s]of this.mapNotificationToToast)"string"==typeof s.sourceId&&i.get(s.sourceId)===M.zd.ERROR&&s.severity!==M.Ud.Error&&s.priority!==M.Rd.URGENT&&this.removeToast(s)}))}onDidChangeNotification(t){switch(t.kind){case z.ADD:return this.addToast(t.item);case z.REMOVE:return this.removeToast(t.item)}}addToast(t){if(this.isNotificationsCenterVisible||t.priority===M.Rd.SILENT)return;if(t.priority===M.Rd.OPTIONAL){let t=(0,M.zx)();if((0,M._S)(t)&&(0,M.fS)(t)&&(0,M.mS)(t,this.layoutService.mainContainer))return}if(this.addedToastsIntervalCounter.increment()>Yt.SPAM_PROTECTION.limit)return;let e=new M.gj;this.mapNotificationToDisposable.set(t,e),e.add((0,M.IS)((0,M.$x)(this.container),()=>this.doAddToast(t,e)))}doAddToast(t,e){let i=this.notificationsToastsContainer;i||(i=this.notificationsToastsContainer=(0,M.px)(".notifications-toasts"),this.container.appendChild(i)),i.classList.add("visible");let s=(0,M.px)(".notification-toast-container"),n=i.firstChild;n?i.insertBefore(s,n):i.appendChild(s);let o=(0,M.px)(".notification-toast");s.appendChild(o);let r=this.instantiationService.createInstance(xt,o,{verticalScrollMode:M.YA.Hidden,widgetAriaLabel:t.source?(0,M.Hd)((0,M.EM)(3492,"{0}, source: {1}, notification",t.message.raw,t.source),t.severity):(0,M.Hd)((0,M.EM)(3491,"{0}, notification",t.message.raw),t.severity)});e.add(r);let a={item:t,list:r,container:s,toast:o};this.mapNotificationToToast.set(t,a),e.add((0,M.kj)(()=>this.updateToastVisibility(a,!1))),r.show();let l=this.computeMaxDimensions();this.layoutLists(l.width),r.updateNotificationsList(0,0,[t]),this.layoutContainer(l.height),e.add(t.onDidChangeExpansion(()=>{r.updateNotificationsList(0,1,[t])})),e.add(t.onDidChangeContent(e=>{switch(e.kind){case j.ACTIONS:r.updateNotificationsList(0,1,[t]);break;case j.MESSAGE:t.expanded&&r.updateNotificationHeight(t)}})),M.tj.once(t.onDidClose)(()=>{this.removeToast(t)}),this.purgeNotification(t,s,r,e),this.updateStyles(),this.notificationsToastsVisibleContextKey.set(!0),o.classList.add("notification-fade-in"),e.add((0,M.Sx)(o,"transitionend",()=>{o.classList.remove("notification-fade-in"),o.classList.add("notification-fade-in-done")})),t.updateVisibility(!0),this._isVisible||(this._isVisible=!0,this._onDidChangeVisibility.fire())}purgeNotification(t,e,i,s){let n=!1;s.add((0,M.Sx)(e,M._x.MOUSE_OVER,()=>n=!0)),s.add((0,M.Sx)(e,M._x.MOUSE_OUT,()=>n=!1));let o,r,a=()=>{o=setTimeout(()=>{this.hostService.hasFocus?t.sticky||i.hasFocus()||n?a():this.removeToast(t):r||(r=this.hostService.onDidChangeFocus(t=>{t&&a()}),s.add(r))},Yt.PURGE_TIMEOUT[t.severity])};a(),s.add((0,M.kj)(()=>clearTimeout(o)))}removeToast(t){let e=!1,i=this.mapNotificationToToast.get(t);i&&((0,M.uS)(i.container)&&(e=!(this.focusNext()||this.focusPrevious())),this.mapNotificationToToast.delete(t));let s=this.mapNotificationToDisposable.get(t);s&&((0,M.Sj)(s),this.mapNotificationToDisposable.delete(t)),this.mapNotificationToToast.size>0?this.layout(this.workbenchDimensions):(this.doHide(),e&&this.editorGroupService.activeGroup.focus())}removeToasts(){this.mapNotificationToToast.clear(),this.mapNotificationToDisposable.forEach(t=>(0,M.Sj)(t)),this.mapNotificationToDisposable.clear(),this.doHide()}doHide(){var t;null!==(t=this.notificationsToastsContainer)&&void 0!==t&&t.classList.remove("visible"),this.notificationsToastsVisibleContextKey.set(!1),this._isVisible&&(this._isVisible=!1,this._onDidChangeVisibility.fire())}hide(){let t=!!this.notificationsToastsContainer&&(0,M.uS)(this.notificationsToastsContainer);this.removeToasts(),t&&this.editorGroupService.activeGroup.focus()}focus(){let t=this.getToasts(zt.VISIBLE);return t.length>0&&(t[0].list.focusFirst(),!0)}focusNext(){let t=this.getToasts(zt.VISIBLE);for(let e=0;e<t.length;e++)if(t[e].list.hasFocus()){let i=t[e+1];if(i)return i.list.focusFirst(),!0;break}return!1}focusPrevious(){let t=this.getToasts(zt.VISIBLE);for(let e=0;e<t.length;e++)if(t[e].list.hasFocus()){let i=t[e-1];if(i)return i.list.focusFirst(),!0;break}return!1}focusFirst(){let t=this.getToasts(zt.VISIBLE)[0];return!!t&&(t.list.focusFirst(),!0)}focusLast(){let t=this.getToasts(zt.VISIBLE);return t.length>0&&(t[t.length-1].list.focusFirst(),!0)}update(t){this.isNotificationsCenterVisible!==t&&(this.isNotificationsCenterVisible=t,this.isNotificationsCenterVisible&&this.removeToasts())}updateStyles(){this.mapNotificationToToast.forEach(t=>{let{toast:e}=t,i=this.getColor(P.Ot);e.style.background=i||"";let s=this.getColor(M.ag);e.style.boxShadow=s?"0 0 8px 2px ".concat(s):"";let n=this.getColor(P.Mt);e.style.border=n?"1px solid ".concat(n):""})}getToasts(t){let e=[];return this.mapNotificationToToast.forEach(i=>{switch(t){case zt.HIDDEN_OR_VISIBLE:e.push(i);break;case zt.HIDDEN:this.isToastInDOM(i)||e.push(i);break;case zt.VISIBLE:this.isToastInDOM(i)&&e.push(i)}}),e.reverse()}layout(t){this.workbenchDimensions=t;let e=this.computeMaxDimensions();e.height&&this.layoutContainer(e.height),this.layoutLists(e.width)}computeMaxDimensions(){let t,e=Yt.MAX_WIDTH,i=e;return this.workbenchDimensions&&(i=this.workbenchDimensions.width,i-=16,t=this.workbenchDimensions.height,this.layoutService.isVisible(B.V.STATUSBAR_PART,M.wE)&&(t-=22),this.layoutService.isVisible(B.V.TITLEBAR_PART,M.wE)&&(t-=22),t-=24),new M.mx(Math.min(e,i),null!==t&&void 0!==t?t:0)}layoutLists(t){this.mapNotificationToToast.forEach(e=>{let{list:i}=e;return i.layout(t)})}layoutContainer(t){let e=t,i=Math.round(.618*t),s=0;for(let n of this.getToasts(zt.HIDDEN_OR_VISIBLE)){n.container.style.opacity="0",this.updateToastVisibility(n,!0),e-=n.container.offsetHeight,i-=n.container.offsetHeight;let t=!1;s===Yt.MAX_NOTIFICATIONS?t=!1:(0===s&&e>=0||s>0&&i>=0)&&(t=!0),this.updateToastVisibility(n,t),n.container.style.opacity="",t&&s++}}updateToastVisibility(t,e){if(this.isToastInDOM(t)===e)return;let i=(0,M.UM)(this.notificationsToastsContainer);e?i.appendChild(t.container):t.container.remove(),t.item.updateVisibility(e)}isToastInDOM(t){return!!t.container.parentElement}},{_:Yt=A},{_:A.MAX_WIDTH=450},{_:A.MAX_NOTIFICATIONS=3},{_:A.PURGE_TIMEOUT={[M.Ud.Info]:1e4,[M.Ud.Warning]:12e3,[M.Ud.Error]:15e3}},{_:A.SPAM_PROTECTION={interval:800,limit:A.MAX_NOTIFICATIONS}},A);Ut=Yt=(0,M.Jb)([(0,M.Yb)(2,M.rx),(0,M.Yb)(3,B.ot),(0,M.Yb)(4,M.Yd),(0,M.Yb)(5,O.W),(0,M.Yb)(6,M.Nb),(0,M.Yb)(7,O.R),(0,M.Yb)(8,P.R)],Ut),(0,M.b)(),(0,M.au)(),(0,P.Za)(),(0,P.eo)(),(0,P.io)(),(0,M.wj)(),(0,M.sj)(),(0,M.oS)(),(0,B.W)(),(0,M.es)(),(0,M.Ma)(),(0,M.U_)(),(0,M.i_)(),(0,L.kn)(),(0,O.L)(),(0,O.z)(),(0,P.z)(),(0,k.n)(),(0,O.Q)(),(0,O.G)(),(0,L.pt)(),(0,x.Tb)(),(0,N.o)(),(0,M.AN)(),(0,M.GM)(),(0,M.Bd)(),(0,M.Fd)(),(0,M.Xd)(),(0,P.er)(),(0,M.SO)(),(0,x.xf)(),(0,x.yb)(),(0,B.Nt)(),(0,M.gb)(),(0,M.Ww)(),(0,L.zn)(),(0,B.kt)(),(0,M.yb)(),(0,L.Vn)(),(0,M.SE)(),(0,M.Wg)(),(0,M.tn)(),function(t){t.SIDEBAR_HIDDEN="nosidebar",t.MAIN_EDITOR_AREA_HIDDEN="nomaineditorarea",t.PANEL_HIDDEN="nopanel",t.AUXILIARYBAR_HIDDEN="noauxiliarybar",t.STATUSBAR_HIDDEN="nostatusbar",t.FULLSCREEN="fullscreen",t.MAXIMIZED="maximized",t.WINDOW_BORDER="border"}(Ft||(Ft={}));var Gt=[B.z.ACTIVITY_BAR_LOCATION,B.z.COMMAND_CENTER,"chat.commandCenter.enabled","workbench.navigationControl.enabled","workbench.experimental.share.enabled",B.z.EDITOR_ACTIONS_LOCATION,B.z.LAYOUT_ACTIONS,M.ci.MenuBarVisibility,M.li.TITLE_BAR_STYLE,M.li.CUSTOM_TITLE_BAR_VISIBILITY],Wt=new M.mx(M.oi.width,M.oi.height),jt=new M.mx(M.si.width,M.si.height),Kt=class extends M.mj{get activeContainer(){return this.getContainerFromDocument((0,M.Rx)())}get containers(){let t=[];for(let{window:e}of(0,M.nS)())t.push(this.getContainerFromDocument(e.document));return t}getContainerFromDocument(t){return t===this.mainContainer.ownerDocument?this.mainContainer:t.body.getElementsByClassName("monaco-workbench")[0]}whenContainerStylesLoaded(t){return this.containerStylesLoaded.get(t.vscodeWindowId)}get mainContainerDimension(){return this._mainContainerDimension}get activeContainerDimension(){return this.getContainerDimension(this.activeContainer)}getContainerDimension(t){return t===this.mainContainer?this.mainContainerDimension:(0,M.Vx)(t)}get mainContainerOffset(){return this.computeContainerOffset(M.wE)}get activeContainerOffset(){return this.computeContainerOffset((0,M.$x)(this.activeContainer))}computeContainerOffset(t){let e=0,i=0;this.isVisible(B.V.BANNER_PART)&&(e=this.getPart(B.V.BANNER_PART).maximumHeight,i=e);let s=this.isVisible(B.V.TITLEBAR_PART,t);return s&&(e+=this.getPart(B.V.TITLEBAR_PART).maximumHeight,i=e),s&&!1!==this.configurationService.getValue(B.z.COMMAND_CENTER)&&(i=6),{top:e,quickPickTop:i}}constructor(t,e){super(),this.parent=t,this.layoutOptions=e,this._onDidChangeZenMode=this._register(new M.ej),this.onDidChangeZenMode=this._onDidChangeZenMode.event,this._onDidChangeMainEditorCenteredLayout=this._register(new M.ej),this.onDidChangeMainEditorCenteredLayout=this._onDidChangeMainEditorCenteredLayout.event,this._onDidChangePanelAlignment=this._register(new M.ej),this.onDidChangePanelAlignment=this._onDidChangePanelAlignment.event,this._onDidChangeWindowMaximized=this._register(new M.ej),this.onDidChangeWindowMaximized=this._onDidChangeWindowMaximized.event,this._onDidChangePanelPosition=this._register(new M.ej),this.onDidChangePanelPosition=this._onDidChangePanelPosition.event,this._onDidChangePartVisibility=this._register(new M.ej),this.onDidChangePartVisibility=this._onDidChangePartVisibility.event,this._onDidChangeNotificationsVisibility=this._register(new M.ej),this.onDidChangeNotificationsVisibility=this._onDidChangeNotificationsVisibility.event,this._onDidChangeAuxiliaryBarMaximized=this._register(new M.ej),this.onDidChangeAuxiliaryBarMaximized=this._onDidChangeAuxiliaryBarMaximized.event,this._onDidLayoutMainContainer=this._register(new M.ej),this.onDidLayoutMainContainer=this._onDidLayoutMainContainer.event,this._onDidLayoutActiveContainer=this._register(new M.ej),this.onDidLayoutActiveContainer=this._onDidLayoutActiveContainer.event,this._onDidLayoutContainer=this._register(new M.ej),this.onDidLayoutContainer=this._onDidLayoutContainer.event,this._onDidAddContainer=this._register(new M.ej),this.onDidAddContainer=this._onDidAddContainer.event,this._onDidChangeActiveContainer=this._register(new M.ej),this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event,this.mainContainer=(0,M.jx)("div"),this.containerStylesLoaded=new Map,this.parts=new Map,this.initialized=!1,this.disposed=!1,this._openedDefaultEditors=!1,this.whenReadyPromise=new M.xw,this.whenReady=this.whenReadyPromise.p,this.whenRestoredPromise=new M.xw,this.whenRestored=this.whenRestoredPromise.p,this.restored=!1,this.inMaximizedAuxiliaryBarTransition=!1,(0,M.qg)(t)}initLayout(t){this.environmentService=t.get(k.t),this.configurationService=t.get(M.r_),this.hostService=t.get(P.R),this.contextService=t.get(M.ja),this.storageService=t.get(M.Io),this.themeService=t.get(M.Yd),this.extensionService=t.get(B.Mt),this.logService=t.get(M.mb),this.telemetryService=t.get(M.vb),this.auxiliaryWindowService=t.get(L.Bn),this.editorService=t.get(O.kt),this.editorGroupService=t.get(O.W),this.mainPartEditorService=this.editorService.createScoped(this.editorGroupService.mainPart,this._store),this.paneCompositeService=t.get(B.Ot),this.viewDescriptorService=t.get(x.vb),this.titleService=t.get(L.On),this.notificationService=t.get(M.Pd),this.statusBarService=t.get(x.wb),t.get(L.Rn),this.registerLayoutListeners(),this.initLayoutState(t.get(O.R),t.get(M.fs))}registerLayoutListeners(){let t=()=>{this.isVisible(B.V.EDITOR_PART,M.wE)||(this.isAuxiliaryBarMaximized()?this.toggleMaximizedAuxiliaryBar():this.toggleMaximizedPanel())};this.editorGroupService.whenRestored.then(()=>{this._register(this.mainPartEditorService.onDidVisibleEditorsChange(t)),this._register(this.editorGroupService.mainPart.onDidActivateGroup(t)),this._register(this.mainPartEditorService.onDidActiveEditorChange(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED))))}),this._register(this.configurationService.onDidChangeConfiguration(t=>{if([...Gt,Jt.SIDEBAR_POSITION,Jt.STATUSBAR_VISIBLE].some(e=>t.affectsConfiguration(e))){let e=t.affectsConfiguration("workbench.experimental.share.enabled")&&this.configurationService.getValue("workbench.experimental.share.enabled"),i=t.affectsConfiguration("workbench.navigationControl.enabled")&&this.configurationService.getValue("workbench.navigationControl.enabled");if((e||i)&&!1===this.configurationService.getValue(B.z.COMMAND_CENTER))return void this.configurationService.updateValue(B.z.COMMAND_CENTER,!0);let s=t.affectsConfiguration(B.z.EDITOR_ACTIONS_LOCATION)&&this.configurationService.getValue(B.z.EDITOR_ACTIONS_LOCATION)===B.L.TITLEBAR,n=t.affectsConfiguration(B.z.COMMAND_CENTER)&&this.configurationService.getValue(B.z.COMMAND_CENTER),o=t.affectsConfiguration(B.z.LAYOUT_ACTIONS)&&this.configurationService.getValue(B.z.LAYOUT_ACTIONS);if((t.affectsConfiguration(B.z.ACTIVITY_BAR_LOCATION)&&[B.I.TOP,B.I.BOTTOM].includes(this.configurationService.getValue(B.z.ACTIVITY_BAR_LOCATION))||s||n||o)&&this.configurationService.getValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY)===M.ri.NEVER)return void this.configurationService.updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.AUTO);this.doUpdateLayoutConfiguration()}})),this._register((0,M.gE)(t=>this.onFullscreenChanged(t))),this._register(this.editorGroupService.mainPart.onDidAddGroup(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED)))),this._register(this.editorGroupService.mainPart.onDidRemoveGroup(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED)))),this._register(this.editorGroupService.mainPart.onDidChangeGroupMaximized(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED)))),this._register((0,M.Sx)(this.mainContainer,M._x.SCROLL,()=>this.mainContainer.scrollTop=0)),(M.yM||M.dM||M._M)&&!(0,M.vi)(this.configurationService)&&this._register(this.titleService.onMenubarVisibilityChange(t=>this.onMenubarToggled(t))),this._register(this.themeService.onDidColorThemeChange(()=>this.updateWindowBorder())),this._register(this.hostService.onDidChangeFocus(t=>this.onWindowFocusChanged(t))),this._register(this.hostService.onDidChangeActiveWindow(()=>this.onActiveWindowChanged())),M._M&&"object"==typeof navigator.windowControlsOverlay&&this._register((0,M.Sx)(navigator.windowControlsOverlay,"geometrychange",()=>this.onDidChangeWCO())),this._register(this.auxiliaryWindowService.onDidOpenAuxiliaryWindow(t=>{let{window:e,disposables:i}=t,s=e.window.vscodeWindowId;this.containerStylesLoaded.set(s,e.whenStylesHaveLoaded),e.whenStylesHaveLoaded.then(()=>this.containerStylesLoaded.delete(s)),i.add((0,M.kj)(()=>this.containerStylesLoaded.delete(s)));let n=i.add(new M.gj);this._onDidAddContainer.fire({container:e.container,disposables:n}),i.add(e.onDidLayout(t=>this.handleContainerDidLayout(e.container,t)))}))}onMenubarToggled(t){if(t!==this.state.runtime.menuBar.toggled){this.state.runtime.menuBar.toggled=t;let e=(0,M.pi)(this.configurationService);(M._M&&"toggle"===e||this.state.runtime.mainWindowFullscreen&&("toggle"===e||"classic"===e))&&this.workbenchGrid.setViewVisible(this.titleBarPartView,(0,B.X)(this.configurationService,M.wE,this.state.runtime.menuBar.toggled)),this.handleContainerDidLayout(this.mainContainer,this._mainContainerDimension)}}handleContainerDidLayout(t,e){t===this.mainContainer&&this._onDidLayoutMainContainer.fire(e),(0,M.sS)(t)&&this._onDidLayoutActiveContainer.fire(e),this._onDidLayoutContainer.fire({container:t,dimension:e})}onFullscreenChanged(t){t===M.wE.vscodeWindowId&&(this.state.runtime.mainWindowFullscreen=(0,M.uE)(M.wE),this.state.runtime.mainWindowFullscreen?this.mainContainer.classList.add(Ft.FULLSCREEN):(this.mainContainer.classList.remove(Ft.FULLSCREEN),this.stateModel.getRuntimeValue(te.ZEN_MODE_EXIT_INFO).transitionedToFullScreen&&this.isZenModeActive()&&this.toggleZenMode()),this.workbenchGrid.edgeSnapping=this.state.runtime.mainWindowFullscreen,this.workbenchGrid.setViewVisible(this.titleBarPartView,(0,B.X)(this.configurationService,M.wE,this.state.runtime.menuBar.toggled)),this.updateWindowBorder(!0))}onActiveWindowChanged(){let t=this.getActiveContainerId();this.state.runtime.activeContainerId!==t&&(this.state.runtime.activeContainerId=t,this.updateWindowBorder(),this._onDidChangeActiveContainer.fire())}onWindowFocusChanged(t){this.state.runtime.hasFocus!==t&&(this.state.runtime.hasFocus=t,this.updateWindowBorder())}getActiveContainerId(){let t=this.activeContainer;return(0,M.$x)(t).vscodeWindowId}doUpdateLayoutConfiguration(t){this.updateCustomTitleBarVisibility(),this.updateMenubarVisibility(!!t),this.editorGroupService.whenRestored.then(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED),t))}setSideBarPosition(t){let e=this.getPart(B.V.ACTIVITYBAR_PART),i=this.getPart(B.V.SIDEBAR_PART),s=this.getPart(B.V.AUXILIARYBAR_PART),n=t===B.H.LEFT?"left":"right",o=t===B.H.RIGHT?"left":"right",r=this.getPanelAlignment(),a=this.getPanelPosition();this.stateModel.setRuntimeValue(te.SIDEBAR_POSITON,t);let l=(0,M.UM)(e.getContainer()),h=(0,M.UM)(i.getContainer()),d=(0,M.UM)(s.getContainer());l.classList.remove(o),h.classList.remove(o),l.classList.add(n),h.classList.add(n),d.classList.remove(n),d.classList.add(o),e.updateStyles(),i.updateStyles(),s.updateStyles(),this.adjustPartPositions(t,r,a)}updateWindowBorder(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(M._M||M.yM||(M.yM||M.dM)&&(0,M.Ci)(this.configurationService)||(0,M.vi)(this.configurationService))return;let e=this.themeService.getColorTheme(),i=e.getColor(P.Zn),s=e.getColor(P.Qn),n=this.hasMainWindowBorder();for(let r of this.containers){let t=r===this.mainContainer,e=this.activeContainer===r,n=!1;if(!this.state.runtime.mainWindowFullscreen&&(i||s)){var o;n=!0;let t=e&&this.state.runtime.hasFocus?i:null!==s&&void 0!==s?s:i;r.style.setProperty("--window-border-color",null!==(o=null===t||void 0===t?void 0:t.toString())&&void 0!==o?o:"transparent")}t&&(this.state.runtime.mainWindowBorder=n),r.classList.toggle(Ft.WINDOW_BORDER,n)}!t&&n!==this.hasMainWindowBorder()&&this.layout()}initLayoutState(t,e){var i;this._mainContainerDimension=(0,M.Vx)(this.parent,this.contextService.getWorkbenchState()===M.Xo.EMPTY?Wt:jt),this.stateModel=new ee(this.storageService,this.configurationService,this.contextService),this.stateModel.load({mainContainerDimension:this._mainContainerDimension,resetLayout:!(null===(i=this.layoutOptions)||void 0===i||!i.resetLayout)}),this._register(this.stateModel.onDidChangeState(t=>{t.key===te.ACTIVITYBAR_HIDDEN&&this.setActivityBarHidden(t.value),t.key===te.STATUSBAR_HIDDEN&&this.setStatusBarHidden(t.value),t.key===te.SIDEBAR_POSITON&&this.setSideBarPosition(t.value),t.key===te.PANEL_POSITION&&this.setPanelPosition(t.value),t.key===te.PANEL_ALIGNMENT&&this.setPanelAlignment(t.value),this.doUpdateLayoutConfiguration()}));let s=this.getInitialEditorsState();if(s&&this.logService.trace("Initial editor state",s),this.state={initialization:{layout:{editors:null===s||void 0===s?void 0:s.layout},editor:{restoreEditors:this.shouldRestoreEditors(this.contextService,s),editorsToOpen:this.resolveEditorsToOpen(e,s)},views:{defaults:this.getDefaultLayoutViews(this.environmentService,this.storageService),containerToRestore:{}}},runtime:{activeContainerId:this.getActiveContainerId(),mainWindowFullscreen:(0,M.uE)(M.wE),hasFocus:this.hostService.hasFocus,maximized:new Set,mainWindowBorder:!1,menuBar:{toggled:!1},zenMode:{transitionDisposables:new M.hj}}},this.isVisible(B.V.SIDEBAR_PART)){var n,o;let e;e=!this.environmentService.isBuilt||t.startupKind===O.F.ReloadedWindow||this.environmentService.isExtensionDevelopment&&!this.environmentService.extensionTestsLocationURI?this.storageService.get(Y.c.activeViewletSettingsKey,M.Ro.WORKSPACE,null===(n=this.viewDescriptorService.getDefaultViewContainer(x.gf.Sidebar))||void 0===n?void 0:n.id):null===(o=this.viewDescriptorService.getDefaultViewContainer(x.gf.Sidebar))||void 0===o?void 0:o.id,e?this.state.initialization.views.containerToRestore.sideBar=e:this.stateModel.setRuntimeValue(te.SIDEBAR_HIDDEN,!0)}if(this.isVisible(B.V.PANEL_PART)){var r;let t=this.storageService.get(Y.l.activePanelSettingsKey,M.Ro.WORKSPACE,null===(r=this.viewDescriptorService.getDefaultViewContainer(x.gf.Panel))||void 0===r?void 0:r.id);t?this.state.initialization.views.containerToRestore.panel=t:this.stateModel.setRuntimeValue(te.PANEL_HIDDEN,!0)}if(this.isVisible(B.V.AUXILIARYBAR_PART)){var a;let t=this.storageService.get(Y._.activeViewSettingsKey,M.Ro.WORKSPACE,null===(a=this.viewDescriptorService.getDefaultViewContainer(x.gf.AuxiliaryBar))||void 0===a?void 0:a.id);t?this.state.initialization.views.containerToRestore.auxiliaryBar=t:this.stateModel.setRuntimeValue(te.AUXILIARYBAR_HIDDEN,!0)}this.updateWindowBorder(!0)}getDefaultLayoutViews(t,e){var i;let s=null===(i=t.options)||void 0===i?void 0:i.defaultLayout;if(!s||!s.force&&!e.isNew(M.Ro.WORKSPACE))return;let{views:n}=s;return null!==n&&void 0!==n&&n.length?n.map(t=>t.id):void 0}shouldRestoreEditors(t,e){return!(0,M.as)(t.getWorkspace())&&("preserve"===this.configurationService.getValue("window.restoreWindows")||void 0===e)}willRestoreEditors(){return this.state.initialization.editor.restoreEditors}async resolveEditorsToOpen(t,e){if(e){let s=(0,M._N)(await(0,O._n)(e.filesToMerge,t,this.logService));if(4===s.length&&(0,O.un)(s[0])&&(0,O.un)(s[1])&&(0,O.un)(s[2])&&(0,O.un)(s[3]))return[{editor:{input1:{resource:s[0].resource},input2:{resource:s[1].resource},base:{resource:s[2].resource},result:{resource:s[3].resource},options:{pinned:!0}}}];let n=(0,M._N)(await(0,O._n)(e.filesToDiff,t,this.logService));if(2===n.length)return[{editor:{original:{resource:n[0].resource},modified:{resource:n[1].resource},options:{pinned:!0}}}];let o=[],r=await(0,O._n)(e.filesToOpenOrCreate,t,this.logService);for(let t=0;t<r.length;t++){var i;let s=r[t];s&&o.push({editor:s,viewColumn:null===(i=e.filesToOpenOrCreate)||void 0===i?void 0:i[t].viewColumn})}return o}return this.contextService.getWorkbenchState()===M.Xo.EMPTY&&"newUntitledFile"===this.configurationService.getValue("workbench.startupEditor")?this.editorGroupService.hasRestorableState?[]:[{editor:{resource:void 0}}]:[]}get openedDefaultEditors(){return this._openedDefaultEditors}getInitialEditorsState(){var t,e,i,s,n;let o=null===(t=this.environmentService.options)||void 0===t?void 0:t.defaultLayout;if((null!==o&&void 0!==o&&null!==(e=o.editors)&&void 0!==e&&e.length||null!==o&&void 0!==o&&null!==(i=o.layout)&&void 0!==i&&i.editors)&&(o.force||this.storageService.isNew(M.Ro.WORKSPACE)))return this._openedDefaultEditors=!0,{layout:null===(s=o.layout)||void 0===s?void 0:s.editors,filesToOpenOrCreate:null===o||void 0===o||null===(n=o.editors)||void 0===n?void 0:n.map(t=>({viewColumn:t.viewColumn,fileUri:M.xO.revive(t.uri),openOnlyIfExists:t.openOnlyIfExists,options:t.options}))};let{filesToOpenOrCreate:r,filesToDiff:a,filesToMerge:l}=this.environmentService;return r||a||l?{filesToOpenOrCreate:r,filesToDiff:a,filesToMerge:l}:void 0}isRestored(){return this.restored}restoreParts(t){let e=[],i=[];e.push((async(e,s,n,o,r)=>{(0,M.lc)("code/willRestoreEditors"),await this.editorGroupService.whenReady,(0,M.lc)("code/restoreEditors/editorGroupsReady"),(null===(e=this.state.initialization.layout)||void 0===e?void 0:e.editors)&&this.editorGroupService.mainPart.applyLayout(this.state.initialization.layout.editors);let a,l=await this.state.initialization.editor.editorsToOpen;if((0,M.lc)("code/restoreEditors/editorsToOpenResolved"),l.length){let t=this.editorGroupService.mainPart.getGroups(O.X.GRID_APPEARANCE),e=new Map;for(let i of l){var h;let s=t[(null!==(h=i.viewColumn)&&void 0!==h?h:1)-1],n=e.get(s.id);n||(n=new Set,e.set(s.id,n)),n.add(i.editor)}a=Promise.all(Array.from(e).map(async t=>{let[e,i]=t;try{await this.editorService.openEditors(Array.from(i),e,{validateTrust:!0})}catch(e){this.logService.error(e)}}))}let d=t.invokeFunction(null!==(s=null===(n=this.layoutOptions)||void 0===n?void 0:n.customEditorRestore)&&void 0!==s?s:async()=>{},null!=(null===(o=this.state.initialization.layout)||void 0===o?void 0:o.editors));i.push(Promise.all([null===(r=a)||void 0===r?void 0:r.finally(()=>(0,M.lc)("code/restoreEditors/editorsOpened")),null===d||void 0===d?void 0:d.finally(()=>(0,M.lc)("code/restoreEditors/customEditorsOpened")),this.editorGroupService.whenRestored.finally(()=>(0,M.lc)("code/restoreEditors/editorGroupsRestored"))]).finally(()=>{(0,M.lc)("code/didRestoreEditors")}))})());let s=(async t=>{if(null!==(t=this.state.initialization.views.defaults)&&void 0!==t&&t.length){(0,M.lc)("code/willOpenDefaultViews");let t=[],e=e=>{let i=this.viewDescriptorService.getViewLocationById(e.id);if(null!==i){let o=this.viewDescriptorService.getViewContainerByViewId(e.id);if(o){var s,n;e.order>=(null!==(s=null===t||void 0===t||null===(n=t[i])||void 0===n?void 0:n.order)&&void 0!==s?s:0)&&(t[i]={id:o.id,order:e.order});let r=this.viewDescriptorService.getViewContainerModel(o);return r.setCollapsed(e.id,!1),r.setVisible(e.id,!0),!0}}return!1},i=[...this.state.initialization.views.defaults].reverse().map((t,e)=>({id:t,order:e})),s=i.length;for(;s;)s--,e(i[s])&&i.splice(s,1);if(i.length){await this.extensionService.whenInstalledExtensionsRegistered();let t=i.length;for(;t;)t--,e(i[t])&&i.splice(t,1)}t[x.gf.Sidebar]&&(this.state.initialization.views.containerToRestore.sideBar=t[x.gf.Sidebar].id),t[x.gf.Panel]&&(this.state.initialization.views.containerToRestore.panel=t[x.gf.Panel].id),t[x.gf.AuxiliaryBar]&&(this.state.initialization.views.containerToRestore.auxiliaryBar=t[x.gf.AuxiliaryBar].id),(0,M.lc)("code/didOpenDefaultViews")}})();e.push(s),e.push((async()=>{await s,this.state.initialization.views.containerToRestore.sideBar&&((0,M.lc)("code/willRestoreViewlet"),await this.openViewContainer(x.gf.Sidebar,this.state.initialization.views.containerToRestore.sideBar),(0,M.lc)("code/didRestoreViewlet"))})()),e.push((async()=>{await s,this.state.initialization.views.containerToRestore.panel&&((0,M.lc)("code/willRestorePanel"),await this.openViewContainer(x.gf.Panel,this.state.initialization.views.containerToRestore.panel),(0,M.lc)("code/didRestorePanel"))})()),e.push((async()=>{await s,this.state.initialization.views.containerToRestore.auxiliaryBar&&((0,M.lc)("code/willRestoreAuxiliaryBar"),await this.openViewContainer(x.gf.AuxiliaryBar,this.state.initialization.views.containerToRestore.auxiliaryBar),(0,M.lc)("code/didRestoreAuxiliaryBar"))})());let n=this.isZenModeActive(),o=Xt(this.configurationService).restore;n&&(this.setZenModeActive(!o),this.toggleZenMode(!1,!0)),this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED)&&this.centerMainEditorLayout(!0,!0),M.Dw.settled(e).finally(()=>{(0,M.zx)()===M.wE.document.body&&(this.isPanelMaximized()||this.isAuxiliaryBarMaximized())&&this.focus(),this.whenReadyPromise.complete(),M.Dw.settled(i).finally(()=>{this.restored=!0,this.whenRestoredPromise.complete()})})}async openViewContainer(t,e,i){var s;let n=await this.paneCompositeService.openPaneComposite(e,t,i);n||(n=await this.paneCompositeService.openPaneComposite(null===(s=this.viewDescriptorService.getDefaultViewContainer(t))||void 0===s?void 0:s.id,t,i),!n&&await this.paneCompositeService.openPaneComposite(this.paneCompositeService.getVisiblePaneCompositeIds(t).at(0),t,i))}registerPart(t){let e=t.getId();return this.parts.set(e,t),(0,M.kj)(()=>this.parts.delete(e))}getPart(t){let e=this.parts.get(t);if(!e)throw Error("Unknown part ".concat(t));return e}registerNotifications(t){this._register(t.onDidChangeNotificationsVisibility(t=>this._onDidChangeNotificationsVisibility.fire(t)))}hasFocus(t){let e=this.getContainer((0,M.Bx)(),t);if(!e)return!1;let i=(0,M.zx)();return!!i&&(0,M.dS)(i,e)}_getFocusedPart(){for(let t of this.parts.keys())if(this.hasFocus(t))return t}focusPart(t){var e,i,s,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.wE,r=null!==(e=this.getContainer(o,t))&&void 0!==e?e:this.mainContainer;switch(t){case B.V.EDITOR_PART:this.editorGroupService.getPart(r).activeGroup.focus();break;case B.V.PANEL_PART:null===(i=this.paneCompositeService.getActivePaneComposite(x.gf.Panel))||void 0===i||i.focus();break;case B.V.SIDEBAR_PART:null===(s=this.paneCompositeService.getActivePaneComposite(x.gf.Sidebar))||void 0===s||s.focus();break;case B.V.AUXILIARYBAR_PART:null===(n=this.paneCompositeService.getActivePaneComposite(x.gf.AuxiliaryBar))||void 0===n||n.focus();break;case B.V.ACTIVITYBAR_PART:this.getPart(B.V.SIDEBAR_PART).focusActivityBar();break;case B.V.STATUSBAR_PART:this.statusBarService.getPart(r).focus();break;default:null===r||void 0===r||r.focus()}}getContainer(t,e){if(void 0===e)return this.getContainerFromDocument(t.document);if(t===M.wE)return this.getPart(e).getContainer();let i;return e===B.V.EDITOR_PART?i=this.editorGroupService.getPart(this.getContainerFromDocument(t.document)):e===B.V.STATUSBAR_PART?i=this.statusBarService.getPart(this.getContainerFromDocument(t.document)):e===B.V.TITLEBAR_PART&&(i=this.titleService.getPart(this.getContainerFromDocument(t.document))),i instanceof L.ft?i.getContainer():void 0}isVisible(t){if((arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.wE)!==M.wE&&t===B.V.EDITOR_PART)return!0;switch(t){case B.V.TITLEBAR_PART:return this.initialized?this.workbenchGrid.isViewVisible(this.titleBarPartView):(0,B.X)(this.configurationService,M.wE,this.state.runtime.menuBar.toggled);case B.V.SIDEBAR_PART:return!this.stateModel.getRuntimeValue(te.SIDEBAR_HIDDEN);case B.V.PANEL_PART:return!this.stateModel.getRuntimeValue(te.PANEL_HIDDEN);case B.V.AUXILIARYBAR_PART:return!this.stateModel.getRuntimeValue(te.AUXILIARYBAR_HIDDEN);case B.V.STATUSBAR_PART:return!this.stateModel.getRuntimeValue(te.STATUSBAR_HIDDEN);case B.V.ACTIVITYBAR_PART:return!this.stateModel.getRuntimeValue(te.ACTIVITYBAR_HIDDEN);case B.V.EDITOR_PART:return!this.stateModel.getRuntimeValue(te.EDITOR_HIDDEN);case B.V.BANNER_PART:return!!this.initialized&&this.workbenchGrid.isViewVisible(this.bannerPartView);default:return!1}}shouldShowBannerFirst(){return M._M&&!(0,M.pE)()}focus(){this.isPanelMaximized()&&this.mainContainer===this.activeContainer?this.focusPart(B.V.PANEL_PART):this.isAuxiliaryBarMaximized()&&this.mainContainer===this.activeContainer?this.focusPart(B.V.AUXILIARYBAR_PART):this.focusPart(B.V.EDITOR_PART,(0,M.$x)(this.activeContainer))}focusPanelOrEditor(){let t=this.paneCompositeService.getActivePaneComposite(x.gf.Panel);!this.hasFocus(B.V.PANEL_PART)&&this.isVisible(B.V.EDITOR_PART)||!t?this.focus():t.focus()}getMaximumEditorDimensions(t){let e=(0,M.$x)(t),i=this.getContainerDimension(t);if(t===this.mainContainer){let t=(0,B.G)(this.getPanelPosition()),s=(this.isVisible(B.V.ACTIVITYBAR_PART)?this.activityBarPartView.minimumWidth:0)+(this.isVisible(B.V.SIDEBAR_PART)?this.sideBarPartView.minimumWidth:0)+(this.isVisible(B.V.PANEL_PART)&&!t?this.panelPartView.minimumWidth:0)+(this.isVisible(B.V.AUXILIARYBAR_PART)?this.auxiliaryBarPartView.minimumWidth:0),n=(this.isVisible(B.V.TITLEBAR_PART,e)?this.titleBarPartView.minimumHeight:0)+(this.isVisible(B.V.STATUSBAR_PART,e)?this.statusBarPartView.minimumHeight:0)+(this.isVisible(B.V.PANEL_PART)&&t?this.panelPartView.minimumHeight:0);return{width:i.width-s,height:i.height-n}}{let t=(this.isVisible(B.V.TITLEBAR_PART,e)?this.titleBarPartView.minimumHeight:0)+(this.isVisible(B.V.STATUSBAR_PART,e)?this.statusBarPartView.minimumHeight:0);return{width:i.width,height:i.height-t}}}isZenModeActive(){return this.stateModel.getRuntimeValue(te.ZEN_MODE_ACTIVE)}setZenModeActive(t){this.stateModel.setRuntimeValue(te.ZEN_MODE_ACTIVE,t)}toggleZenMode(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this._getFocusedPart();this.setZenModeActive(!this.isZenModeActive()),this.state.runtime.zenMode.transitionDisposables.clearAndDisposeAll();let s=t=>{for(let e of this.mainPartEditorService.visibleTextEditorControls){if(!t&&(0,N.s)(e)&&e.hasModel()){let i=e.getModel();t=this.configurationService.getValue("editor.lineNumbers",{resource:i.uri,overrideIdentifier:i.getLanguageId()})}t||(t=this.configurationService.getValue("editor.lineNumbers")),e.updateOptions({lineNumbers:t})}},n=!1,o=Xt(this.configurationService),r=this.stateModel.getRuntimeValue(te.ZEN_MODE_EXIT_INFO);this.isZenModeActive()?(n=!this.state.runtime.mainWindowFullscreen&&o.fullScreen&&!M.uM,e||(r.transitionedToFullScreen=n,r.transitionedToCenteredEditorLayout=!this.isMainEditorLayoutCentered()&&o.centerLayout,r.handleNotificationsDoNotDisturbMode=this.notificationService.getFilter()===M.zd.OFF,r.wasVisible.sideBar=this.isVisible(B.V.SIDEBAR_PART),r.wasVisible.panel=this.isVisible(B.V.PANEL_PART),r.wasVisible.auxiliaryBar=this.isVisible(B.V.AUXILIARYBAR_PART),this.stateModel.setRuntimeValue(te.ZEN_MODE_EXIT_INFO,r)),this.setPanelHidden(!0,!0),this.setAuxiliaryBarHidden(!0,!0),this.setSideBarHidden(!0),o.hideActivityBar&&this.setActivityBarHidden(!0),o.hideStatusBar&&this.setStatusBarHidden(!0),o.hideLineNumbers&&(s("off"),this.state.runtime.zenMode.transitionDisposables.set(B.U.HIDE_LINENUMBERS,this.mainPartEditorService.onDidVisibleEditorsChange(()=>s("off")))),o.showTabs!==this.editorGroupService.partOptions.showTabs&&this.state.runtime.zenMode.transitionDisposables.set(B.U.SHOW_TABS,this.editorGroupService.mainPart.enforcePartOptions({showTabs:o.showTabs})),o.silentNotifications&&r.handleNotificationsDoNotDisturbMode&&this.notificationService.setFilter(M.zd.ERROR),o.centerLayout&&this.centerMainEditorLayout(!0,!0),this.state.runtime.zenMode.transitionDisposables.set("configurationChange",this.configurationService.onDidChangeConfiguration(t=>{if(t.affectsConfiguration(B.U.HIDE_ACTIVITYBAR)||t.affectsConfiguration(B.z.ACTIVITY_BAR_LOCATION)){let t=this.configurationService.getValue(B.U.HIDE_ACTIVITYBAR),e=this.configurationService.getValue(B.z.ACTIVITY_BAR_LOCATION);this.setActivityBarHidden(!!t||(e===B.I.TOP||e===B.I.BOTTOM))}if(t.affectsConfiguration(B.U.HIDE_STATUSBAR)){let t=this.configurationService.getValue(B.U.HIDE_STATUSBAR);this.setStatusBarHidden(t)}if(t.affectsConfiguration(B.U.CENTER_LAYOUT)){let t=this.configurationService.getValue(B.U.CENTER_LAYOUT);this.centerMainEditorLayout(t,!0)}if(t.affectsConfiguration(B.U.SHOW_TABS)){var e;let t=null!==(e=this.configurationService.getValue(B.U.SHOW_TABS))&&void 0!==e?e:"multiple";this.state.runtime.zenMode.transitionDisposables.set(B.U.SHOW_TABS,this.editorGroupService.mainPart.enforcePartOptions({showTabs:t}))}if(t.affectsConfiguration(B.U.SILENT_NOTIFICATIONS)){let t=!!this.configurationService.getValue(B.U.SILENT_NOTIFICATIONS);r.handleNotificationsDoNotDisturbMode&&this.notificationService.setFilter(t?M.zd.ERROR:M.zd.OFF)}if(t.affectsConfiguration(B.U.HIDE_LINENUMBERS)){let t=this.configurationService.getValue(B.U.HIDE_LINENUMBERS)?"off":void 0;s(t),this.state.runtime.zenMode.transitionDisposables.set(B.U.HIDE_LINENUMBERS,this.mainPartEditorService.onDidVisibleEditorsChange(()=>s(t)))}}))):(r.wasVisible.panel&&this.setPanelHidden(!1,!0),r.wasVisible.auxiliaryBar&&this.setAuxiliaryBarHidden(!1,!0),r.wasVisible.sideBar&&this.setSideBarHidden(!1),this.stateModel.getRuntimeValue(te.ACTIVITYBAR_HIDDEN,!0)||this.setActivityBarHidden(!1),this.stateModel.getRuntimeValue(te.STATUSBAR_HIDDEN,!0)||this.setStatusBarHidden(!1),r.transitionedToCenteredEditorLayout&&this.centerMainEditorLayout(!1,!0),r.handleNotificationsDoNotDisturbMode&&this.notificationService.setFilter(M.zd.OFF),s(),n=r.transitionedToFullScreen&&this.state.runtime.mainWindowFullscreen),t||this.layout(),n&&this.hostService.toggleFullScreen(M.wE),i&&this.isVisible(i,(0,M.$x)(this.activeContainer))?(0,B.K)(i)?this.focusPart(i,(0,M.$x)(this.activeContainer)):this.focusPart(i):this.focus(),this._onDidChangeZenMode.fire(this.isZenModeActive())}setStatusBarHidden(t){this.stateModel.setRuntimeValue(te.STATUSBAR_HIDDEN,t),t?this.mainContainer.classList.add(Ft.STATUSBAR_HIDDEN):this.mainContainer.classList.remove(Ft.STATUSBAR_HIDDEN),this.workbenchGrid.setViewVisible(this.statusBarPartView,!t)}createWorkbenchLayout(){let t=this.getPart(B.V.TITLEBAR_PART),e=this.getPart(B.V.BANNER_PART),i=this.getPart(B.V.EDITOR_PART),s=this.getPart(B.V.ACTIVITYBAR_PART),n=this.getPart(B.V.PANEL_PART),o=this.getPart(B.V.AUXILIARYBAR_PART),r=this.getPart(B.V.SIDEBAR_PART),a=this.getPart(B.V.STATUSBAR_PART);this.titleBarPartView=t,this.bannerPartView=e,this.sideBarPartView=r,this.activityBarPartView=s,this.editorPartView=i,this.panelPartView=n,this.auxiliaryBarPartView=o,this.statusBarPartView=a;let l={[B.V.ACTIVITYBAR_PART]:this.activityBarPartView,[B.V.BANNER_PART]:this.bannerPartView,[B.V.TITLEBAR_PART]:this.titleBarPartView,[B.V.EDITOR_PART]:this.editorPartView,[B.V.PANEL_PART]:this.panelPartView,[B.V.SIDEBAR_PART]:this.sideBarPartView,[B.V.STATUSBAR_PART]:this.statusBarPartView,[B.V.AUXILIARYBAR_PART]:this.auxiliaryBarPartView},h=Y.h.deserialize(this.createGridDescriptor(),{fromJSON:t=>{let{type:e}=t;return l[e]}},{proportionalLayout:!1});this.mainContainer.prepend(h.element),this.mainContainer.setAttribute("role","application"),this.workbenchGrid=h,this.workbenchGrid.edgeSnapping=this.state.runtime.mainWindowFullscreen;for(let d of[t,i,s,n,r,a,o,e])this._register(d.onDidVisibilityChange(t=>{this.inMaximizedAuxiliaryBarTransition||(d===r?this.setSideBarHidden(!t):d===n?this.setPanelHidden(!t,!0):d===o?this.setAuxiliaryBarHidden(!t,!0):d===i&&this.setEditorHidden(!t)),this._onDidChangePartVisibility.fire(),this.handleContainerDidLayout(this.mainContainer,this._mainContainerDimension)}));this._register(this.storageService.onWillSaveState(()=>{let t=this.stateModel.getRuntimeValue(te.SIDEBAR_HIDDEN)?this.workbenchGrid.getViewCachedVisibleSize(this.sideBarPartView):this.workbenchGrid.getViewSize(this.sideBarPartView).width;this.stateModel.setInitializationValue(te.SIDEBAR_SIZE,t);let e=this.stateModel.getRuntimeValue(te.PANEL_HIDDEN)?this.workbenchGrid.getViewCachedVisibleSize(this.panelPartView):(0,B.G)(this.stateModel.getRuntimeValue(te.PANEL_POSITION))?this.workbenchGrid.getViewSize(this.panelPartView).height:this.workbenchGrid.getViewSize(this.panelPartView).width;this.stateModel.setInitializationValue(te.PANEL_SIZE,e);let i=this.stateModel.getRuntimeValue(te.AUXILIARYBAR_HIDDEN)?this.workbenchGrid.getViewCachedVisibleSize(this.auxiliaryBarPartView):this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).width;this.stateModel.setInitializationValue(te.AUXILIARYBAR_SIZE,i),this.stateModel.save(!0,!0)})),this._register(M.tj.any(this.paneCompositeService.onDidPaneCompositeOpen,this.paneCompositeService.onDidPaneCompositeClose)(()=>{this.stateModel.setInitializationValue(te.AUXILIARYBAR_EMPTY,0===this.paneCompositeService.getPaneCompositeIds(x.gf.AuxiliaryBar).length)}))}layout(){this.disposed||(this._mainContainerDimension=(0,M.Vx)(this.state.runtime.mainWindowFullscreen?M.wE.document.body:this.parent,this.contextService.getWorkbenchState()===M.Xo.EMPTY?Wt:jt),this.logService.trace("Layout#layout, height: ".concat(this._mainContainerDimension.height,", width: ").concat(this._mainContainerDimension.width)),(0,M.OS)(this.mainContainer,0,0,0,0,"relative"),(0,M.VS)(this.mainContainer,this._mainContainerDimension.width,this._mainContainerDimension.height),this.workbenchGrid.layout(this._mainContainerDimension.width,this._mainContainerDimension.height),this.initialized=!0,this.handleContainerDidLayout(this.mainContainer,this._mainContainerDimension))}isMainEditorLayoutCentered(){return this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED)}centerMainEditorLayout(t,e){this.stateModel.setRuntimeValue(te.MAIN_EDITOR_CENTERED,t);let i=(0,M._N)(this.editorGroupService.mainPart.groups.map(t=>t.activeEditor)).some(t=>t instanceof O.nt?this.configurationService.getValue("diffEditor.renderSideBySide"):!(null===t||void 0===t||!t.hasCapability(O.zt.MultipleEditors))),s=this.editorGroupService.getLayout(),n=!1;n=s.orientation===O.J.HORIZONTAL?s.groups.length>1:s.groups.some(t=>t.groups&&t.groups.length>1),this.configurationService.getValue("workbench.editor.centeredLayoutAutoResize")&&(n&&!this.editorGroupService.mainPart.hasMaximizedGroup()||i)&&(t=!1),this.editorGroupService.mainPart.isLayoutCentered()!==t&&(this.editorGroupService.mainPart.centerLayout(t),e||this.layout()),this._onDidChangeMainEditorCenteredLayout.fire(this.stateModel.getRuntimeValue(te.MAIN_EDITOR_CENTERED))}getSize(t){return this.workbenchGrid.getViewSize(this.getPart(t))}setSize(t,e){this.workbenchGrid.resizeView(this.getPart(t),e)}resizePart(t,e,i){let s,n=Math.sign(e)*(0,M.kx)((0,M.Bx)(),Math.abs(e)),o=Math.sign(i)*(0,M.kx)((0,M.Bx)(),Math.abs(i));switch(t){case B.V.SIDEBAR_PART:s=this.workbenchGrid.getViewSize(this.sideBarPartView),this.workbenchGrid.resizeView(this.sideBarPartView,{width:s.width+n,height:s.height});break;case B.V.PANEL_PART:s=this.workbenchGrid.getViewSize(this.panelPartView),this.workbenchGrid.resizeView(this.panelPartView,{width:s.width+((0,B.G)(this.getPanelPosition())?0:n),height:s.height+((0,B.G)(this.getPanelPosition())?o:0)});break;case B.V.AUXILIARYBAR_PART:s=this.workbenchGrid.getViewSize(this.auxiliaryBarPartView),this.workbenchGrid.resizeView(this.auxiliaryBarPartView,{width:s.width+n,height:s.height});break;case B.V.EDITOR_PART:if(s=this.workbenchGrid.getViewSize(this.editorPartView),1===this.editorGroupService.mainPart.count)this.workbenchGrid.resizeView(this.editorPartView,{width:s.width+n,height:s.height+o});else{let t=this.editorGroupService.mainPart.activeGroup,{width:e,height:i}=this.editorGroupService.mainPart.getSize(t);this.editorGroupService.mainPart.setSize(t,{width:e+n,height:i+o});let{width:r,height:a}=this.editorGroupService.mainPart.getSize(t);(o&&i===a||n&&e===r)&&this.workbenchGrid.resizeView(this.editorPartView,{width:s.width+(n&&e===r?n:0),height:s.height+(o&&i===a?o:0)})}break;default:return}}setActivityBarHidden(t){this.stateModel.setRuntimeValue(te.ACTIVITYBAR_HIDDEN,t),this.workbenchGrid.setViewVisible(this.activityBarPartView,!t)}setBannerHidden(t){this.workbenchGrid.setViewVisible(this.bannerPartView,!t)}setEditorHidden(t){!t&&this.setAuxiliaryBarMaximized(!1)&&this.isVisible(B.V.EDITOR_PART)||(this.stateModel.setRuntimeValue(te.EDITOR_HIDDEN,t),t?this.mainContainer.classList.add(Ft.MAIN_EDITOR_AREA_HIDDEN):this.mainContainer.classList.remove(Ft.MAIN_EDITOR_AREA_HIDDEN),this.workbenchGrid.setViewVisible(this.editorPartView,!t),t&&!this.isVisible(B.V.PANEL_PART)&&!this.isAuxiliaryBarMaximized()&&this.setPanelHidden(!1,!0))}getLayoutClasses(){return(0,M._N)([this.isVisible(B.V.SIDEBAR_PART)?void 0:Ft.SIDEBAR_HIDDEN,this.isVisible(B.V.EDITOR_PART,M.wE)?void 0:Ft.MAIN_EDITOR_AREA_HIDDEN,this.isVisible(B.V.PANEL_PART)?void 0:Ft.PANEL_HIDDEN,this.isVisible(B.V.AUXILIARYBAR_PART)?void 0:Ft.AUXILIARYBAR_HIDDEN,this.isVisible(B.V.STATUSBAR_PART)?void 0:Ft.STATUSBAR_HIDDEN,this.state.runtime.mainWindowFullscreen?Ft.FULLSCREEN:void 0])}setSideBarHidden(t){if(t||!this.setAuxiliaryBarMaximized(!1)||!this.isVisible(B.V.SIDEBAR_PART)){if(this.stateModel.setRuntimeValue(te.SIDEBAR_HIDDEN,t),t?this.mainContainer.classList.add(Ft.SIDEBAR_HIDDEN):this.mainContainer.classList.remove(Ft.SIDEBAR_HIDDEN),t&&this.paneCompositeService.getActivePaneComposite(x.gf.Sidebar))this.paneCompositeService.hideActivePaneComposite(x.gf.Sidebar),this.isAuxiliaryBarMaximized()||this.focusPanelOrEditor();else if(!t&&!this.paneCompositeService.getActivePaneComposite(x.gf.Sidebar)){let t=this.paneCompositeService.getLastActivePaneCompositeId(x.gf.Sidebar);t&&this.openViewContainer(x.gf.Sidebar,t,!0)}this.workbenchGrid.setViewVisible(this.sideBarPartView,!t)}}hasViews(t){let e=this.viewDescriptorService.getViewContainerById(t);if(!e)return!1;let i=this.viewDescriptorService.getViewContainerModel(e);return!!i&&i.activeViewDescriptors.length>=1}adjustPartPositions(t,e,i){var s,n,o,r;let a=!(0,B.G)(i),l=a||!("center"===e||t===B.H.LEFT&&"right"===e||t===B.H.RIGHT&&"left"===e),h=a||!("center"===e||t===B.H.RIGHT&&"right"===e||t===B.H.LEFT&&"left"===e),d=this.isVisible(B.V.PANEL_PART)?this.workbenchGrid.getViewSize(this.panelPartView).width:Y.g.Invisible(null!==(s=this.workbenchGrid.getViewCachedVisibleSize(this.panelPartView))&&void 0!==s?s:this.panelPartView.minimumWidth),c=this.isVisible(B.V.PANEL_PART)?this.workbenchGrid.getViewSize(this.panelPartView).height:Y.g.Invisible(null!==(n=this.workbenchGrid.getViewCachedVisibleSize(this.panelPartView))&&void 0!==n?n:this.panelPartView.minimumHeight),u=this.isVisible(B.V.SIDEBAR_PART)?this.workbenchGrid.getViewSize(this.sideBarPartView).width:Y.g.Invisible(null!==(o=this.workbenchGrid.getViewCachedVisibleSize(this.sideBarPartView))&&void 0!==o?o:this.sideBarPartView.minimumWidth),g=this.isVisible(B.V.AUXILIARYBAR_PART)?this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).width:Y.g.Invisible(null!==(r=this.workbenchGrid.getViewCachedVisibleSize(this.auxiliaryBarPartView))&&void 0!==r?r:this.auxiliaryBarPartView.minimumWidth),m=[B.V.PANEL_PART,B.V.SIDEBAR_PART,B.V.AUXILIARYBAR_PART].find(t=>this.hasFocus(t));t===B.H.LEFT?(this.workbenchGrid.moveViewTo(this.activityBarPartView,[2,0]),this.workbenchGrid.moveView(this.sideBarPartView,u,l?this.editorPartView:this.activityBarPartView,l?Y.m.Left:Y.m.Right),h?this.workbenchGrid.moveView(this.auxiliaryBarPartView,g,this.editorPartView,Y.m.Right):this.workbenchGrid.moveViewTo(this.auxiliaryBarPartView,[2,-1])):(this.workbenchGrid.moveViewTo(this.activityBarPartView,[2,-1]),this.workbenchGrid.moveView(this.sideBarPartView,u,l?this.editorPartView:this.activityBarPartView,l?Y.m.Right:Y.m.Left),h?this.workbenchGrid.moveView(this.auxiliaryBarPartView,g,this.editorPartView,Y.m.Left):this.workbenchGrid.moveViewTo(this.auxiliaryBarPartView,[2,0])),m&&this.focusPart(m),a&&(this.workbenchGrid.moveView(this.panelPartView,d,this.editorPartView,i===B.H.LEFT?Y.m.Left:Y.m.Right),this.workbenchGrid.resizeView(this.panelPartView,{height:c,width:d})),this.isVisible(B.V.SIDEBAR_PART)&&this.workbenchGrid.resizeView(this.sideBarPartView,{height:this.workbenchGrid.getViewSize(this.sideBarPartView).height,width:u}),this.isVisible(B.V.AUXILIARYBAR_PART)&&this.workbenchGrid.resizeView(this.auxiliaryBarPartView,{height:this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).height,width:g})}setPanelAlignment(t){(0,B.G)(this.getPanelPosition())||this.setPanelPosition(B.H.BOTTOM),"center"!==t&&this.isPanelMaximized()&&this.toggleMaximizedPanel(),this.stateModel.setRuntimeValue(te.PANEL_ALIGNMENT,t),this.adjustPartPositions(this.getSideBarPosition(),t,this.getPanelPosition()),this._onDidChangePanelAlignment.fire(t)}setPanelHidden(t,e){if(!this.workbenchGrid||!t&&this.setAuxiliaryBarMaximized(!1)&&this.isVisible(B.V.PANEL_PART))return;let i=!this.isVisible(B.V.PANEL_PART);this.stateModel.setRuntimeValue(te.PANEL_HIDDEN,t);let s=this.isPanelMaximized(),n=this.panelOpensMaximized();t?this.mainContainer.classList.add(Ft.PANEL_HIDDEN):this.mainContainer.classList.remove(Ft.PANEL_HIDDEN);let o=!1;if(t&&this.paneCompositeService.getActivePaneComposite(x.gf.Panel))this.paneCompositeService.hideActivePaneComposite(x.gf.Panel),!M.uM&&!this.isAuxiliaryBarMaximized()&&(o=!0);else if(!t&&!this.paneCompositeService.getActivePaneComposite(x.gf.Panel)){var r;let t=this.paneCompositeService.getLastActivePaneCompositeId(x.gf.Panel);(!t||!this.hasViews(t))&&(t=null===(r=this.viewDescriptorService.getViewContainersByLocation(x.gf.Panel).find(t=>this.hasViews(t.id)))||void 0===r?void 0:r.id),t&&this.openViewContainer(x.gf.Panel,t,!e)}t&&s&&this.toggleMaximizedPanel(),i!==t&&(this.workbenchGrid.setViewVisible(this.panelPartView,!t),t?this.stateModel.setRuntimeValue(te.PANEL_WAS_LAST_MAXIMIZED,s):!e&&s!==n&&this.toggleMaximizedPanel(),o&&this.editorGroupService.mainPart.activeGroup.focus())}isAuxiliaryBarMaximized(){return this.stateModel.getRuntimeValue(te.AUXILIARYBAR_WAS_LAST_MAXIMIZED)}toggleMaximizedAuxiliaryBar(){this.setAuxiliaryBarMaximized(!this.isAuxiliaryBarMaximized())}setAuxiliaryBarMaximized(t){if(this.inMaximizedAuxiliaryBarTransition||t===this.isAuxiliaryBarMaximized())return!1;if(t){let t={sideBarVisible:this.isVisible(B.V.SIDEBAR_PART),editorVisible:this.isVisible(B.V.EDITOR_PART),panelVisible:this.isVisible(B.V.PANEL_PART),auxiliaryBarVisible:this.isVisible(B.V.AUXILIARYBAR_PART)};this.stateModel.setRuntimeValue(te.AUXILIARYBAR_WAS_LAST_MAXIMIZED,!0),this.inMaximizedAuxiliaryBarTransition=!0;try{t.auxiliaryBarVisible||this.setAuxiliaryBarHidden(!1);let e=this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).width;this.stateModel.setRuntimeValue(te.AUXILIARYBAR_LAST_NON_MAXIMIZED_SIZE,e),t.sideBarVisible&&this.setSideBarHidden(!0),t.panelVisible&&this.setPanelHidden(!0),t.editorVisible&&this.setEditorHidden(!0),this.stateModel.setRuntimeValue(te.AUXILIARYBAR_LAST_NON_MAXIMIZED_VISIBILITY,t)}finally{this.inMaximizedAuxiliaryBarTransition=!1}}else{let t=(0,M.UM)(this.stateModel.getRuntimeValue(te.AUXILIARYBAR_LAST_NON_MAXIMIZED_VISIBILITY));this.stateModel.setRuntimeValue(te.AUXILIARYBAR_WAS_LAST_MAXIMIZED,!1),this.inMaximizedAuxiliaryBarTransition=!0;try{this.setEditorHidden(!(null!==t&&void 0!==t&&t.editorVisible)),this.setPanelHidden(!(null!==t&&void 0!==t&&t.panelVisible)),this.setSideBarHidden(!(null!==t&&void 0!==t&&t.sideBarVisible));let e=this.workbenchGrid.getViewSize(this.auxiliaryBarPartView);this.workbenchGrid.resizeView(this.auxiliaryBarPartView,{width:this.stateModel.getRuntimeValue(te.AUXILIARYBAR_LAST_NON_MAXIMIZED_SIZE),height:e.height})}finally{this.inMaximizedAuxiliaryBarTransition=!1}}return this.focusPart(B.V.AUXILIARYBAR_PART),this._onDidChangeAuxiliaryBarMaximized.fire(),!0}isPanelMaximized(){return("center"===this.getPanelAlignment()||!(0,B.G)(this.getPanelPosition()))&&!this.isVisible(B.V.EDITOR_PART,M.wE)&&!this.isAuxiliaryBarMaximized()}toggleMaximizedPanel(){let t=this.workbenchGrid.getViewSize(this.panelPartView),e=this.getPanelPosition(),i=!this.isPanelMaximized();i?(this.isVisible(B.V.PANEL_PART)&&((0,B.G)(e)?this.stateModel.setRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_HEIGHT,t.height):this.stateModel.setRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_WIDTH,t.width)),this.setEditorHidden(!0)):(this.setEditorHidden(!1),this.workbenchGrid.resizeView(this.panelPartView,{width:(0,B.G)(e)?t.width:this.stateModel.getRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_WIDTH),height:(0,B.G)(e)?this.stateModel.getRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_HEIGHT):t.height})),this.stateModel.setRuntimeValue(te.PANEL_WAS_LAST_MAXIMIZED,i)}panelOpensMaximized(){if("center"!==this.getPanelAlignment()&&(0,B.G)(this.getPanelPosition()))return!1;let t=(0,B.q)(this.configurationService.getValue(Zt.PANEL_OPENS_MAXIMIZED)),e=this.stateModel.getRuntimeValue(te.PANEL_WAS_LAST_MAXIMIZED);return t===B.B.ALWAYS||t===B.B.REMEMBER_LAST&&e}setAuxiliaryBarHidden(t,e){if(!t||!this.setAuxiliaryBarMaximized(!1)||this.isVisible(B.V.AUXILIARYBAR_PART)){if(this.stateModel.setRuntimeValue(te.AUXILIARYBAR_HIDDEN,t),t?this.mainContainer.classList.add(Ft.AUXILIARYBAR_HIDDEN):this.mainContainer.classList.remove(Ft.AUXILIARYBAR_HIDDEN),t&&this.paneCompositeService.getActivePaneComposite(x.gf.AuxiliaryBar))this.paneCompositeService.hideActivePaneComposite(x.gf.AuxiliaryBar),this.focusPanelOrEditor();else if(!t&&!this.paneCompositeService.getActivePaneComposite(x.gf.AuxiliaryBar)){var i;let t=this.paneCompositeService.getLastActivePaneCompositeId(x.gf.AuxiliaryBar);(!t||!this.hasViews(t))&&(t=null===(i=this.viewDescriptorService.getViewContainersByLocation(x.gf.AuxiliaryBar).find(t=>this.hasViews(t.id)))||void 0===i?void 0:i.id),t&&this.openViewContainer(x.gf.AuxiliaryBar,t,!e)}this.workbenchGrid.setViewVisible(this.auxiliaryBarPartView,!t)}}setPartHidden(t,e){switch(e){case B.V.ACTIVITYBAR_PART:return this.setActivityBarHidden(t);case B.V.SIDEBAR_PART:return this.setSideBarHidden(t);case B.V.EDITOR_PART:return this.setEditorHidden(t);case B.V.BANNER_PART:return this.setBannerHidden(t);case B.V.AUXILIARYBAR_PART:return this.setAuxiliaryBarHidden(t);case B.V.PANEL_PART:return this.setPanelHidden(t)}}hasMainWindowBorder(){return this.state.runtime.mainWindowBorder}getMainWindowBorderRadius(){return this.state.runtime.mainWindowBorder&&M.pM?"10px":void 0}getSideBarPosition(){return this.stateModel.getRuntimeValue(te.SIDEBAR_POSITON)}getPanelAlignment(){return this.stateModel.getRuntimeValue(te.PANEL_ALIGNMENT)}updateMenubarVisibility(t){let e=(0,B.X)(this.configurationService,M.wE,this.state.runtime.menuBar.toggled);!t&&this.workbenchGrid&&e!==this.isVisible(B.V.TITLEBAR_PART,M.wE)&&this.workbenchGrid.setViewVisible(this.titleBarPartView,e)}updateCustomTitleBarVisibility(){let t=(0,B.X)(this.configurationService,M.wE,this.state.runtime.menuBar.toggled);t!==this.isVisible(B.V.TITLEBAR_PART)&&this.workbenchGrid.setViewVisible(this.titleBarPartView,t)}toggleMenuBar(){let t,e=(0,M.pi)(this.configurationService);"string"!=typeof e&&(e="classic"),t="visible"===e||"classic"===e?(0,M._i)(this.configurationService)?"toggle":"compact":"classic",this.configurationService.updateValue(M.ci.MenuBarVisibility,t)}getPanelPosition(){return this.stateModel.getRuntimeValue(te.PANEL_POSITION)}setPanelPosition(t){this.isVisible(B.V.PANEL_PART)||this.setPanelHidden(!1);let e=this.getPart(B.V.PANEL_PART),i=(0,B.Y)(this.getPanelPosition()),s=(0,B.Y)(t),n=(0,M.UM)(e.getContainer());n.classList.remove(i),n.classList.add(s),e.updateStyles();let o=this.workbenchGrid.getViewSize(this.panelPartView),r=this.workbenchGrid.getViewSize(this.sideBarPartView),a=this.workbenchGrid.getViewSize(this.auxiliaryBarPartView),l=!this.isVisible(B.V.EDITOR_PART,M.wE);s!==i&&!l&&((0,B.G)(t)?this.stateModel.setRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_WIDTH,o.width):(0,B.G)((0,B.J)(i))&&this.stateModel.setRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_HEIGHT,o.height)),(0,B.G)(t)&&"center"!==this.getPanelAlignment()&&l&&(this.toggleMaximizedPanel(),l=!1),this.stateModel.setRuntimeValue(te.PANEL_POSITION,t);let h=this.isVisible(B.V.SIDEBAR_PART),d=this.isVisible(B.V.AUXILIARYBAR_PART),c=this.hasFocus(B.V.PANEL_PART);t===B.H.BOTTOM?this.workbenchGrid.moveView(this.panelPartView,l?o.height:this.stateModel.getRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_HEIGHT),this.editorPartView,Y.m.Down):t===B.H.TOP?this.workbenchGrid.moveView(this.panelPartView,l?o.height:this.stateModel.getRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_HEIGHT),this.editorPartView,Y.m.Up):t===B.H.RIGHT?this.workbenchGrid.moveView(this.panelPartView,l?o.width:this.stateModel.getRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_WIDTH),this.editorPartView,Y.m.Right):this.workbenchGrid.moveView(this.panelPartView,l?o.width:this.stateModel.getRuntimeValue(te.PANEL_LAST_NON_MAXIMIZED_WIDTH),this.editorPartView,Y.m.Left),c&&this.focusPart(B.V.PANEL_PART),this.workbenchGrid.resizeView(this.sideBarPartView,r),h||this.setSideBarHidden(!0),this.workbenchGrid.resizeView(this.auxiliaryBarPartView,a),d||this.setAuxiliaryBarHidden(!0),(0,B.G)(t)&&this.adjustPartPositions(this.getSideBarPosition(),this.getPanelAlignment(),t),this._onDidChangePanelPosition.fire(s)}isWindowMaximized(t){return this.state.runtime.maximized.has((0,M.tS)(t))}updateWindowMaximizedState(t,e){this.mainContainer.classList.toggle(Ft.MAXIMIZED,e);let i=(0,M.tS)(t);e!==this.state.runtime.maximized.has(i)&&(e?this.state.runtime.maximized.add(i):this.state.runtime.maximized.delete(i),this.updateWindowBorder(),this._onDidChangeWindowMaximized.fire({windowId:i,maximized:e}))}getVisibleNeighborPart(t,e){if(!this.workbenchGrid||!this.isVisible(t,M.wE))return;let i=this.workbenchGrid.getNeighborViews(this.getPart(t),e,!1);if(i)for(let s of i){let t=[B.V.ACTIVITYBAR_PART,B.V.EDITOR_PART,B.V.PANEL_PART,B.V.AUXILIARYBAR_PART,B.V.SIDEBAR_PART,B.V.STATUSBAR_PART,B.V.TITLEBAR_PART].find(t=>this.getPart(t)===s&&this.isVisible(t,M.wE));if(void 0!==t)return t}}onDidChangeWCO(){let t=this.workbenchGrid.getNeighborViews(this.titleBarPartView,Y.m.Up,!1).length>0,e=this.shouldShowBannerFirst();t!==e&&this.workbenchGrid.moveView(this.bannerPartView,Y.g.Distribute,this.titleBarPartView,e?Y.m.Up:Y.m.Down),this.workbenchGrid.setViewVisible(this.titleBarPartView,(0,B.X)(this.configurationService,M.wE,this.state.runtime.menuBar.toggled))}arrangeEditorNodes(t,e,i){if(!t.sideBar&&!t.auxiliaryBar)return t.editor.size=e,t.editor;let s=[t.editor];return t.editor.size=i,t.sideBar&&(this.stateModel.getRuntimeValue(te.SIDEBAR_POSITON)===B.H.LEFT?s.splice(0,0,t.sideBar):s.push(t.sideBar),t.editor.size-=this.stateModel.getRuntimeValue(te.SIDEBAR_HIDDEN)?0:t.sideBar.size),t.auxiliaryBar&&(this.stateModel.getRuntimeValue(te.SIDEBAR_POSITON)===B.H.RIGHT?s.splice(0,0,t.auxiliaryBar):s.push(t.auxiliaryBar),t.editor.size-=this.stateModel.getRuntimeValue(te.AUXILIARYBAR_HIDDEN)?0:t.auxiliaryBar.size),{type:"branch",data:s,size:e,visible:s.some(t=>t.visible)}}arrangeMiddleSectionNodes(t,e,i){let s=this.stateModel.getRuntimeValue(te.ACTIVITYBAR_HIDDEN)?0:t.activityBar.size,n=this.stateModel.getRuntimeValue(te.SIDEBAR_HIDDEN)?0:t.sideBar.size,o=this.stateModel.getRuntimeValue(te.AUXILIARYBAR_HIDDEN)?0:t.auxiliaryBar.size,r=this.stateModel.getInitializationValue(te.PANEL_SIZE)?0:t.panel.size,a=this.stateModel.getRuntimeValue(te.PANEL_POSITION),l=this.stateModel.getRuntimeValue(te.SIDEBAR_POSITON),h=[];if((0,B.G)(a)){let d=this.stateModel.getRuntimeValue(te.PANEL_ALIGNMENT),c=!("center"===d||l===B.H.LEFT&&"right"===d||l===B.H.RIGHT&&"left"===d),u=!("center"===d||l===B.H.RIGHT&&"right"===d||l===B.H.LEFT&&"left"===d),g=e-s-(c?0:n)-(u?0:o),m=this.arrangeEditorNodes({editor:t.editor,sideBar:c?t.sideBar:void 0,auxiliaryBar:u?t.auxiliaryBar:void 0},i-r,g),b=a===B.H.BOTTOM?[m,t.panel]:[t.panel,m];h.push({type:"branch",data:b,size:g,visible:b.some(t=>t.visible)}),c||(l===B.H.LEFT?h.splice(0,0,t.sideBar):h.push(t.sideBar)),u||(l===B.H.RIGHT?h.splice(0,0,t.auxiliaryBar):h.push(t.auxiliaryBar)),l===B.H.LEFT?h.splice(0,0,t.activityBar):h.push(t.activityBar)}else h.push(t.editor),t.editor.size=e-s-n-r-o,a===B.H.RIGHT?h.push(t.panel):h.splice(0,0,t.panel),l===B.H.LEFT?(h.push(t.auxiliaryBar),h.splice(0,0,t.sideBar),h.splice(0,0,t.activityBar)):(h.splice(0,0,t.auxiliaryBar),h.push(t.sideBar),h.push(t.activityBar));return h}createGridDescriptor(){let{width:t,height:e}=this._mainContainerDimension,i=this.stateModel.getInitializationValue(te.SIDEBAR_SIZE),s=this.stateModel.getInitializationValue(te.AUXILIARYBAR_SIZE),n=this.stateModel.getInitializationValue(te.PANEL_SIZE),o=this.titleBarPartView.minimumHeight,r=this.bannerPartView.minimumHeight,a=this.statusBarPartView.minimumHeight,l=this.activityBarPartView.minimumWidth,h=e-o-a,d=[{type:"leaf",data:{type:B.V.TITLEBAR_PART},size:o,visible:this.isVisible(B.V.TITLEBAR_PART,M.wE)},{type:"leaf",data:{type:B.V.BANNER_PART},size:r,visible:!1}],c={type:"leaf",data:{type:B.V.ACTIVITYBAR_PART},size:l,visible:!this.stateModel.getRuntimeValue(te.ACTIVITYBAR_HIDDEN)},u={type:"leaf",data:{type:B.V.SIDEBAR_PART},size:i,visible:!this.stateModel.getRuntimeValue(te.SIDEBAR_HIDDEN)},g={type:"leaf",data:{type:B.V.AUXILIARYBAR_PART},size:s,visible:this.isVisible(B.V.AUXILIARYBAR_PART)},m={type:"leaf",data:{type:B.V.EDITOR_PART},size:0,visible:!this.stateModel.getRuntimeValue(te.EDITOR_HIDDEN)},b={type:"leaf",data:{type:B.V.PANEL_PART},size:n,visible:!this.stateModel.getRuntimeValue(te.PANEL_HIDDEN)},p=this.arrangeMiddleSectionNodes({activityBar:c,auxiliaryBar:g,editor:m,panel:b,sideBar:u},t,h),v={root:{type:"branch",size:t,data:[...this.shouldShowBannerFirst()?d.reverse():d,{type:"branch",data:p,size:h},{type:"leaf",data:{type:B.V.STATUSBAR_PART},size:a,visible:!this.stateModel.getRuntimeValue(te.STATUSBAR_HIDDEN)}]},orientation:M.Zt.VERTICAL,width:t,height:e},f={activityBarVisible:!this.stateModel.getRuntimeValue(te.ACTIVITYBAR_HIDDEN),sideBarVisible:!this.stateModel.getRuntimeValue(te.SIDEBAR_HIDDEN),auxiliaryBarVisible:!this.stateModel.getRuntimeValue(te.AUXILIARYBAR_HIDDEN),panelVisible:!this.stateModel.getRuntimeValue(te.PANEL_HIDDEN),statusbarVisible:!this.stateModel.getRuntimeValue(te.STATUSBAR_HIDDEN),sideBarPosition:(0,B.Y)(this.stateModel.getRuntimeValue(te.SIDEBAR_POSITON)),panelPosition:(0,B.Y)(this.stateModel.getRuntimeValue(te.PANEL_POSITION))};return this.telemetryService.publicLog2("startupLayout",f),v}dispose(){super.dispose(),this.disposed=!0}};function Xt(t){return t.getValue(Zt.ZEN_MODE_CONFIG)}var Zt,Jt,qt=class{constructor(t,e,i,s){this.name=t,this.scope=e,this.target=i,this.defaultValue=s}},$t=class extends qt{constructor(t,e,i,s,n){super(t,e,i,s),this.zenModeIgnore=n,this.runtime=!0}},Qt=class extends qt{constructor(){super(...arguments),this.runtime=!1}},te={MAIN_EDITOR_CENTERED:new $t("editor.centered",M.Ro.WORKSPACE,M.zo.MACHINE,!1),ZEN_MODE_ACTIVE:new $t("zenMode.active",M.Ro.WORKSPACE,M.zo.MACHINE,!1),ZEN_MODE_EXIT_INFO:new $t("zenMode.exitInfo",M.Ro.WORKSPACE,M.zo.MACHINE,{transitionedToCenteredEditorLayout:!1,transitionedToFullScreen:!1,handleNotificationsDoNotDisturbMode:!1,wasVisible:{auxiliaryBar:!1,panel:!1,sideBar:!1}}),SIDEBAR_SIZE:new Qt("sideBar.size",M.Ro.PROFILE,M.zo.MACHINE,300),AUXILIARYBAR_SIZE:new Qt("auxiliaryBar.size",M.Ro.PROFILE,M.zo.MACHINE,300),PANEL_SIZE:new Qt("panel.size",M.Ro.PROFILE,M.zo.MACHINE,300),PANEL_LAST_NON_MAXIMIZED_HEIGHT:new $t("panel.lastNonMaximizedHeight",M.Ro.PROFILE,M.zo.MACHINE,300),PANEL_LAST_NON_MAXIMIZED_WIDTH:new $t("panel.lastNonMaximizedWidth",M.Ro.PROFILE,M.zo.MACHINE,300),PANEL_WAS_LAST_MAXIMIZED:new $t("panel.wasLastMaximized",M.Ro.WORKSPACE,M.zo.MACHINE,!1),AUXILIARYBAR_WAS_LAST_MAXIMIZED:new $t("auxiliaryBar.wasLastMaximized",M.Ro.WORKSPACE,M.zo.MACHINE,!1),AUXILIARYBAR_LAST_NON_MAXIMIZED_SIZE:new $t("auxiliaryBar.lastNonMaximizedSize",M.Ro.PROFILE,M.zo.MACHINE,300),AUXILIARYBAR_LAST_NON_MAXIMIZED_VISIBILITY:new $t("auxiliaryBar.lastNonMaximizedVisibility",M.Ro.WORKSPACE,M.zo.MACHINE,{sideBarVisible:!1,editorVisible:!1,panelVisible:!1,auxiliaryBarVisible:!1}),AUXILIARYBAR_EMPTY:new Qt("auxiliaryBar.empty",M.Ro.PROFILE,M.zo.MACHINE,!1),SIDEBAR_POSITON:new $t("sideBar.position",M.Ro.WORKSPACE,M.zo.MACHINE,B.H.LEFT),PANEL_POSITION:new $t("panel.position",M.Ro.WORKSPACE,M.zo.MACHINE,B.H.BOTTOM),PANEL_ALIGNMENT:new $t("panel.alignment",M.Ro.PROFILE,M.zo.USER,"center"),ACTIVITYBAR_HIDDEN:new $t("activityBar.hidden",M.Ro.WORKSPACE,M.zo.MACHINE,!1,!0),SIDEBAR_HIDDEN:new $t("sideBar.hidden",M.Ro.WORKSPACE,M.zo.MACHINE,!1),EDITOR_HIDDEN:new $t("editor.hidden",M.Ro.WORKSPACE,M.zo.MACHINE,!1),PANEL_HIDDEN:new $t("panel.hidden",M.Ro.WORKSPACE,M.zo.MACHINE,!0),AUXILIARYBAR_HIDDEN:new $t("auxiliaryBar.hidden",M.Ro.WORKSPACE,M.zo.MACHINE,!0),STATUSBAR_HIDDEN:new $t("statusBar.hidden",M.Ro.WORKSPACE,M.zo.MACHINE,!1,!0)};!function(t){t.AUXILIARYBAR_DEFAULT_VISIBILITY="workbench.secondarySideBar.defaultVisibility",t.ACTIVITY_BAR_VISIBLE="workbench.activityBar.visible",t.PANEL_POSITION="workbench.panel.defaultLocation",t.PANEL_OPENS_MAXIMIZED="workbench.panel.opensMaximized",t.ZEN_MODE_CONFIG="zenMode",t.EDITOR_CENTERED_LAYOUT_AUTO_RESIZE="workbench.editor.centeredLayoutAutoResize"}(Zt||(Zt={})),function(t){t.STATUSBAR_VISIBLE="workbench.statusBar.visible",t.SIDEBAR_POSITION="workbench.sideBar.location"}(Jt||(Jt={}));var ee=(E=class t extends M.mj{constructor(t,e,i){super(),this.storageService=t,this.configurationService=e,this.contextService=i,this._onDidChangeState=this._register(new M.ej),this.onDidChangeState=this._onDidChangeState.event,this.stateCache=new Map,this.isNew={[M.Ro.WORKSPACE]:this.storageService.isNew(M.Ro.WORKSPACE),[M.Ro.PROFILE]:this.storageService.isNew(M.Ro.PROFILE),[M.Ro.APPLICATION]:this.storageService.isNew(M.Ro.APPLICATION)},this._register(this.configurationService.onDidChangeConfiguration(t=>this.updateStateFromLegacySettings(t)))}updateStateFromLegacySettings(t){var e;t.affectsConfiguration(B.z.ACTIVITY_BAR_LOCATION)&&this.setRuntimeValueAndFire(te.ACTIVITYBAR_HIDDEN,this.isActivityBarHidden()),t.affectsConfiguration(Jt.STATUSBAR_VISIBLE)&&this.setRuntimeValueAndFire(te.STATUSBAR_HIDDEN,!this.configurationService.getValue(Jt.STATUSBAR_VISIBLE)),t.affectsConfiguration(Jt.SIDEBAR_POSITION)&&this.setRuntimeValueAndFire(te.SIDEBAR_POSITON,(0,B.J)(null!==(e=this.configurationService.getValue(Jt.SIDEBAR_POSITION))&&void 0!==e?e:"left"))}updateLegacySettingsFromState(t,e){let i=this.getRuntimeValue(te.ZEN_MODE_ACTIVE);t.zenModeIgnore&&i||(t===te.ACTIVITYBAR_HIDDEN?this.configurationService.updateValue(B.z.ACTIVITY_BAR_LOCATION,e?B.I.HIDDEN:void 0):t===te.STATUSBAR_HIDDEN?this.configurationService.updateValue(Jt.STATUSBAR_VISIBLE,!e):t===te.SIDEBAR_POSITON&&this.configurationService.updateValue(Jt.SIDEBAR_POSITION,(0,B.Y)(e)))}load(e){var i;let s;if(!e.resetLayout)for(s in te){let t=te[s],e=this.loadKeyFromStorage(t);void 0!==e&&this.stateCache.set(t.name,e)}this.stateCache.set(te.ACTIVITYBAR_HIDDEN.name,this.isActivityBarHidden()),this.stateCache.set(te.STATUSBAR_HIDDEN.name,!this.configurationService.getValue(Jt.STATUSBAR_VISIBLE)),this.stateCache.set(te.SIDEBAR_POSITON.name,(0,B.J)(null!==(i=this.configurationService.getValue(Jt.SIDEBAR_POSITION))&&void 0!==i?i:"left"));let n=this.contextService.getWorkbenchState(),o=e.mainContainerDimension;for(s in te.SIDEBAR_SIZE.defaultValue=Math.min(300,o.width/4),te.SIDEBAR_HIDDEN.defaultValue=n===M.Xo.EMPTY,te.AUXILIARYBAR_SIZE.defaultValue=Math.min(300,o.width/4),te.AUXILIARYBAR_HIDDEN.defaultValue=(()=>{let t=this.configurationService.inspect(Zt.AUXILIARYBAR_DEFAULT_VISIBILITY);if("hidden"!==t.defaultValue&&!(0,M.K_)(t)&&this.stateCache.get(te.AUXILIARYBAR_EMPTY.name))return!0;if(this.isNew[M.Ro.APPLICATION]&&"hidden"!==t.value)return!1;switch(t.value){case"hidden":return!0;case"visibleInWorkspace":case"maximizedInWorkspace":return n===M.Xo.EMPTY;default:return!1}})(),te.PANEL_SIZE.defaultValue=(null!==(r=this.stateCache.get(te.PANEL_POSITION.name))&&void 0!==r?r:(0,B.G)(te.PANEL_POSITION.defaultValue))?o.height/3:o.width/4,te.PANEL_POSITION.defaultValue=(0,B.J)(null!==(a=this.configurationService.getValue(Zt.PANEL_POSITION))&&void 0!==a?a:"bottom"),te){var r,a;let t=te[s];void 0===this.stateCache.get(t.name)&&this.stateCache.set(t.name,t.defaultValue)}this.applyOverrides(e),this._register(this.storageService.onDidChangeValue(M.Ro.PROFILE,void 0,this._store)(e=>{let i;for(i in te){let n=te[i];if(n instanceof $t&&n.scope===M.Ro.PROFILE&&n.target===M.zo.USER&&"".concat(t.STORAGE_PREFIX).concat(n.name)===e.key){var s;let t=null!==(s=this.loadKeyFromStorage(n))&&void 0!==s?s:n.defaultValue;this.stateCache.get(n.name)!==t&&(this.stateCache.set(n.name,t),this._onDidChangeState.fire({key:n,value:t}))}}}))}applyOverrides(t){if(this.isNew[M.Ro.WORKSPACE]){let t=this.configurationService.getValue(Zt.AUXILIARYBAR_DEFAULT_VISIBILITY);("maximized"===t||"maximizedInWorkspace"===t&&this.contextService.getWorkbenchState()!==M.Xo.EMPTY)&&this.applyAuxiliaryBarMaximizedOverride()}this.getRuntimeValue(te.PANEL_HIDDEN)&&this.getRuntimeValue(te.EDITOR_HIDDEN)&&!this.getRuntimeValue(te.AUXILIARYBAR_WAS_LAST_MAXIMIZED)&&this.setRuntimeValue(te.EDITOR_HIDDEN,!1),this.isNew[M.Ro.WORKSPACE]&&t.mainContainerDimension.width<=jt.width&&(this.setInitializationValue(te.SIDEBAR_SIZE,Math.min(300,t.mainContainerDimension.width/4)),this.setInitializationValue(te.AUXILIARYBAR_SIZE,Math.min(300,t.mainContainerDimension.width/4)))}applyAuxiliaryBarMaximizedOverride(){this.setRuntimeValue(te.AUXILIARYBAR_LAST_NON_MAXIMIZED_VISIBILITY,{sideBarVisible:!this.getRuntimeValue(te.SIDEBAR_HIDDEN),panelVisible:!this.getRuntimeValue(te.PANEL_HIDDEN),editorVisible:!this.getRuntimeValue(te.EDITOR_HIDDEN),auxiliaryBarVisible:!this.getRuntimeValue(te.AUXILIARYBAR_HIDDEN)}),this.setRuntimeValue(te.SIDEBAR_HIDDEN,!0),this.setRuntimeValue(te.PANEL_HIDDEN,!0),this.setRuntimeValue(te.EDITOR_HIDDEN,!0),this.setRuntimeValue(te.AUXILIARYBAR_HIDDEN,!1),this.setRuntimeValue(te.AUXILIARYBAR_LAST_NON_MAXIMIZED_SIZE,this.getInitializationValue(te.AUXILIARYBAR_SIZE)),this.setRuntimeValue(te.AUXILIARYBAR_WAS_LAST_MAXIMIZED,!0)}save(t,e){let i,s=this.getRuntimeValue(te.ZEN_MODE_ACTIVE);for(i in te){let n=te[i];if(t&&n.scope===M.Ro.WORKSPACE||e&&n.scope===M.Ro.PROFILE){if(s&&n instanceof $t&&n.zenModeIgnore)continue;this.saveKeyToStorage(n)}}}getInitializationValue(t){return this.stateCache.get(t.name)}setInitializationValue(t,e){this.stateCache.set(t.name,e)}getRuntimeValue(t,e){var i;if(e)switch(t){case te.ACTIVITYBAR_HIDDEN:this.stateCache.set(t.name,this.isActivityBarHidden());break;case te.STATUSBAR_HIDDEN:this.stateCache.set(t.name,!this.configurationService.getValue(Jt.STATUSBAR_VISIBLE));break;case te.SIDEBAR_POSITON:this.stateCache.set(t.name,null!==(i=this.configurationService.getValue(Jt.SIDEBAR_POSITION))&&void 0!==i?i:"left")}return this.stateCache.get(t.name)}setRuntimeValue(t,e){this.stateCache.set(t.name,e);let i=this.getRuntimeValue(te.ZEN_MODE_ACTIVE);t.scope===M.Ro.PROFILE&&(!i||!t.zenModeIgnore)&&(this.saveKeyToStorage(t),this.updateLegacySettingsFromState(t,e))}isActivityBarHidden(){let t=this.configurationService.getValue(Zt.ACTIVITY_BAR_VISIBLE);return void 0===t?this.configurationService.getValue(B.z.ACTIVITY_BAR_LOCATION)!==B.I.DEFAULT:!t}setRuntimeValueAndFire(t,e){this.stateCache.get(t.name)!==e&&(this.setRuntimeValue(t,e),this._onDidChangeState.fire({key:t,value:e}))}saveKeyToStorage(e){let i=this.stateCache.get(e.name);this.storageService.store("".concat(t.STORAGE_PREFIX).concat(e.name),"object"==typeof i?JSON.stringify(i):i,e.scope,e.target)}loadKeyFromStorage(e){let i=this.storageService.get("".concat(t.STORAGE_PREFIX).concat(e.name),e.scope);if(void 0!==i)switch(this.isNew[e.scope]=!1,typeof e.defaultValue){case"boolean":return"true"===i;case"number":return parseInt(i);case"object":return JSON.parse(i)}return i}},{_:E.STORAGE_PREFIX="workbench."},E);(0,M.Vl)(),(0,M.iv)(),(0,M.Xb)(),(0,M.Ww)(),(0,M.wj)(),(0,P.pi)(),(0,M.f)();var ie=class extends M.mj{constructor(t,e,i){super(),this._accessibilitySignalService=i,this._scheduler=this._register(new M.Aw(()=>{this._signalLoop=this._accessibilitySignalService.playSignalLoop(P.fi.progress,null!==e&&void 0!==e?e:5e3)},t)),this._scheduler.schedule()}dispose(){var t;super.dispose(),null!==(t=this._signalLoop)&&void 0!==t&&t.dispose(),this._scheduler.dispose()}};ie=(0,M.Jb)([(0,M.Yb)(2,M.d)],ie),(0,L.En)(),(0,M.pO)(),(0,M.Vb)(),(0,M.TM)(),(0,x.eg)(),(0,x.Fx)(),(0,P.pi)(),(0,M.f)(),(0,M.Rb)(),(0,M.Ct)(),(0,M.Tt)(),(0,B.tr)(),(0,M.Bd)();var se=class{constructor(){this.priority=90,this.name="notifications",this.when=B.jn,this.type=x.$h.View}getProvider(t){let e=t.get(x.Px),i=t.get(M.wt),s=t.get(M.Lb),n=t.get(M.d);return function(){let t=ht(i);if(!t)return;s.executeCommand("notifications.showList");let o,r=i.lastFocusedList;if(r instanceof M.ot&&(o=r.indexOf(t)),void 0===o)return;function a(){if(s.executeCommand("notifications.showList"),r&&void 0!==o){r.domFocus();try{r.setFocus([o])}catch(t){}}}function l(){let t=ht(i),e=null===t||void 0===t?void 0:t.message.original.toString();if(t&&e)return(0,M.Hd)(t.source?(0,M.EM)(3434,"{0} Source: {1}",e,t.source):e,t.severity)}let h=l();return h?(t.onDidClose(()=>e.next()),new x.Zh(x.Qh.Notification,{type:x.$h.View},()=>h,()=>a(),"accessibility.verbosity.notification",void 0,function(t,e){var i;let s;if(t.actions&&(s=[],t.actions.primary&&s.push(...t.actions.primary),t.actions.secondary&&s.push(...t.actions.secondary)),s)for(let o of s){o.class=M.Bb.asClassName(M.fO.bell);let e=o.run;o.run=()=>{e(),t.close()}}let n=null===(i=s)||void 0===i?void 0:i.find(t=>t.label.includes("Manage Extension"));return n&&(n.class=M.Bb.asClassName(M.fO.gear)),s&&s.push({id:"clearNotification",label:(0,M.EM)(3435,"Clear Notification"),tooltip:(0,M.EM)(3435,"Clear Notification"),run:()=>{t.close(),e.playSignal(P.fi.clear)},enabled:!0,class:M.Bb.asClassName(M.fO.clearAll)}),s}(t,n),()=>{if(r)return a(),r.focusNext(),l()},()=>{if(r)return a(),r.focusPrevious(),l()})):void 0}()}};(0,M.oS)(),(0,M.sj)(),(0,M.Ww)(),(0,M.oE)(),(0,M.cc)(),(0,M.aP)(),(0,M.iM)(),(0,B.W)(),(0,B.st)(),(0,M.Vo)(),(0,M.Lo)(),(0,M.i_)(),(0,O.L)(),(0,O.z)(),(0,M.Fd)(),(0,M.e_)(),(0,M.Ap)(),(0,M.AN)(),(0,P.z)(),(0,M.SE)();var ne=class extends Kt{constructor(t,e,i,s){super(t,{resetLayout:null===e||void 0===e?void 0:e.resetLayout,customEditorRestore:null===e||void 0===e?void 0:e.customEditorRestore}),this.options=e,this.serviceCollection=i,this._onWillShutdown=this._register(new M.ej),this.onWillShutdown=this._onWillShutdown.event,this._onDidShutdown=this._register(new M.ej),this.onDidShutdown=this._onDidShutdown.event,this.previousUnexpectedError={message:void 0,time:0},(0,M.lc)("code/willStartWorkbench"),this.registerErrorHandler(s),this.parent.appendChild(this.mainContainer)}registerErrorHandler(t){M.wE.addEventListener("unhandledrejection",t=>{(0,M.sP)(t.reason),t.preventDefault()}),(0,M.lP)(e=>this.handleUnexpectedError(e,t))}handleUnexpectedError(t,e){let i=(0,M.Mp)(t,!0);if(!i)return;let s=Date.now();i===this.previousUnexpectedError.message&&s-this.previousUnexpectedError.time<=1e3||(this.previousUnexpectedError.time=s,this.previousUnexpectedError.message=i,e.error(i))}startup(){try{this._register((0,M.cj)(175));let t=this.initServices(this.serviceCollection);return t.invokeFunction(e=>{let i=e.get(O.R),s=e.get(M.Io),n=e.get(M.r_),o=e.get(P.R),r=e.get(M.zl),a=e.get(M.Pd);this.initLayout(e),this.registerListeners(i,s,n,o,r),this.renderWorkbench(t,a,s,n),this.createWorkbenchLayout(),this.layout(),this.restore(t,i)}),t}catch(F){throw(0,M.sP)(F),F}}initServices(t){t.set(B.ot,this);let e=(0,M.qp)();for(let[s,n]of e)t.set(s,n);let i=new M.y(t,!0);return i.invokeFunction(t=>{let e=t.get(O.R),s=t.get(M.r_);"function"==typeof s.acquireInstantiationService&&s.acquireInstantiationService(i),e.phase=O.M.Ready}),i}registerListeners(t,e,i,s,n){this._register(i.onDidChangeConfiguration(t=>this.updateFontAliasing(t,i))),M.hM?this._register(e.onWillSaveState(t=>{t.reason===M.Bo.SHUTDOWN&&this.storeFontInfo(e)})):this._register(t.onWillShutdown(()=>this.storeFontInfo(e))),this._register(t.onWillShutdown(t=>this._onWillShutdown.fire(t))),this._register(t.onDidShutdown(()=>{this._onDidShutdown.fire(),this.dispose()})),this._register(s.onDidChangeFocus(t=>{t||e.flush()})),this._register(n.onWillShowDialog(()=>this.mainContainer.classList.add("modal-dialog-visible"))),this._register(n.onDidShowDialog(()=>this.mainContainer.classList.remove("modal-dialog-visible")))}updateFontAliasing(t,e){if(!M.pM||t&&!t.affectsConfiguration("workbench.fontAliasing"))return;let i=e.getValue("workbench.fontAliasing");if(this.fontAliasing===i)return;this.fontAliasing=i;let s=["antialiased","none","auto"];this.mainContainer.classList.remove(...s.map(t=>"monaco-font-aliasing-".concat(t))),s.some(t=>t===i)&&this.mainContainer.classList.add("monaco-font-aliasing-".concat(i))}restoreFontInfo(t,e){let i=t.get("editorFontInfo",M.Ro.APPLICATION);if(i)try{let t=JSON.parse(i);Array.isArray(t)&&P.Xa.restoreFontInfo(M.wE,t)}catch(s){}P.Xa.readFontInfo(M.wE,P.Qa.createFromRawSettings(e.getValue("editor"),P.ro.getInstance(M.wE).value))}storeFontInfo(t){let e=P.Xa.serializeFontInfo(M.wE);e&&t.store("editorFontInfo",JSON.stringify(e),M.Ro.APPLICATION,M.zo.MACHINE)}renderWorkbench(t,e,i,s){var n;(0,M.t_)(this.mainContainer),(0,M.Hn)((e,i)=>t.createInstance(ie,e,i));let o=(0,M._N)(["monaco-workbench",M.yM?"windows":M.dM?"linux":"mac",M._M?"web":void 0,M.cE?"chromium":M.lE?"firefox":M.dE?"safari":void 0,...this.getLayoutClasses(),...null!==(n=this.options)&&void 0!==n&&n.extraClasses?this.options.extraClasses:[]]);this.mainContainer.classList.add(...o),this.updateFontAliasing(void 0,s),this.restoreFontInfo(i,s);for(let{id:r,role:a,classes:l,options:h}of[{id:B.V.TITLEBAR_PART,role:"none",classes:["titlebar"]},{id:B.V.BANNER_PART,role:"banner",classes:["banner"]},{id:B.V.ACTIVITYBAR_PART,role:"none",classes:["activitybar",this.getSideBarPosition()===B.H.LEFT?"left":"right"]},{id:B.V.SIDEBAR_PART,role:"none",classes:["sidebar",this.getSideBarPosition()===B.H.LEFT?"left":"right"]},{id:B.V.EDITOR_PART,role:"main",classes:["editor"],options:{restorePreviousState:this.willRestoreEditors()}},{id:B.V.PANEL_PART,role:"none",classes:["panel","basepanel",(0,B.Y)(this.getPanelPosition())]},{id:B.V.AUXILIARYBAR_PART,role:"none",classes:["auxiliarybar","basepanel",this.getSideBarPosition()===B.H.LEFT?"right":"left"]},{id:B.V.STATUSBAR_PART,role:"status",classes:["statusbar"]}]){let t=this.createPart(r,a,l);(0,M.lc)("code/willCreatePart/".concat(r)),this.getPart(r).create(t,h),(0,M.lc)("code/didCreatePart/".concat(r))}this.createNotificationsHandlers(t,e)}createPart(t,e,i){let s=(0,M.jx)("status"===e?"footer":"div");return s.classList.add("part",...i),s.id=t,s.setAttribute("role",e),"status"===e&&s.setAttribute("aria-live","off"),s}createNotificationsHandlers(t,e){let i=this._register(t.createInstance(Ot,this.mainContainer,e.model)),s=this._register(t.createInstance(Ut,this.mainContainer,e.model));this._register(t.createInstance(kt,e.model));let n=t.createInstance(Ht,e.model);this._register(i.onDidChangeVisibility(()=>{n.update(i.isVisible,s.isVisible),s.update(i.isVisible)})),this._register(s.onDidChangeVisibility(()=>{n.update(i.isVisible,s.isVisible)})),function(t,e,i){M.kb.registerCommandAndKeybindingRule({id:$,weight:M.Ob.WorkbenchContrib,primary:(0,M.GO)(M.JO.CtrlCmd|M.KO.KeyK,M.JO.CtrlCmd|M.JO.Shift|M.KO.KeyN),handler:()=>{e.hide(),t.show()}}),M.kb.registerCommandAndKeybindingRule({id:Q,weight:M.Ob.WorkbenchContrib+50,when:B.Mn,primary:M.KO.Escape,handler:()=>t.hide()}),M.Fb.registerCommand("notifications.toggleList",()=>{t.isVisible?t.hide():(e.hide(),t.show())}),M.kb.registerCommandAndKeybindingRule({id:ot,weight:M.Ob.WorkbenchContrib,when:B.jn,primary:M.KO.Delete,mac:{primary:M.JO.CtrlCmd|M.KO.Backspace},handler:(t,e)=>{let i=t.get(M.d),s=ht(t.get(M.wt),e);s&&!s.hasProgress&&(s.close(),i.playSignal(P.fi.clear))}}),M.kb.registerCommandAndKeybindingRule({id:st,weight:M.Ob.WorkbenchContrib,when:B.jn,primary:M.KO.RightArrow,handler:(t,e)=>{var i;null===(i=ht(t.get(M.wt),e))||void 0===i||i.expand()}}),M.kb.registerCommandAndKeybindingRule({id:nt,weight:M.Ob.WorkbenchContrib,when:M.Mk.or(B.jn,B.Nn),primary:M.JO.CtrlCmd|M.JO.Shift|M.KO.KeyA,handler:t=>{var e;let s=t.get(M.rx).createInstance(dt),n=ht(t.get(M.wt))||i.notifications.at(0);if(!n)return;let o=null!==(e=n.actions)&&void 0!==e&&e.primary?n.actions.primary.at(0):void 0;o&&(s.run(o,n),n.close(),s.dispose())}}),M.kb.registerCommandAndKeybindingRule({id:it,weight:M.Ob.WorkbenchContrib,when:B.jn,primary:M.KO.LeftArrow,handler:(t,e)=>{var i;null===(i=ht(t.get(M.wt),e))||void 0===i||i.collapse()}}),M.kb.registerCommandAndKeybindingRule({id:"notification.toggle",weight:M.Ob.WorkbenchContrib,when:B.jn,primary:M.KO.Space,secondary:[M.KO.Enter],handler:t=>{var e;null===(e=ht(t.get(M.wt)))||void 0===e||e.toggle()}}),M.Fb.registerCommand(tt,t=>{e.hide()}),M.kb.registerKeybindingRule({id:tt,weight:M.Ob.WorkbenchContrib-50,when:B.Nn,primary:M.KO.Escape}),M.kb.registerKeybindingRule({id:tt,weight:M.Ob.WorkbenchContrib+100,when:M.Mk.and(B.Nn,B.jn),primary:M.KO.Escape}),M.Fb.registerCommand(et,()=>e.focus()),M.kb.registerCommandAndKeybindingRule({id:"notifications.focusNextToast",weight:M.Ob.WorkbenchContrib,when:M.Mk.and(B.jn,B.Nn),primary:M.KO.DownArrow,handler:()=>{e.focusNext()}}),M.kb.registerCommandAndKeybindingRule({id:"notifications.focusPreviousToast",weight:M.Ob.WorkbenchContrib,when:M.Mk.and(B.jn,B.Nn),primary:M.KO.UpArrow,handler:()=>{e.focusPrevious()}}),M.kb.registerCommandAndKeybindingRule({id:"notifications.focusFirstToast",weight:M.Ob.WorkbenchContrib,when:M.Mk.and(B.jn,B.Nn),primary:M.KO.PageUp,secondary:[M.KO.Home],handler:()=>{e.focusFirst()}}),M.kb.registerCommandAndKeybindingRule({id:"notifications.focusLastToast",weight:M.Ob.WorkbenchContrib,when:M.Mk.and(B.jn,B.Nn),primary:M.KO.PageDown,secondary:[M.KO.End],handler:()=>{e.focusLast()}}),M.Fb.registerCommand(rt,()=>t.clearAll()),M.Fb.registerCommand(at,t=>{let e=t.get(M.Pd);e.setFilter(e.getFilter()===M.zd.ERROR?M.zd.OFF:M.zd.ERROR)}),M.Fb.registerCommand(lt,t=>{let e=t.get(M.Pd),i=t.get(M.uc),s=e.getFilters().sort((t,e)=>t.label.localeCompare(e.label)),n=new M.gj,o=n.add(i.createQuickPick());o.items=s.map(t=>({id:t.id,label:t.label,tooltip:"".concat(t.label," (").concat(t.id,")"),filter:t.filter})),o.canSelectMany=!0,o.placeholder=(0,M.EM)(3463,"Select sources to enable all notifications from"),o.selectedItems=o.items.filter(t=>t.filter===M.zd.OFF),o.show(),n.add(o.onDidAccept(async()=>{for(let t of o.items)e.setFilter({id:t.id,label:t.label,filter:o.selectedItems.includes(t)?M.zd.OFF:M.zd.ERROR});o.hide()})),n.add(o.onDidHide(()=>n.dispose()))});let s=(0,M.DM)(3464,"Notifications");M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:$,title:(0,M.DM)(3465,"Show Notifications"),category:s}}),M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:Q,title:(0,M.DM)(3466,"Hide Notifications"),category:s},when:B.Mn}),M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:rt,title:(0,M.DM)(3467,"Clear All Notifications"),category:s}}),M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:nt,title:(0,M.DM)(3468,"Accept Notification Primary Action"),category:s}}),M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:at,title:(0,M.DM)(3469,"Toggle Do Not Disturb Mode"),category:s}}),M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:lt,title:(0,M.DM)(3470,"Toggle Do Not Disturb Mode By Source..."),category:s}}),M.Cb.appendMenuItem(M.xb.CommandPalette,{command:{id:et,title:(0,M.DM)(3471,"Focus Notification Toast"),category:s},when:B.Nn})}(i,s,e.model),L.Tn.register(new se),this.registerNotifications({onDidChangeNotificationsVisibility:M.tj.map(M.tj.any(s.onDidChangeVisibility,i.onDidChangeVisibility),()=>s.isVisible||i.isVisible)})}restore(t,e){try{this.restoreParts(t)}catch(t){(0,M.sP)(t)}this.whenReady.finally(()=>Promise.race([this.whenRestored,(0,M.$w)(2e3)]).finally(()=>{function t(){(0,M.lc)("code/didStartWorkbench"),performance.measure("perf: workbench create & restore","code/didLoadWorkbenchMain","code/didStartWorkbench")}this.isRestored()?t():this.whenRestored.finally(()=>t()),e.phase=O.M.Restored,this._register(new M.Aw(()=>{this._register((0,M.PS)(M.wE,()=>e.phase=O.M.Eventually,2500))},2500)).schedule()}))}};(0,L.yt)();(0,L.O)(),(0,L.St)(),(0,M.ni)(),(0,M.eu)(),(0,M.Xb)(),(0,M.oS)(),(0,M.ia)(),(0,M.Kb)(),(0,M.pO)(),(0,M.sj)(),(0,M.wj)(),(0,M.TM)(),(0,M.ei)(),(0,P.pr)(),(0,M.Tb)(),(0,M.ox)(),(0,M.Dd)(),(0,M.dc)(),(0,O.G)(),(0,M.rr)();var oe,re=class{constructor(t,e,i,s){this._disposables=new M.gj,this._onDidChangeVisibility=this._disposables.add(new M.ej),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.element=(0,M.jx)("div"),this.element.classList.add("command-center");let n=i.createInstance(P.dr,this.element,M.xb.CommandCenter,{contextMenu:M.xb.TitleBarContext,hiddenItemStrategy:P.ur.NoHide,toolbarOptions:{primaryGroup:()=>!0},telemetrySource:"commandCenter",actionViewItemProvider:(s,n)=>s instanceof M.wb&&s.item.submenu===M.xb.CommandCenterCenter?i.createInstance(ae,s,t,(0,V.A)((0,V.A)({},n),{},{hoverDelegate:e})):(0,M.Jr)(i,s,(0,V.A)((0,V.A)({},n),{},{hoverDelegate:e}))});this._disposables.add(M.tj.filter(s.onShow,()=>(0,M.sS)(this.element),this._disposables)(this._setVisibility.bind(this,!1))),this._disposables.add(s.onHide(this._setVisibility.bind(this,!0))),this._disposables.add(n)}_setVisibility(t){this.element.classList.toggle("hide",!t),this._onDidChangeVisibility.fire()}dispose(){this._disposables.dispose()}};re=(0,M.Jb)([(0,M.Yb)(2,M.rx),(0,M.Yb)(3,M.uc)],re);var ae=(C=class extends M.Gi{constructor(t,e,i,s,n,o,r){var a,l;super(void 0,null!==(a=t.actions.find(t=>"workbench.action.quickOpenWithModes"===t.id))&&void 0!==a?a:t.actions[0],i),this._submenu=t,this._windowTitle=e,this._hoverService=s,this._keybindingService=n,this._instaService=o,this._editorGroupService=r,this._hoverDelegate=null!==(l=i.hoverDelegate)&&void 0!==l?l:(0,M.ra)("mouse")}render(t){super.render(t),t.classList.add("command-center-center"),t.classList.toggle("multiple",this._submenu.actions.length>1);let e=this._store.add(this._hoverService.setupManagedHover(this._hoverDelegate,t,this.getTooltip()));this._store.add(this._windowTitle.onDidChange(()=>{e.update(this.getTooltip())}));let i=[];for(let s of this._submenu.actions)s instanceof M.Gb?i.push(s.actions):i.push([s]);for(let s=0;s<i.length;s++){let e=i[s],n=this._instaService.createInstance(P.fr,t,{hiddenItemStrategy:P.ur.NoHide,telemetrySource:"commandCenterCenter",actionViewItemProvider:(t,e)=>{if(e=(0,V.A)((0,V.A)({},e),{},{hoverDelegate:this._hoverDelegate}),t.id!==oe._quickOpenCommandId)return(0,M.Jr)(this._instaService,t,e);let i=this;return this._instaService.createInstance(class extends M.Gi{constructor(){super(void 0,t,e)}render(t){var e;super.render(t),t.classList.toggle("command-center-quick-pick"),t.role="button";let s=this.action,n=(0,M.jx)("span");n.ariaHidden="true",n.className=null!==(e=s.class)&&void 0!==e?e:"",n.classList.add("search-icon");let o=this._getLabel(),r=(0,M.jx)("span");r.classList.add("search-label"),r.textContent=o,(0,M.jS)(t,n,r);let a=this._store.add(i._hoverService.setupManagedHover(i._hoverDelegate,t,this.getTooltip()));this._store.add(i._windowTitle.onDidChange(()=>{a.update(this.getTooltip()),r.textContent=this._getLabel()})),this._store.add(i._editorGroupService.onDidChangeEditorPartOptions(t=>{let{newPartOptions:e,oldPartOptions:i}=t;e.showTabs!==i.showTabs&&(a.update(this.getTooltip()),r.textContent=this._getLabel())}))}getTooltip(){return i.getTooltip()}_getLabel(){var t;let{prefix:e,suffix:s}=i._windowTitle.getTitleDecorations(),n=i._windowTitle.workspaceName;return i._windowTitle.isCustomTitleFormat()?n=i._windowTitle.getWindowTitle():"none"===i._editorGroupService.partOptions.showTabs&&(n=null!==(t=i._windowTitle.fileName)&&void 0!==t?t:n),n||(n=(0,M.EM)(3554,"Search")),e&&(n=(0,M.EM)(3555,"{0} {1}",e,n)),s&&(n=(0,M.EM)(3556,"{0} {1}",n,s)),n.replaceAll(/\r\n|\r|\n/g,"\u23ce")}})}});if(n.setActions(e),this._store.add(n),s<i.length-1){let e=(0,M.kc)(M.fO.circleSmallFilled);e.style.padding="0 12px",e.style.height="100%",e.style.opacity="0.5",t.appendChild(e)}}}getTooltip(){var t;let e=null===(t=this._keybindingService.lookupKeybinding(this.action.id))||void 0===t?void 0:t.getLabel();return e?(0,M.EM)(3557,"Search {0} ({1}) \u2014 {2}",this._windowTitle.workspaceName,e,this._windowTitle.value):(0,M.EM)(3558,"Search {0} \u2014 {1}",this._windowTitle.workspaceName,this._windowTitle.value)}},{_:oe=C},{_:C._quickOpenCommandId="workbench.action.quickOpenWithModes"},C);ae=oe=(0,M.Jb)([(0,M.Yb)(3,M.nr),(0,M.Yb)(4,M.Ed),(0,M.Yb)(5,M.rx),(0,M.Yb)(6,O.W)],ae),M.Cb.appendMenuItem(M.xb.CommandCenter,{submenu:M.xb.CommandCenterCenter,title:(0,M.EM)(3559,"Command Center"),icon:M.fO.shield,order:101}),(0,L.b)(),(0,P.c)(),(0,k.c)(),(0,M.vl)(),(0,M.Tl)(),(0,M.zp)(),(0,M.TM)(),(0,M.i_)(),(0,M.Vo)(),(0,M.Lo)(),(0,B.W)(),(0,M.Tb)(),(0,M.Pk)(),(0,M.Pb)(),(0,L.w)(),(0,B.tr)(),(0,M.yi)();var le=class extends M.bb{constructor(t,e,i,s,n){super({id:"toggle.".concat(t),title:e,metadata:i?{description:i}:void 0,toggled:M.Mk.equals("config.".concat(t),!0),menu:[{id:M.xb.TitleBarContext,when:n,order:s,group:"2_config"},{id:M.xb.TitleBarTitleContext,when:n,order:s,group:"2_config"}]}),this.section=t}run(t){let e=t.get(M.r_),i=e.getValue(this.section);e.updateValue(this.section,!i)}};(0,M.Db)(class extends le{constructor(){super(B.z.COMMAND_CENTER,(0,M.EM)(3578,"Command Center"),(0,M.EM)(3579,"Toggle visibility of the Command Center in title bar"),1,B.wn.toNegated())}}),(0,M.Db)(class extends le{constructor(){super("workbench.navigationControl.enabled",(0,M.EM)(3580,"Navigation Controls"),(0,M.EM)(3581,"Toggle visibility of the Navigation Controls in title bar"),2,M.Mk.and(B.wn.toNegated(),M.Mk.has("config.window.commandCenter")))}}),(0,M.Db)(class extends le{constructor(){super(B.z.LAYOUT_ACTIONS,(0,M.EM)(3582,"Layout Controls"),(0,M.EM)(3583,"Toggle visibility of the Layout Controls in title bar"),4)}}),(0,M.Db)(class extends M.bb{constructor(){super({id:"toggle.".concat(M.li.CUSTOM_TITLE_BAR_VISIBILITY),title:(0,M.EM)(3584,"Hide Custom Title Bar"),menu:[{id:M.xb.TitleBarContext,order:0,when:M.Mk.equals(B.Xn.key,M.ui.NATIVE),group:"3_toggle"},{id:M.xb.TitleBarTitleContext,order:0,when:M.Mk.equals(B.Xn.key,M.ui.NATIVE),group:"3_toggle"}]})}run(t){t.get(M.r_).updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.NEVER)}}),(0,M.Db)(class extends M.bb{constructor(){super({id:"toggle.".concat(M.li.CUSTOM_TITLE_BAR_VISIBILITY,".windowed"),title:(0,M.EM)(3585,"Hide Custom Title Bar In Full Screen"),menu:[{id:M.xb.TitleBarContext,order:1,when:B.En,group:"3_toggle"},{id:M.xb.TitleBarTitleContext,order:1,when:B.En,group:"3_toggle"}]})}run(t){t.get(M.r_).updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.WINDOWED)}}),(0,M.Db)(class extends M.bb{constructor(){var t;super({id:"toggle.toggleCustomTitleBar",title:(0,M.EM)(3586,"Custom Title Bar"),toggled:B.Zn,menu:[{id:M.xb.MenubarAppearanceMenu,order:6,when:M.Mk.or(M.Mk.and(M.Mk.equals(B.Xn.key,M.ui.NATIVE),null===(t=M.Mk.and(M.Mk.equals("config.workbench.layoutControl.enabled",!1),M.Mk.equals("config.window.commandCenter",!1),M.Mk.notEquals("config.workbench.editor.editorActionsLocation","titleBar"),M.Mk.notEquals("config.workbench.activityBar.location","top"),M.Mk.notEquals("config.workbench.activityBar.location","bottom")))||void 0===t?void 0:t.negate()),B.En),group:"2_workbench_layout"}]})}run(t){let e=t.get(M.r_),i=t.get(M.Nb);switch(e.getValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY)){case M.ri.NEVER:e.updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.AUTO);break;case M.ri.WINDOWED:B.En.evaluate(i.getContext(null))?e.updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.AUTO):e.updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.NEVER);break;case M.ri.AUTO:default:e.updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.NEVER)}}}),(0,M.Db)(class extends M.bb{constructor(){super({id:"showCustomTitleBar",title:(0,M.DM)(3587,"Show Custom Title Bar"),precondition:B.Zn.negate(),f1:!0})}run(t){t.get(M.r_).updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.AUTO)}}),(0,M.Db)(class extends M.bb{constructor(){super({id:"hideCustomTitleBar",title:(0,M.DM)(3588,"Hide Custom Title Bar"),precondition:B.Zn,f1:!0})}run(t){t.get(M.r_).updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.NEVER)}}),(0,M.Db)(class extends M.bb{constructor(){super({id:"hideCustomTitleBarInFullScreen",title:(0,M.DM)(3589,"Hide Custom Title Bar In Full Screen"),precondition:M.Mk.and(B.Zn,B.En),f1:!0})}run(t){t.get(M.r_).updateValue(M.li.CUSTOM_TITLE_BAR_VISIBILITY,M.ri.WINDOWED)}}),(0,M.Db)((S=class t extends M.bb{constructor(){var e;let i=null===(e=M.Mk.and(M.Mk.equals("config.workbench.editor.showTabs","none").negate(),M.Mk.equals("config.".concat(t.settingsID),"default")))||void 0===e?void 0:e.negate();super({id:"toggle.".concat(t.settingsID),title:(0,M.EM)(3590,"Editor Actions"),toggled:M.Mk.equals("config.".concat(t.settingsID),"hidden").negate(),menu:[{id:M.xb.TitleBarContext,order:3,when:i,group:"2_config"},{id:M.xb.TitleBarTitleContext,order:3,when:i,group:"2_config"}]})}run(e){let i=e.get(M.r_),s=e.get(M.Io),n=i.getValue(t.settingsID);if("hidden"===n){if("none"!==i.getValue(B.z.EDITOR_TABS_MODE))i.updateValue(t.settingsID,"titleBar");else{let e=s.get(t.settingsID,M.Ro.PROFILE);i.updateValue(t.settingsID,null!==e&&void 0!==e?e:"default")}s.remove(t.settingsID,M.Ro.PROFILE)}else i.updateValue(t.settingsID,"hidden"),s.store(t.settingsID,n,M.Ro.PROFILE,M.zo.USER)}},{_:S.settingsID="workbench.editor.editorActionsLocation"},S));var he,de={id:L.S,label:(0,M.EM)(3591,"Accounts"),tooltip:(0,M.EM)(3591,"Accounts"),class:void 0,enabled:!0,run:function(){}},ce={id:L.C,label:(0,M.EM)(3592,"Manage"),tooltip:(0,M.EM)(3592,"Manage"),class:void 0,enabled:!0,run:function(){}};(0,M.vE)(),(0,M.Xb)(),(0,M.TM)(),(0,L.pt)(),(0,M.oE)(),(0,M.yi)(),(0,M.Ol)(),(0,M.i_)(),(0,M.wj)(),(0,k.n)(),(0,M.Xd)(),(0,P.er)(),(0,M.iM)(),(0,M.oS)(),(0,M.ox)(),(0,M.sj)(),(0,M.Vo)(),(0,M.Lo)(),(0,B.W)(),(0,B.st)(),(0,M.ei)(),(0,M.Tb)(),(0,M.Pb)(),(0,P.z)(),(0,P.pr)(),(0,L.w)(),(0,O.G)(),(0,M.Kb)(),(0,O.At)(),(0,M.Ur)(),(0,M.Dd)(),(0,M.SE)(),(0,M.ia)(),(0,M.Ib)(),(0,M.Ay)(),(0,B.tr)(),(0,M.bE)({});var ue=class extends L.dt{constructor(t,e,i){super("workbench.titleService",i,e),this.instantiationService=t,this.properties=void 0,this.variables=new Map,this.mainPart=this._register(this.createMainTitlebarPart()),this.onMenubarVisibilityChange=this.mainPart.onMenubarVisibilityChange,this._register(this.registerPart(this.mainPart)),this.registerActions(),this.registerAPICommands()}createMainTitlebarPart(){return this.instantiationService.createInstance(me)}registerActions(){let t=this;this._register((0,M.Db)(class extends M.bb{constructor(){super({id:"workbench.action.focusTitleBar",title:(0,M.DM)(3593,"Focus Title Bar"),category:k.s.View,f1:!0,precondition:B.Zn})}run(){var e;null===(e=t.getPartByDocument((0,M.Rx)()))||void 0===e||e.focus()}}))}registerAPICommands(){this._register(M.Fb.registerCommand({id:"registerWindowTitleVariable",handler:(t,e,i)=>{this.registerVariables([{name:e,contextKey:i}])},metadata:{description:"Registers a new title variable",args:[{name:"name",schema:{type:"string"},description:"The name of the variable to register"},{name:"contextKey",schema:{type:"string"},description:"The context key to use for the value of the variable"}]}}))}createAuxiliaryTitlebarPart(t,e,i){let s=(0,M.px)(".part.titlebar",{role:"none"});s.style.position="relative",t.insertBefore(s,t.firstChild);let n=new M.gj,o=this.doCreateAuxiliaryTitlebarPart(s,e,i);return n.add(this.registerPart(o)),n.add(M.tj.runAndSubscribe(o.onDidChange,()=>s.style.height="".concat(o.height,"px"))),o.create(s),this.properties&&o.updateProperties(this.properties),this.variables.size&&o.registerVariables(Array.from(this.variables.values())),M.tj.once(o.onWillDispose)(()=>n.dispose()),o}doCreateAuxiliaryTitlebarPart(t,e,i){return i.createInstance(be,t,e,this.mainPart)}updateProperties(t){this.properties=t;for(let e of this.parts)e.updateProperties(t)}registerVariables(t){let e=[];for(let i of t)this.variables.has(i.name)||(this.variables.set(i.name,i),e.push(i));for(let i of this.parts)i.registerVariables(e)}};ue=(0,M.Jb)([(0,M.Yb)(0,M.rx),(0,M.Yb)(1,M.Io),(0,M.Yb)(2,M.Yd)],ue);var ge=class extends L.ft{get minimumHeight(){var t,e;let i=M._M&&(0,M.pE)(),s=this.isCommandCenterVisible||i?35:30;return i&&(s=Math.max(s,null!==(t=null===(e=(0,M.rE)((0,M.$x)(this.element)))||void 0===e?void 0:e.height)&&void 0!==t?t:0)),s/(this.preventZoom?(0,M.iE)((0,M.$x)(this.element)):1)}get maximumHeight(){return this.minimumHeight}constructor(t,e,i,s,n,o,r,a,l,h,d,c,u,g,m){super(t,{hasTitle:!1},a,l,h),this.editorGroupsContainer=i,this.contextMenuService=s,this.configurationService=n,this.environmentService=o,this.instantiationService=r,this.storageService=l,this.contextKeyService=d,this.hostService=c,this.editorService=u,this.menuService=g,this.keybindingService=m,this.minimumWidth=0,this.maximumWidth=1/0,this._onMenubarVisibilityChange=this._register(new M.ej),this.onMenubarVisibilityChange=this._onMenubarVisibilityChange.event,this._onWillDispose=this._register(new M.ej),this.onWillDispose=this._onWillDispose.event,this.customMenubar=this._register(new M.vj),this.actionToolBarDisposable=this._register(new M.gj),this.editorActionsChangeDisposable=this._register(new M.gj),this.globalToolbarMenuDisposables=this._register(new M.gj),this.editorToolbarMenuDisposables=this._register(new M.gj),this.layoutToolbarMenuDisposables=this._register(new M.gj),this.activityToolbarDisposables=this._register(new M.gj),this.titleDisposables=this._register(new M.gj),this.isInactive=!1,this.isCompact=!1,this.isAuxiliary=e.vscodeWindowId!==M.wE.vscodeWindowId,this.isCompactContextKey=B.wn.bindTo(this.contextKeyService),this.titleBarStyle=(0,M.mi)(this.configurationService),this.windowTitle=this._register(r.createInstance(L.xt,e)),this.hoverDelegate=this._register((0,M.na)()),this.registerListeners((0,M.tS)(e))}registerListeners(t){this._register(this.hostService.onDidChangeFocus(t=>t?this.onFocus():this.onBlur())),this._register(this.hostService.onDidChangeActiveWindow(e=>e===t?this.onFocus():this.onBlur())),this._register(this.configurationService.onDidChangeConfiguration(t=>this.onConfigurationChanged(t))),this._register(this.editorGroupsContainer.onDidChangeEditorPartOptions(t=>this.onEditorPartConfigurationChange(t)))}onBlur(){this.isInactive=!0,this.updateStyles()}onFocus(){this.isInactive=!1,this.updateStyles()}onEditorPartConfigurationChange(t){let{oldPartOptions:e,newPartOptions:i}=t;(e.editorActionsLocation!==i.editorActionsLocation||e.showTabs!==i.showTabs)&&this.actionToolBar&&(this.createActionToolBar(),this.createActionToolBarMenus({editorActions:!0}),this._onDidChange.fire(void 0))}onConfigurationChanged(t){if(!this.isAuxiliary&&!(0,M._i)(this.configurationService,this.titleBarStyle)&&(!M.pM||M._M)&&t.affectsConfiguration(M.ci.MenuBarVisibility)&&("compact"===this.currentMenubarVisibility?this.uninstallMenubar():this.installMenubar()),this.actionToolBar){let e=t.affectsConfiguration(B.z.LAYOUT_ACTIONS),i=t.affectsConfiguration(B.z.ACTIVITY_BAR_LOCATION);(e||i)&&(this.createActionToolBarMenus({layoutActions:e,activityActions:i}),this._onDidChange.fire(void 0))}t.affectsConfiguration(B.z.COMMAND_CENTER)&&this.recreateTitle()}recreateTitle(){this.createTitle(),this._onDidChange.fire(void 0)}updateOptions(t){let e=this.isCompact;this.isCompact=t.compact,this.isCompactContextKey.set(this.isCompact),e!==this.isCompact&&(this.recreateTitle(),this.createActionToolBarMenus(!0))}installMenubar(){this.menubar||(this.customMenubar.value=this.instantiationService.createInstance(L.D),this.menubar=(0,M.Dx)(this.leftContent,(0,M.px)("div.menubar")),this.menubar.setAttribute("role","menubar"),this._register(this.customMenubar.value.onVisibilityChange(t=>this.onMenubarVisibilityChanged(t))),this.customMenubar.value.create(this.menubar))}uninstallMenubar(){var t;this.customMenubar.value=void 0,null!==(t=this.menubar)&&void 0!==t&&t.remove(),this.menubar=void 0,this.onMenubarVisibilityChanged(!1)}onMenubarVisibilityChanged(t){(M._M||M.yM||M.dM)&&(this.lastLayoutDimensions&&this.layout(this.lastLayoutDimensions.width,this.lastLayoutDimensions.height),this._onMenubarVisibilityChange.fire(t))}updateProperties(t){this.windowTitle.updateProperties(t)}registerVariables(t){this.windowTitle.registerVariables(t)}createContentArea(t){if(this.element=t,this.rootContainer=(0,M.Dx)(t,(0,M.px)(".titlebar-container")),this.leftContent=(0,M.Dx)(this.rootContainer,(0,M.px)(".titlebar-left")),this.centerContent=(0,M.Dx)(this.rootContainer,(0,M.px)(".titlebar-center")),this.rightContent=(0,M.Dx)(this.rootContainer,(0,M.px)(".titlebar-right")),(M.yM||M.dM)&&!(0,M.vi)(this.configurationService,this.titleBarStyle)&&(this.appIcon=(0,M.kS)(this.leftContent,(0,M.px)("a.window-appicon"))),this.dragRegion=(0,M.kS)(this.rootContainer,(0,M.px)("div.titlebar-drag-region")),!this.isAuxiliary&&!(0,M._i)(this.configurationService,this.titleBarStyle)&&(!M.pM||M._M)&&"compact"!==this.currentMenubarVisibility&&this.installMenubar(),this.title=(0,M.Dx)(this.centerContent,(0,M.px)("div.window-title")),this.createTitle(),this.actionToolBarElement=(0,M.Dx)(this.rightContent,(0,M.px)("div.action-toolbar-container")),this.createActionToolBar(),this.createActionToolBarMenus(),!(0,M.vi)(this.configurationService,this.titleBarStyle)){var e;let t=M.pM?"left":"right";M.pM&&M.hM&&"rtl"===(null===(e=M.jy.Locale(M.CM).value)||void 0===e||null===(e=e.textInfo)||void 0===e?void 0:e.direction)&&(t="right"),M.pM&&M.hM&&"left"===t||(0,M.hi)(this.configurationService)===M.di.HIDDEN||(this.windowControlsContainer=(0,M.Dx)("left"===t?this.leftContent:this.rightContent,(0,M.px)("div.window-controls-container")),M._M&&(0,M.Dx)("left"===t?this.rightContent:this.leftContent,(0,M.px)("div.window-controls-container")),(0,M.pE)()&&this.windowControlsContainer.classList.add("wco-enabled"))}return this._register((0,M.Sx)(this.rootContainer,M._x.CONTEXT_MENU,t=>{let e;M.gx.stop(t),e=M.pM&&(0,M._S)(t.target)&&(0,M.lS)(t.target,this.title)?M.xb.TitleBarTitleContext:M.xb.TitleBarContext,this.onContextMenu(t,e)})),M.pM&&this._register((0,M.Sx)(this.title,M._x.MOUSE_DOWN,t=>{t.metaKey&&(M.gx.stop(t,!0),this.onContextMenu(t,M.xb.TitleBarTitleContext))},!0)),this.updateStyles(),this.element}createTitle(){this.titleDisposables.clear();let t=(0,M.vi)(this.configurationService,this.titleBarStyle);if(this.isCommandCenterVisible){let t=this.instantiationService.createInstance(re,this.windowTitle,this.hoverDelegate);(0,M.jS)(this.title,t.element),this.titleDisposables.add(t)}else t?(0,M.jS)(this.title):(this.title.textContent=this.windowTitle.value,this.titleDisposables.add(this.windowTitle.onDidChange(()=>{this.title.textContent=this.windowTitle.value,this.lastLayoutDimensions&&this.updateLayout(this.lastLayoutDimensions)})))}actionViewItemProvider(t,e){var i;if(!this.isAuxiliary){if("workbench.actions.manage"===t.id)return this.instantiationService.createInstance(L.y,{position:()=>M.xl.BELOW},e);if("workbench.actions.accounts"===t.id)return this.instantiationService.createInstance(L.v,{position:()=>M.xl.BELOW},e)}let s=null===(i=this.editorGroupsContainer.activeGroup)||void 0===i?void 0:i.activeEditorPane;if(s&&s instanceof P.s){let i=s.getActionViewItem(t,e);if(i)return i}return(0,M.Jr)(this.instantiationService,t,(0,V.A)((0,V.A)({},e),{},{menuAsChild:!1}))}getKeybinding(t){var e,i;let s=null!==(e=null===(i=this.editorGroupsContainer.activeGroup)||void 0===i||null===(i=i.activeEditorPane)||void 0===i?void 0:i.scopedContextKeyService)&&void 0!==e?e:this.contextKeyService;return this.keybindingService.lookupKeybinding(t.id,s)}createActionToolBar(){this.actionToolBarDisposable.clear(),this.actionToolBar=this.actionToolBarDisposable.add(this.instantiationService.createInstance(P.fr,this.actionToolBarElement,{contextMenu:M.xb.TitleBarContext,orientation:M.Hr.HORIZONTAL,ariaLabel:(0,M.EM)(3594,"Title actions"),getKeyBinding:t=>this.getKeybinding(t),overflowBehavior:{maxItems:9,exempted:[L.S,L.C,...Y.f]},anchorAlignmentProvider:()=>M.gl.RIGHT,telemetrySource:"titlePart",highlightToggledItems:this.editorActionsEnabled||this.isAuxiliary,actionViewItemProvider:(t,e)=>this.actionViewItemProvider(t,e),hoverDelegate:this.hoverDelegate})),this.editorActionsEnabled&&this.actionToolBarDisposable.add(this.editorGroupsContainer.onDidChangeActiveGroup(()=>this.createActionToolBarMenus({editorActions:!0})))}createActionToolBarMenus(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===t&&(t={editorActions:!0,layoutActions:!0,globalActions:!0,activityActions:!0});let e=()=>{let t={primary:[],secondary:[]};if(this.editorActionsEnabled){this.editorActionsChangeDisposable.clear();let i=this.editorGroupsContainer.activeGroup;if(i){let s=i.createEditorActions(this.editorActionsChangeDisposable,this.isAuxiliary&&this.isCompact?M.xb.CompactWindowEditorTitle:M.xb.EditorTitle);t.primary.push(...s.actions.primary),t.secondary.push(...s.actions.secondary),this.editorActionsChangeDisposable.add(s.onDidChange(()=>e()))}}this.globalToolbarMenu&&(0,M.Yr)(this.globalToolbarMenu.getActions(),t),this.layoutToolbarMenu&&(0,M.Yr)(this.layoutToolbarMenu.getActions(),t,()=>!this.editorActionsEnabled||this.isCompact),this.activityActionsEnabled&&((0,L.x)(this.storageService)&&t.primary.push(de),t.primary.push(ce)),this.actionToolBar.setActions((0,M.Wr)(t.primary),(0,M.Wr)(t.secondary))};if(t.editorActions)if(this.editorToolbarMenuDisposables.clear(),this.editorActionsEnabled&&void 0!==this.editorService.activeEditor){let t={groupId:this.editorGroupsContainer.activeGroup.id};this.actionToolBar.actionRunner=this.editorToolbarMenuDisposables.add(new Y.d(t)),this.actionToolBar.context=t}else this.actionToolBar.actionRunner=this.editorToolbarMenuDisposables.add(new M.Ub),this.actionToolBar.context=void 0;t.layoutActions&&(this.layoutToolbarMenuDisposables.clear(),this.layoutControlEnabled?(this.layoutToolbarMenu=this.menuService.createMenu(M.xb.LayoutControlMenu,this.contextKeyService),this.layoutToolbarMenuDisposables.add(this.layoutToolbarMenu),this.layoutToolbarMenuDisposables.add(this.layoutToolbarMenu.onDidChange(()=>e()))):this.layoutToolbarMenu=void 0),t.globalActions&&(this.globalToolbarMenuDisposables.clear(),this.globalActionsEnabled?(this.globalToolbarMenu=this.menuService.createMenu(M.xb.TitleBar,this.contextKeyService),this.globalToolbarMenuDisposables.add(this.globalToolbarMenu),this.globalToolbarMenuDisposables.add(this.globalToolbarMenu.onDidChange(()=>e()))):this.globalToolbarMenu=void 0),t.activityActions&&(this.activityToolbarDisposables.clear(),this.activityActionsEnabled&&this.activityToolbarDisposables.add(this.storageService.onDidChangeValue(M.Ro.PROFILE,L._.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,this._store)(()=>e()))),e()}updateStyles(){if(super.updateStyles(),this.element){this.isInactive?this.element.classList.add("inactive"):this.element.classList.remove("inactive");let t=this.getColor(this.isInactive?P.Yn:P.Kn,(t,e)=>t.isOpaque()?t:t.makeOpaque((0,P.$n)(e)))||"";this.element.style.backgroundColor=t,this.appIconBadge&&(this.appIconBadge.style.backgroundColor=t),t&&M.Ev.fromHex(t).isLighter()?this.element.classList.add("light"):this.element.classList.remove("light");let e=this.getColor(this.isInactive?P.Xn:P.qn);this.element.style.color=e||"";let i=this.getColor(P.Jn);this.element.style.borderBottom=i?"1px solid ".concat(i):""}}onContextMenu(t,e){let i=new M.BT((0,M.$x)(this.element),t);this.contextMenuService.showContextMenu({getAnchor:()=>i,menuId:e,contextKeyService:this.contextKeyService,domForShadowRoot:M.pM&&M.hM?i.target:void 0})}get currentMenubarVisibility(){return this.isAuxiliary?"hidden":(0,M.pi)(this.configurationService)}get layoutControlEnabled(){return!1!==this.configurationService.getValue(B.z.LAYOUT_ACTIONS)}get isCommandCenterVisible(){return!this.isCompact&&!1!==this.configurationService.getValue(B.z.COMMAND_CENTER)}get editorActionsEnabled(){return this.editorGroupsContainer.partOptions.editorActionsLocation===B.L.TITLEBAR||this.editorGroupsContainer.partOptions.editorActionsLocation===B.L.DEFAULT&&this.editorGroupsContainer.partOptions.showTabs===B.R.NONE}get activityActionsEnabled(){let t=this.configurationService.getValue(B.z.ACTIVITY_BAR_LOCATION);return!this.isCompact&&!this.isAuxiliary&&(t===B.I.TOP||t===B.I.BOTTOM)}get globalActionsEnabled(){return!this.isCompact}get hasZoomableElements(){let t=!("hidden"===this.currentMenubarVisibility||"compact"===this.currentMenubarVisibility||!M._M&&M.pM),e=this.isCommandCenterVisible,i=this.globalActionsEnabled||this.layoutControlEnabled||this.editorActionsEnabled||this.activityActionsEnabled;return t||e||i}get preventZoom(){return(0,M.iE)((0,M.$x)(this.element))<1||!this.hasZoomableElements}layout(t,e){this.updateLayout(new M.mx(t,e)),super.layoutContents(t,e)}updateLayout(t){this.lastLayoutDimensions=t;let e=(0,M.iE)((0,M.$x)(this.element));if(this.element.style.setProperty("--zoom-factor",e.toString()),this.rootContainer.classList.toggle("counter-zoom",this.preventZoom),this.customMenubar.value){let e=new M.mx(0,t.height);this.customMenubar.value.layout(e)}let i=this.isCommandCenterVisible||""!==this.title.textContent;this.rootContainer.classList.toggle("has-center",i)}focus(){var t;this.customMenubar.value?this.customMenubar.value.toggleFocus():null===(t=this.element.querySelector('[tabindex]:not([tabindex="-1"])'))||void 0===t||t.focus()}toJSON(){return{type:B.V.TITLEBAR_PART}}dispose(){this._onWillDispose.fire(),super.dispose()}};ge=(0,M.Jb)([(0,M.Yb)(3,M.El),(0,M.Yb)(4,M.r_),(0,M.Yb)(5,k.t),(0,M.Yb)(6,M.rx),(0,M.Yb)(7,M.Yd),(0,M.Yb)(8,M.Io),(0,M.Yb)(9,B.ot),(0,M.Yb)(10,M.Nb),(0,M.Yb)(11,P.R),(0,M.Yb)(12,O.kt),(0,M.Yb)(13,M.ti),(0,M.Yb)(14,M.Ed)],ge);var me=class extends ge{constructor(t,e,i,s,n,o,r,a,l,h,d,c,u){super(B.V.TITLEBAR_PART,M.wE,h.mainPart,t,e,i,s,n,o,r,a,l,d,c,u)}};me=(0,M.Jb)([(0,M.Yb)(0,M.El),(0,M.Yb)(1,M.r_),(0,M.Yb)(2,k.t),(0,M.Yb)(3,M.rx),(0,M.Yb)(4,M.Yd),(0,M.Yb)(5,M.Io),(0,M.Yb)(6,B.ot),(0,M.Yb)(7,M.Nb),(0,M.Yb)(8,P.R),(0,M.Yb)(9,O.W),(0,M.Yb)(10,O.kt),(0,M.Yb)(11,M.ti),(0,M.Yb)(12,M.Ed)],me);var be=(_=class extends ge{get height(){return this.minimumHeight}constructor(t,e,i,s,n,o,r,a,l,h,d,c,u,g,m,b){let p=he.COUNTER++;super("workbench.parts.auxiliaryTitle.".concat(p),(0,M.$x)(t),e,s,n,o,r,a,l,h,d,c,g,m,b),this.container=t,this.mainTitlebar=i}get preventZoom(){return(0,M.iE)((0,M.$x)(this.element))<1||!this.mainTitlebar.hasZoomableElements}},{_:he=_},{_:_.COUNTER=1},_);be=he=(0,M.Jb)([(0,M.Yb)(3,M.El),(0,M.Yb)(4,M.r_),(0,M.Yb)(5,k.t),(0,M.Yb)(6,M.rx),(0,M.Yb)(7,M.Yd),(0,M.Yb)(8,M.Io),(0,M.Yb)(9,B.ot),(0,M.Yb)(10,M.Nb),(0,M.Yb)(11,P.R),(0,M.Yb)(12,O.W),(0,M.Yb)(13,O.kt),(0,M.Yb)(14,M.ti),(0,M.Yb)(15,M.Ed)],be),(0,L.kn)(),(0,B.x)(),(0,B.w)(async t=>{t.get(L.On)}),(0,O.b)(),(0,M.er)();(0,L.tt)(),(0,M.Xb)(),(0,M.TM)(),(0,x.Tb)(),(0,M.Kb)(),(0,B.W)(),(0,B.st)(),(0,M.QO)(),(0,M.Ab)(),(0,M.Tb)(),(0,k.c)(),(0,O.At)(),(0,B.tr)(),(0,M.oS)(),(0,M.Rb)();var pe=class extends M.Hb{constructor(t,e,i){super(t,e,void 0,!0),this.model=i,this.checked=!i.isHidden(t)}async run(){this.model.isHidden(this.id)?this.model.show(this.id):this.model.hide(this.id)}},ve=class extends M.Hb{constructor(t,e,i){super(t,(0,M.EM)(3550,"Hide '{0}'",e),void 0,!0),this.model=i}async run(){this.model.hide(this.id)}},fe=class extends M.Hb{constructor(t,e){super("statusbar.manage.extension",(0,M.EM)(3551,"Manage Extension")),this.extensionId=t,this.commandService=e}run(){return this.commandService.executeCommand("_extensions.manage",this.extensionId)}};fe=(0,M.Jb)([(0,M.Yb)(1,M.Lb)],fe),M.kb.registerCommandAndKeybindingRule({id:"workbench.statusBar.focusPrevious",weight:M.Ob.WorkbenchContrib,primary:M.KO.LeftArrow,secondary:[M.KO.UpArrow],when:B.Kn,handler:t=>{t.get(x.wb).focusPreviousEntry()}}),M.kb.registerCommandAndKeybindingRule({id:"workbench.statusBar.focusNext",weight:M.Ob.WorkbenchContrib,primary:M.KO.RightArrow,secondary:[M.KO.DownArrow],when:B.Kn,handler:t=>{t.get(x.wb).focusNextEntry()}}),M.kb.registerCommandAndKeybindingRule({id:"workbench.statusBar.focusFirst",weight:M.Ob.WorkbenchContrib,primary:M.KO.Home,when:B.Kn,handler:t=>{let e=t.get(x.wb);e.focus(!1),e.focusNextEntry()}}),M.kb.registerCommandAndKeybindingRule({id:"workbench.statusBar.focusLast",weight:M.Ob.WorkbenchContrib,primary:M.KO.End,when:B.Kn,handler:t=>{let e=t.get(x.wb);e.focus(!1),e.focusPreviousEntry()}}),M.kb.registerCommandAndKeybindingRule({id:"workbench.statusBar.clearFocus",weight:M.Ob.WorkbenchContrib,primary:M.KO.Escape,when:B.Kn,handler:t=>{let e=t.get(x.wb),i=t.get(O.kt);e.isEntryFocused()?e.focus(!1):i.activeEditorPane&&i.activeEditorPane.focus()}}),(0,M.Db)(class extends M.bb{constructor(){super({id:"workbench.action.focusStatusBar",title:(0,M.DM)(3552,"Focus Status Bar"),category:k.s.View,f1:!0})}async run(t){t.get(B.ot).focusPart(B.V.STATUSBAR_PART,(0,M.Bx)())}}),(0,M.wj)(),(0,x.kb)(),(0,M.oS)(),(0,M.Vo)(),(0,M.sj)();var Ae=(I=class t extends M.mj{get entries(){return this._entries.slice(0)}get lastFocusedEntry(){return this._lastFocusedEntry&&!this.isHidden(this._lastFocusedEntry.id)?this._lastFocusedEntry:void 0}constructor(t){super(),this.storageService=t,this._onDidChangeEntryVisibility=this._register(new M.ej),this.onDidChangeEntryVisibility=this._onDidChangeEntryVisibility.event,this._entries=[],this.hidden=new Set,this.restoreState(),this.registerListeners()}restoreState(){let e=this.storageService.get(t.HIDDEN_ENTRIES_KEY,M.Ro.PROFILE);if(e)try{this.hidden=new Set(JSON.parse(e))}catch(i){}}registerListeners(){this._register(this.storageService.onDidChangeValue(M.Ro.PROFILE,t.HIDDEN_ENTRIES_KEY,this._store)(()=>this.onDidStorageValueChange()))}onDidStorageValueChange(){let t=new Set(this.hidden);this.hidden.clear(),this.restoreState();let e=new Set;for(let i of t)this.hidden.has(i)||e.add(i);for(let i of this.hidden)t.has(i)||e.add(i);if(e.size>0)for(let i of this._entries)e.has(i.id)&&(this.updateVisibility(i.id,!0),e.delete(i.id))}add(t){this._entries.push(t),this.updateVisibility(t,!1),this.sort(),this.markFirstLastVisibleEntry()}remove(t){let e=this._entries.indexOf(t);e>=0&&(this._entries.splice(e,1),this._entries.some(e=>(0,x.Ab)(e.priority.primary)&&e.priority.primary.location.id===t.id)&&this.sort(),this.markFirstLastVisibleEntry())}isHidden(t){return this.hidden.has(t)}hide(t){this.hidden.has(t)||(this.hidden.add(t),this.updateVisibility(t,!0),this.saveState())}show(t){this.hidden.has(t)&&(this.hidden.delete(t),this.updateVisibility(t,!0),this.saveState())}findEntry(t){return this._entries.find(e=>e.container===t)}getEntries(t){return this._entries.filter(e=>e.alignment===t)}focusNextEntry(){this.focusEntry(1,0)}focusPreviousEntry(){this.focusEntry(-1,this.entries.length-1)}isEntryFocused(){return!!this.getFocusedEntry()}getFocusedEntry(){return this._entries.find(t=>(0,M.uS)(t.container))}focusEntry(t,e){let i=e=>{let i=e,s=i>=0&&i<this._entries.length?this._entries[i]:void 0;for(;s&&this.isHidden(s.id);)i+=t,s=i>=0&&i<this._entries.length?this._entries[i]:void 0;return s},s=this.getFocusedEntry();if(s){let e=i(this._entries.indexOf(s)+t);if(e)return this._lastFocusedEntry=e,void e.labelContainer.focus()}let n=i(e);n&&(this._lastFocusedEntry=n,n.labelContainer.focus())}updateVisibility(t,e){if("string"==typeof t){let i=t;for(let t of this._entries)t.id===i&&this.updateVisibility(t,e)}else{let i=t,s=this.isHidden(i.id);s?(0,M.aS)(i.container):(0,M.BS)(i.container),e&&this._onDidChangeEntryVisibility.fire({id:i.id,visible:!s}),this.markFirstLastVisibleEntry()}}saveState(){this.hidden.size>0?this.storageService.store(t.HIDDEN_ENTRIES_KEY,JSON.stringify(Array.from(this.hidden.values())),M.Ro.PROFILE,M.zo.USER):this.storageService.remove(t.HIDDEN_ENTRIES_KEY,M.Ro.PROFILE)}sort(){let t=new Set(this._entries.map(t=>t.id)),e=new Map,i=new Map;for(let o=0;o<this._entries.length;o++){let s=this._entries[o];if("number"!=typeof s.priority.primary&&t.has(s.priority.primary.location.id)){let t=s.priority.primary.location.id,e=i.get(t);if(!e){for(let s of i.values())if(s.has(t)){e=s;break}e||(e=new Map,i.set(t,e))}e.set(s.id,s)}else e.set(s,o)}let s,n=Array.from(e.keys());if(n.sort((t,i)=>{if(t.alignment===i.alignment){let s="number"==typeof t.priority.primary?t.priority.primary:t.priority.primary.location.priority,n="number"==typeof i.priority.primary?i.priority.primary:i.priority.primary.location.priority;return s===n?t.priority.secondary===i.priority.secondary?e.get(t)-e.get(i):i.priority.secondary-t.priority.secondary:n-s}return t.alignment===x.Db.LEFT?-1:i.alignment===x.Db.LEFT?1:0}),i.size>0){s=[];for(let t of n){let e=i.get(t.id),n=e?Array.from(e.values()):void 0;n&&s.push(...n.filter(t=>(0,x.Ab)(t.priority.primary)&&t.priority.primary.alignment===x.Db.LEFT).sort((t,e)=>e.priority.secondary-t.priority.secondary)),s.push(t),n&&s.push(...n.filter(t=>(0,x.Ab)(t.priority.primary)&&t.priority.primary.alignment===x.Db.RIGHT).sort((t,e)=>e.priority.secondary-t.priority.secondary)),i.delete(t.id)}for(let[,t]of i)s.push(...Array.from(t.values()).sort((t,e)=>e.priority.secondary-t.priority.secondary))}else s=n;this._entries=s}markFirstLastVisibleEntry(){this.doMarkFirstLastVisibleStatusbarItem(this.getEntries(x.Db.LEFT)),this.doMarkFirstLastVisibleStatusbarItem(this.getEntries(x.Db.RIGHT))}doMarkFirstLastVisibleStatusbarItem(t){var e,i;let s,n;for(let o of t)o.container.classList.remove("first-visible-item","last-visible-item"),this.isHidden(o.id)||(s||(s=o),n=o);null!==(e=s)&&void 0!==e&&e.container.classList.add("first-visible-item"),null===(i=n)||void 0===i||i.container.classList.add("last-visible-item")}},{_:I.HIDDEN_ENTRIES_KEY="workbench.statusbar.hidden"},I);(0,M.Xb)(),(0,M.Ap)(),(0,M.wj)(),(0,M.Rb)(),(0,M.yb)(),(0,x.kb)(),(0,M.Xd)(),(0,M.oS)(),(0,M.Fd)(),(0,M.GM)(),(0,M.KT)(),(0,M.QO)(),(0,M.Oc)(),(0,M.G)(),(0,M.lm)(),(0,M.rr)();var Ee=class extends M.mj{get name(){return(0,M.UM)(this.entry).name}get hasCommand(){var t;return void 0!==(null===(t=this.entry)||void 0===t?void 0:t.command)}constructor(t,e,i,s,n,o,r,a){super(),this.container=t,this.hoverDelegate=i,this.commandService=s,this.hoverService=n,this.notificationService=o,this.telemetryService=r,this.themeService=a,this.entry=void 0,this.foregroundListener=this._register(new M.vj),this.backgroundListener=this._register(new M.vj),this.commandMouseListener=this._register(new M.vj),this.commandTouchListener=this._register(new M.vj),this.commandKeyboardListener=this._register(new M.vj),this.hover=void 0,this.labelContainer=(0,M.px)("a.statusbar-item-label",{role:"button",tabIndex:-1}),this._register(M.cm.addTarget(this.labelContainer)),this.label=this._register(new _e(this.labelContainer)),this.container.appendChild(this.labelContainer),this.beakContainer=(0,M.px)(".status-bar-item-beak-container"),this.container.appendChild(this.beakContainer),e.content&&this.container.appendChild(e.content),this.update(e)}update(t){var e;if(this.label.showProgress=null!==(e=t.showProgress)&&void 0!==e&&e,(!this.entry||t.text!==this.entry.text)&&(this.label.text=t.text,t.text?(0,M.BS)(this.labelContainer):(0,M.aS)(this.labelContainer)),(!this.entry||t.ariaLabel!==this.entry.ariaLabel)&&(this.container.setAttribute("aria-label",t.ariaLabel),this.labelContainer.setAttribute("aria-label",t.ariaLabel)),(!this.entry||t.role!==this.entry.role)&&this.labelContainer.setAttribute("role",t.role||"button"),!this.entry||!this.isEqualTooltip(this.entry,t)){let e,i;(0,x.Mb)(t.tooltip)?(i=t.tooltip.content,e={actions:t.tooltip.commands.map(t=>({commandId:t.id,label:t.title,run:()=>this.executeCommand(t)}))}):i=t.tooltip;let s=(0,M.Uc)(i)?{markdown:i,markdownNotSupportedFallback:void 0}:i;this.hover?this.hover.update(s,e):this.hover=this._register(this.hoverService.setupManagedHover(this.hoverDelegate,this.container,s,e))}if(!this.entry||t.command!==this.entry.command){this.commandMouseListener.clear(),this.commandTouchListener.clear(),this.commandKeyboardListener.clear();let e=t.command;e&&(e!==x.Eb||this.hover)?(this.commandMouseListener.value=(0,M.Sx)(this.labelContainer,M._x.CLICK,()=>this.executeCommand(e)),this.commandTouchListener.value=(0,M.Sx)(this.labelContainer,M.sm.Tap,()=>this.executeCommand(e)),this.commandKeyboardListener.value=(0,M.Sx)(this.labelContainer,M._x.KEY_DOWN,t=>{var i;let s=new M.GT(t);s.equals(M.KO.Space)||s.equals(M.KO.Enter)?(M.gx.stop(t),this.executeCommand(e)):(s.equals(M.KO.Escape)||s.equals(M.KO.LeftArrow)||s.equals(M.KO.RightArrow))&&(M.gx.stop(t),null===(i=this.hover)||void 0===i||i.hide())}),this.labelContainer.classList.remove("disabled")):this.labelContainer.classList.add("disabled")}(!this.entry||t.showBeak!==this.entry.showBeak)&&(t.showBeak?this.container.classList.add("has-beak"):this.container.classList.remove("has-beak"));let i=!!t.backgroundColor||t.kind&&"standard"!==t.kind;if(!this.entry||t.kind!==this.entry.kind){for(let t of x.Ob)this.container.classList.remove("".concat(t,"-kind"));t.kind&&"standard"!==t.kind&&this.container.classList.add("".concat(t.kind,"-kind")),this.container.classList.toggle("has-background-color",i)}(!this.entry||t.color!==this.entry.color)&&this.applyColor(this.labelContainer,t.color),(!this.entry||t.backgroundColor!==this.entry.backgroundColor)&&(this.container.classList.toggle("has-background-color",i),this.applyColor(this.container,t.backgroundColor,!0)),this.entry=t}isEqualTooltip(t,e){let{tooltip:i}=t,{tooltip:s}=e;return void 0===i?void 0===s:(0,M.Uc)(i)?(0,M.Uc)(s)&&(0,M.Wc)(i,s):i===s}async executeCommand(t){var e;if(t===x.Eb)null===(e=this.hover)||void 0===e||e.show(!0);else{var i;let e="string"==typeof t?t:t.id,s="string"==typeof t?[]:null!==(i=t.arguments)&&void 0!==i?i:[];this.telemetryService.publicLog2("workbenchActionExecuted",{id:e,from:"status bar"});try{await this.commandService.executeCommand(e,...s)}catch(t){this.notificationService.error((0,M.Mp)(t))}}}applyColor(t,e,i){let s;if(i?this.backgroundListener.clear():this.foregroundListener.clear(),e)if((0,M.av)(e)){var n;s=null===(n=this.themeService.getColorTheme().getColor(e.id))||void 0===n?void 0:n.toString();let o=this.themeService.onDidColorThemeChange(s=>{var n;let o=null===(n=s.getColor(e.id))||void 0===n?void 0:n.toString();i?t.style.backgroundColor=null!==o&&void 0!==o?o:"":t.style.color=null!==o&&void 0!==o?o:""});i?this.backgroundListener.value=o:this.foregroundListener.value=o}else s=e;i?t.style.backgroundColor=null!==s&&void 0!==s?s:"":t.style.color=null!==s&&void 0!==s?s:""}};Ee=(0,M.Jb)([(0,M.Yb)(3,M.Lb),(0,M.Yb)(4,M.nr),(0,M.Yb)(5,M.Pd),(0,M.Yb)(6,M.vb),(0,M.Yb)(7,M.Yd)],Ee);var Ce,Se,_e=class extends Y.p{constructor(t){super(t),this.container=t,this.progressCodicon=(0,M.kc)(M.J),this.currentText="",this.currentShowProgress=!1}set showProgress(t){this.currentShowProgress!==t&&(this.currentShowProgress=t,this.progressCodicon=(0,M.kc)("syncing"===t?M.J:M.q),this.text=this.currentText)}set text(t){if(this.currentShowProgress){this.container.firstChild!==this.progressCodicon&&this.container.appendChild(this.progressCodicon);for(let t of Array.from(this.container.childNodes))t!==this.progressCodicon&&t.remove();let e=null!==t&&void 0!==t?t:"";e&&(e="\xa0".concat(e)),(0,M.Dx)(this.container,...(0,M.Ac)(e))}else super.text=t}};(0,M.vE)(),(0,M.Xb)(),(0,M.TM)(),(0,M.wj)(),(0,L.pt)(),(0,M.lm)(),(0,M.ox)(),(0,x.kb)(),(0,x.Tb)(),(0,M.Ol)(),(0,M.Kb)(),(0,M.Xd)(),(0,P.er)(),(0,M.es)(),(0,M.Ma)(),(0,M.jg)(),(0,M.vg)(),(0,M.rh)(),(0,M.Qh)(),(0,M.Vm)(),(0,M.wm)(),(0,M.Sm)(),(0,M.ih)(),(0,M.cg)(),(0,M.vm)(),(0,M._m)(),(0,M.oS)(),(0,M.Wg)(),(0,M.Lo)(),(0,B.W)(),(0,B.st)(),(0,M.Jp)(),(0,M.AN)(),(0,M.HT)(),(0,M.GM)(),(0,M.Pb)(),(0,B.tr)(),(0,M.sj)(),(0,M.mc)(),(0,M.bE)({});var Ie=(y=class extends L.ft{constructor(t,e,i,s,n,o,r,a){super(t,{hasTitle:!1},i,n,o),this.instantiationService=e,this.contextService=s,this.contextMenuService=r,this.contextKeyService=a,this.minimumWidth=0,this.maximumWidth=1/0,this.minimumHeight=Ce.HEIGHT,this.maximumHeight=Ce.HEIGHT,this.pendingEntries=[],this._onWillDispose=this._register(new M.ej),this.onWillDispose=this._onWillDispose.event,this.onDidOverrideEntry=this._register(new M.ej),this.entryOverrides=new Map,this.compactEntriesDisposable=this._register(new M.vj),this.styleOverrides=new Set,this.viewModel=this._register(new Ae(n)),this.onDidChangeEntryVisibility=this.viewModel.onDidChangeEntryVisibility,this.hoverDelegate=this._register(this.instantiationService.createInstance(M.$n,"element",{instantHover:!0,dynamicDelay(t){if("function"==typeof t||(0,M._S)(t)||(0,M.gc)(t)&&"function"==typeof t.markdown||(0,M.hc)(t))return 500}},(t,e)=>({persistence:{hideOnKeyDown:!0,sticky:e},appearance:{maxHeightRatio:.9}}))),this.registerListeners()}registerListeners(){this._register(this.onDidChangeEntryVisibility(()=>this.updateCompactEntries())),this._register(this.contextService.onDidChangeWorkbenchState(()=>this.updateStyles()))}overrideEntry(t,e){return this.entryOverrides.set(t,e),this.onDidOverrideEntry.fire(t),(0,M.kj)(()=>{this.entryOverrides.get(t)===e&&(this.entryOverrides.delete(t),this.onDidOverrideEntry.fire(t))})}withEntryOverride(t,e){let i=this.entryOverrides.get(e);return i&&(t=(0,V.A)((0,V.A)({},t),i)),t}addEntry(t,e,i){let s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return s=(0,x.jb)(n)?n:{primary:n,secondary:(0,M.qC)(e)},this.element?this.doAddEntry(t,e,i,s):this.doAddPendingEntry(t,e,i,s)}doAddPendingEntry(t,e,i,s){let n={entry:t,id:e,alignment:i,priority:s};return this.pendingEntries.push(n),{update:t=>{n.accessor?n.accessor.update(t):n.entry=t},dispose:()=>{n.accessor?n.accessor.dispose():this.pendingEntries=this.pendingEntries.filter(t=>t!==n)}}}doAddEntry(t,e,i,s){let n=new M.gj,o=this.doCreateStatusItem(e,i),r=n.add(this.instantiationService.createInstance(Ee,o,this.withEntryOverride(t,e),this.hoverDelegate)),a=new class{constructor(){this.id=e,this.extensionId=t.extensionId,this.alignment=i,this.priority=s,this.container=o,this.labelContainer=r.labelContainer}get name(){return r.name}get hasCommand(){return r.hasCommand}},{needsFullRefresh:l}=this.doAddOrRemoveModelEntry(a,!0);l?this.appendStatusbarEntries():this.appendStatusbarEntry(a);let h=t,d={update:t=>{h=t,r.update(this.withEntryOverride(t,e))},dispose:()=>{let{needsFullRefresh:t}=this.doAddOrRemoveModelEntry(a,!1);t?this.appendStatusbarEntries():(o.remove(),this.updateCompactEntries()),n.dispose()}};return n.add(this.onDidOverrideEntry.event(t=>{t===e&&d.update(h)})),d}doCreateStatusItem(t,e){let i=(0,M.px)(".statusbar-item",{id:t});for(var s=arguments.length,n=new Array(s>2?s-2:0),o=2;o<s;o++)n[o-2]=arguments[o];return n&&i.classList.add(...n),e===x.Db.RIGHT?i.classList.add("right"):i.classList.add("left"),i}doAddOrRemoveModelEntry(t,e){let i=this.viewModel.entries;e?this.viewModel.add(t):this.viewModel.remove(t);let s=this.viewModel.entries;return e?i.splice(s.indexOf(t),0,t):i.splice(i.indexOf(t),1),{needsFullRefresh:!(0,M.TN)(i,s)}}isEntryVisible(t){return!this.viewModel.isHidden(t)}updateEntryVisibility(t,e){e?this.viewModel.show(t):this.viewModel.hide(t)}focusNextEntry(){this.viewModel.focusNextEntry()}focusPreviousEntry(){this.viewModel.focusPreviousEntry()}isEntryFocused(){return this.viewModel.isEntryFocused()}focus(){var t;let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=this.getContainer())||void 0===t||t.focus();let i=this.viewModel.lastFocusedEntry;e&&i&&setTimeout(()=>i.labelContainer.focus(),0)}createContentArea(t){this.element=t;let e=this._register(this.contextKeyService.createScoped(this.element));return B.Kn.bindTo(e).set(!0),this.leftItemsContainer=(0,M.px)(".left-items.items-container"),this.element.appendChild(this.leftItemsContainer),this.element.tabIndex=0,this.rightItemsContainer=(0,M.px)(".right-items.items-container"),this.element.appendChild(this.rightItemsContainer),this._register((0,M.Sx)(t,M._x.CONTEXT_MENU,t=>this.showContextMenu(t))),this._register(M.cm.addTarget(t)),this._register((0,M.Sx)(t,M.sm.Contextmenu,t=>this.showContextMenu(t))),this.createInitialStatusbarEntries(),this.element}createInitialStatusbarEntries(){for(this.appendStatusbarEntries();this.pendingEntries.length;){let t=this.pendingEntries.shift();t&&(t.accessor=this.addEntry(t.entry,t.id,t.alignment,t.priority.primary))}}appendStatusbarEntries(){let t=(0,M.UM)(this.leftItemsContainer),e=(0,M.UM)(this.rightItemsContainer);(0,M.Ox)(t),(0,M.Ox)(e);for(let i of[...this.viewModel.getEntries(x.Db.LEFT),...this.viewModel.getEntries(x.Db.RIGHT).reverse()])(i.alignment===x.Db.LEFT?t:e).appendChild(i.container);this.updateCompactEntries()}appendStatusbarEntry(t){let e=this.viewModel.getEntries(t.alignment);t.alignment===x.Db.RIGHT&&e.reverse();let i=(0,M.UM)(t.alignment===x.Db.LEFT?this.leftItemsContainer:this.rightItemsContainer),s=e.indexOf(t);s+1===e.length?i.appendChild(t.container):i.insertBefore(t.container,e[s+1].container),this.updateCompactEntries()}updateCompactEntries(){let t=this.viewModel.entries,e=new Map;for(let o of t)this.viewModel.isHidden(o.id)||e.set(o.id,o),o.container.classList.remove("compact-left","compact-right");let i=new Map;for(let o of e.values())if((0,x.Ab)(o.priority.primary)&&o.priority.primary.compact){let t=o.priority.primary.location.id,s=e.get(t);if(!s)continue;let n=i.get(t);if(!n){for(let e of i.values())if(e.has(t)){n=e;break}n||(n=new Map,i.set(t,n))}n.set(o.id,o),n.set(s.id,s),o.priority.primary.alignment===x.Db.LEFT?(s.container.classList.add("compact-left"),o.container.classList.add("compact-right")):(s.container.classList.add("compact-right"),o.container.classList.add("compact-left"))}let s=this.getColor(P._n),n=this.getColor(P.hn);if(this.compactEntriesDisposable.value=new M.gj,s&&n&&!(0,M.gm)(this.theme.type))for(let[,o]of i)for(let t of o.values())t.hasCommand&&(this.compactEntriesDisposable.value.add((0,M.Sx)(t.labelContainer,M._x.MOUSE_OVER,()=>{o.forEach(t=>t.labelContainer.style.backgroundColor=s),t.labelContainer.style.backgroundColor=n})),this.compactEntriesDisposable.value.add((0,M.Sx)(t.labelContainer,M._x.MOUSE_OUT,()=>{o.forEach(t=>t.labelContainer.style.backgroundColor="")})))}showContextMenu(t){M.gx.stop(t,!0);let e,i=new M.BT((0,M.$x)(this.element),t);this.contextMenuService.showContextMenu({getAnchor:()=>i,getActions:()=>(e=this.getContextMenuActions(i),e),onHide:()=>{e&&(0,M.Cj)(e)}})}getContextMenuActions(t){let e=[];e.push((0,M.qb)({id:L.Z.ID,label:(0,M.EM)(3553,"Hide Status Bar"),run:()=>this.instantiationService.invokeFunction(t=>(new L.Z).run(t))})),e.push(new M.Wb);let i,s=new Set;for(let n of this.viewModel.entries)s.has(n.id)||(e.push(new pe(n.id,n.name,this.viewModel)),s.add(n.id));for(let n=t.target;n;n=n.parentElement){let t=this.viewModel.findEntry(n);if(t){i=t;break}}return i&&(e.push(new M.Wb),i.extensionId&&e.push(this.instantiationService.createInstance(fe,i.extensionId)),e.push(new ve(i.id,i.name,this.viewModel))),e}updateStyles(){var t,e,i,s;super.updateStyles();let n=(0,M.UM)(this.getContainer()),o=[...this.styleOverrides].sort((t,e)=>t.priority-e.priority)[0],r=this.getColor(null!==(t=null===o||void 0===o?void 0:o.background)&&void 0!==t?t:this.contextService.getWorkbenchState()===M.Xo.EMPTY?P.vn:P.un)||"";n.style.backgroundColor=r;let a=this.getColor(null!==(e=null===o||void 0===o?void 0:o.foreground)&&void 0!==e?e:this.contextService.getWorkbenchState()===M.Xo.EMPTY?P.bn:P.mn)||"";n.style.color=a;let l=this.getColor(P.gn),h=this.getColor(null!==(i=null===o||void 0===o?void 0:o.border)&&void 0!==i?i:this.contextService.getWorkbenchState()===M.Xo.EMPTY?P.yn:P.dn)||this.getColor(M.dg);h?(n.classList.add("status-border-top"),n.style.setProperty("--status-border-top-color",h)):(n.classList.remove("status-border-top"),n.style.removeProperty("--status-border-top-color"));let d=this.getColor(P.pn);this.styleElement||(this.styleElement=(0,M.Hg)(n)),this.styleElement.textContent="\n\n\t\t\t\t/* Status bar focus outline */\n\t\t\t\t.monaco-workbench .part.statusbar:focus {\n\t\t\t\t\toutline-color: ".concat(d,";\n\t\t\t\t}\n\n\t\t\t\t/* Status bar item focus outline */\n\t\t\t\t.monaco-workbench .part.statusbar > .items-container > .statusbar-item a:focus-visible {\n\t\t\t\t\toutline: 1px solid ").concat(null!==(s=this.getColor(M.ug))&&void 0!==s?s:l,";\n\t\t\t\t\toutline-offset: ").concat(h?"-2px":"-1px",";\n\t\t\t\t}\n\n\t\t\t\t/* Notification Beak */\n\t\t\t\t.monaco-workbench .part.statusbar > .items-container > .statusbar-item.has-beak > .status-bar-item-beak-container:before {\n\t\t\t\t\tborder-bottom-color: ").concat(null!==h&&void 0!==h?h:r,";\n\t\t\t\t}\n\t\t\t")}layout(t,e,i,s){super.layout(t,e,i,s),super.layoutContents(t,e)}overrideStyle(t){return this.styleOverrides.add(t),this.updateStyles(),(0,M.kj)(()=>{this.styleOverrides.delete(t),this.updateStyles()})}toJSON(){return{type:B.V.STATUSBAR_PART}}dispose(){this._onWillDispose.fire(),super.dispose()}},{_:Ce=y},{_:y.HEIGHT=22},y);Ie=Ce=(0,M.Jb)([(0,M.Yb)(1,M.rx),(0,M.Yb)(2,M.Yd),(0,M.Yb)(3,M.ja),(0,M.Yb)(4,M.Io),(0,M.Yb)(5,B.ot),(0,M.Yb)(6,M.El),(0,M.Yb)(7,M.Nb)],Ie);var ye=class extends Ie{constructor(t,e,i,s,n,o,r){super(B.V.STATUSBAR_PART,t,e,i,s,n,o,r)}};ye=(0,M.Jb)([(0,M.Yb)(0,M.rx),(0,M.Yb)(1,M.Yd),(0,M.Yb)(2,M.ja),(0,M.Yb)(3,M.Io),(0,M.Yb)(4,B.ot),(0,M.Yb)(5,M.El),(0,M.Yb)(6,M.Nb)],ye);var we=(w=class extends Ie{constructor(t,e,i,s,n,o,r,a){let l=Se.COUNTER++;super("workbench.parts.auxiliaryStatus.".concat(l),e,i,s,n,o,r,a),this.container=t,this.height=Ie.HEIGHT}},{_:Se=w},{_:w.COUNTER=1},w);we=Se=(0,M.Jb)([(0,M.Yb)(1,M.rx),(0,M.Yb)(2,M.Yd),(0,M.Yb)(3,M.ja),(0,M.Yb)(4,M.Io),(0,M.Yb)(5,B.ot),(0,M.Yb)(6,M.El),(0,M.Yb)(7,M.Nb)],we);var Te=class extends L.dt{constructor(t,e,i){super("workbench.statusBarService",i,e),this.instantiationService=t,this._onDidCreateAuxiliaryStatusbarPart=this._register(new M.ej),this.onDidCreateAuxiliaryStatusbarPart=this._onDidCreateAuxiliaryStatusbarPart.event,this.mainPart=this._register(this.instantiationService.createInstance(ye)),this._register(this.registerPart(this.mainPart)),this.onDidChangeEntryVisibility=this.mainPart.onDidChangeEntryVisibility}createAuxiliaryStatusbarPart(t,e){let i=(0,M.px)("footer.part.statusbar",{role:"status","aria-live":"off",tabIndex:"0"});i.style.position="relative",t.appendChild(i);let s=e.createInstance(we,i),n=this.registerPart(s);return s.create(i),M.tj.once(s.onWillDispose)(()=>n.dispose()),this._onDidCreateAuxiliaryStatusbarPart.fire(s),s}createScoped(t,e){return e.add(this.instantiationService.createInstance(Re,t))}addEntry(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return t.showInAllWindows?this.doAddEntryToAllWindows(t,e,i,s):this.mainPart.addEntry(t,e,i,s)}doAddEntryToAllWindows(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=new M.gj,o=new Set,r=t;function a(t){let a=new M.gj;a.add(t.onWillDispose(()=>a.dispose()));let l=a.add(t.addEntry(r,e,i,s));o.add(l),a.add((0,M.kj)(()=>o.delete(l))),n.add(a),a.add((0,M.kj)(()=>n.delete(a)))}for(let l of this.parts)a(l);return n.add(this.onDidCreateAuxiliaryStatusbarPart(t=>a(t))),{update:t=>{r=t;for(let e of o)e.update(t)},dispose:()=>n.dispose()}}isEntryVisible(t){return this.mainPart.isEntryVisible(t)}updateEntryVisibility(t,e){for(let i of this.parts)i.updateEntryVisibility(t,e)}overrideEntry(t,e){let i=new M.gj;for(let s of this.parts)i.add(s.overrideEntry(t,e));return i}focus(t){this.activePart.focus(t)}focusNextEntry(){this.activePart.focusNextEntry()}focusPreviousEntry(){this.activePart.focusPreviousEntry()}isEntryFocused(){return this.activePart.isEntryFocused()}overrideStyle(t){let e=new M.gj;for(let i of this.parts)e.add(i.overrideStyle(t));return e}};Te=(0,M.Jb)([(0,M.Yb)(0,M.rx),(0,M.Yb)(1,M.Io),(0,M.Yb)(2,M.Yd)],Te);var Re=class extends M.mj{constructor(t,e){super(),this.statusbarEntryContainer=t,this.statusbarService=e,this.onDidChangeEntryVisibility=this.statusbarEntryContainer.onDidChangeEntryVisibility}createAuxiliaryStatusbarPart(t,e){return this.statusbarService.createAuxiliaryStatusbarPart(t,e)}createScoped(t,e){return this.statusbarService.createScoped(t,e)}getPart(){return this.statusbarEntryContainer}addEntry(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.statusbarEntryContainer.addEntry(t,e,i,s)}isEntryVisible(t){return this.statusbarEntryContainer.isEntryVisible(t)}updateEntryVisibility(t,e){this.statusbarEntryContainer.updateEntryVisibility(t,e)}overrideEntry(t,e){return this.statusbarEntryContainer.overrideEntry(t,e)}focus(t){this.statusbarEntryContainer.focus(t)}focusNextEntry(){this.statusbarEntryContainer.focusNextEntry()}focusPreviousEntry(){this.statusbarEntryContainer.focusPreviousEntry()}isEntryFocused(){return this.statusbarEntryContainer.isEntryFocused()}overrideStyle(t){return this.statusbarEntryContainer.overrideStyle(t)}};function De(t){let e=t;return"string"==typeof e.id&&e.id.length>0&&"string"==typeof e.name&&"string"==typeof e.text&&("left"===e.alignment||"right"===e.alignment)&&(void 0===e.command||"string"==typeof e.command)&&(void 0===e.tooltip||"string"==typeof e.tooltip)&&(void 0===e.priority||"number"==typeof e.priority)&&(void 0===e.accessibilityInformation||(0,M.Ak)(e.accessibilityInformation))}Re=(0,M.Jb)([(0,M.Yb)(1,x.wb)],Re),(0,M.Xb)(),(0,M.wj)(),(0,M.TM)(),(0,M.ox)(),(0,x.m_)(),(0,B.Tt)(),(0,M.kk)(),(0,B.pr)(),(0,x.$l)(),(0,x.Cb)();var Ve={type:"object",required:["id","text","alignment","name"],properties:{id:{type:"string",markdownDescription:(0,M.EM)(2513,"The identifier of the status bar entry. Must be unique within the extension. The same value must be used when calling the `vscode.window.createStatusBarItem(id, ...)`-API")},name:{type:"string",description:(0,M.EM)(2514,"The name of the entry, like 'Python Language Indicator', 'Git Status' etc. Try to keep the length of the name short, yet descriptive enough that users can understand what the status bar item is about.")},text:{type:"string",description:(0,M.EM)(2515,"The text to show for the entry. You can embed icons in the text by leveraging the `$(<name>)`-syntax, like 'Hello $(globe)!'")},tooltip:{type:"string",description:(0,M.EM)(2516,"The tooltip text for the entry.")},command:{type:"string",description:(0,M.EM)(2517,"The command to execute when the status bar entry is clicked.")},alignment:{type:"string",enum:["left","right"],description:(0,M.EM)(2518,"The alignment of the status bar entry.")},priority:{type:"number",description:(0,M.EM)(2519,"The priority of the status bar entry. Higher value means the item should be shown more to the left.")},accessibilityInformation:{type:"object",description:(0,M.EM)(2520,"Defines the role and aria label to be used when the status bar entry is focused."),properties:{role:{type:"string",description:(0,M.EM)(2521,"The role of the status bar entry which defines how a screen reader interacts with it. More about aria roles can be found here https://w3c.github.io/aria/#widget_roles")},label:{type:"string",description:(0,M.EM)(2522,"The aria label of the status bar entry. Defaults to the entry's text.")}}}}},Me={description:(0,M.EM)(2523,"Contributes items to the status bar."),oneOf:[Ve,{type:"array",items:Ve}]},Pe=B.wt.registerExtensionPoint({extensionPoint:"statusBarItems",jsonSchema:Me}),Ne=class{constructor(t){let e=new M.gj;Pe.setHandler(i=>{e.clear();for(let o of i){if(!(0,x.h_)(o.description,"contribStatusBarItems")){o.collector.error("The ".concat(Pe.name," is proposed API"));continue}let{value:i,collector:r}=o;for(let a of M.Aj.wrap(i)){var s,n;if(!De(a)){r.error((0,M.EM)(2524,"Invalid status bar item contribution."));continue}let i=(0,x.Ql)(o.description.identifier,a.id);t.setOrUpdateEntry(i,i,B.or.toKey(o.description.identifier),null!==(s=null!==(n=a.name)&&void 0!==n?n:o.description.displayName)&&void 0!==s?s:o.description.name,a.text,a.tooltip,a.command?{id:a.command,title:a.name}:void 0,void 0,void 0,"left"===a.alignment,a.priority,a.accessibilityInformation)===x.Sb.DidDefine&&e.add((0,M.kj)(()=>t.unsetEntry(i)))}}})}};Ne=(0,M.Jb)([(0,M.Yb)(0,x.xb)],Ne);var xe=(T=class{constructor(t){this.instantiationService=t,this.instantiationService.createInstance(Ne)}},{_:T.ID="workbench.contrib.statusBarItemsExtensionPoint"},T);xe=(0,M.Jb)([(0,M.Yb)(0,M.rx)],xe),(0,O.x)(xe.ID,xe,O.y.BlockStartup),(0,M.Zp)(),(0,x.Tb)(),(0,x.Cb)(),(0,M.vE)(),(0,M.Xb)(),(0,M.TM)(),(0,M.oS)(),(0,M.Ur)(),(0,M.Jp)(),(0,M.ox)(),(0,M.Lo)(),(0,M.Xd)(),(0,M.Vb)(),(0,L.pt)(),(0,B.W)(),(0,B.st)(),(0,M.Kb)(),(0,x.Af)(),(0,M.sj)(),(0,L.zn)(),(0,M.Cc)(),(0,M.Tb)(),(0,k.c)(),(0,M.Ab)(),(0,M.QO)(),(0,M.Pb)(),(0,M.SO)(),(0,M.G)(),(0,B.tr)(),(0,M.bE)({});var Le=class extends L.ft{get minimumHeight(){return this.visible?this.height:0}get maximumHeight(){return this.visible?this.height:0}get onDidChange(){return this._onDidChangeSize.event}constructor(t,e,i,s,n){super(B.V.BANNER_PART,{hasTitle:!1},t,i,e),this.contextKeyService=s,this.instantiationService=n,this.height=26,this.minimumWidth=0,this.maximumWidth=1/0,this._onDidChangeSize=this._register(new M.ej),this.visible=!1,this.focusedActionIndex=-1,this.markdownRenderer=this.instantiationService.createInstance(M.Sc,{})}createContentArea(t){this.element=t,this.element.tabIndex=0,this._register((0,M.Sx)(this.element,M._x.FOCUS,()=>{-1!==this.focusedActionIndex&&this.focusActionLink()}));let e=this._register(this.contextKeyService.createScoped(this.element));return B.mn.bindTo(e).set(!0),this.element}close(t){this.setVisibility(!1),(0,M.Ox)(this.element),"function"==typeof t.onClose&&t.onClose(),this.item=void 0}focusActionLink(){var t,e,i;let s=null!==(t=null===(e=this.item)||void 0===e||null===(e=e.actions)||void 0===e?void 0:e.length)&&void 0!==t?t:0;if(this.focusedActionIndex<s){var n,o;let t=null===(n=this.messageActionsContainer)||void 0===n?void 0:n.children[this.focusedActionIndex];(0,M._S)(t)&&(null!==(o=this.actionBar)&&void 0!==o&&o.setFocusable(!1),t.focus())}else null===(i=this.actionBar)||void 0===i||i.focus(0)}getAriaLabel(t){return t.ariaLabel?t.ariaLabel:"string"==typeof t.message?t.message:void 0}getBannerMessage(t){if("string"==typeof t){let e=(0,M.px)("span");return e.textContent=t,e}return this.markdownRenderer.render(t).element}setVisibility(t){t!==this.visible&&(this.visible=t,this.focusedActionIndex=-1,this.layoutService.setPartHidden(!t,B.V.BANNER_PART),this._onDidChangeSize.fire(void 0))}focus(){this.focusedActionIndex=-1,this.element.focus()}focusNextAction(){var t,e;let i=null!==(t=null===(e=this.item)||void 0===e||null===(e=e.actions)||void 0===e?void 0:e.length)&&void 0!==t?t:0;this.focusedActionIndex=this.focusedActionIndex<i?this.focusedActionIndex+1:0,this.focusActionLink()}focusPreviousAction(){var t,e;let i=null!==(t=null===(e=this.item)||void 0===e||null===(e=e.actions)||void 0===e?void 0:e.length)&&void 0!==t?t:0;this.focusedActionIndex=this.focusedActionIndex>0?this.focusedActionIndex-1:i,this.focusActionLink()}hide(t){var e;(null===(e=this.item)||void 0===e?void 0:e.id)===t&&this.setVisibility(!1)}show(t){var e,i;if(t.id===(null===(e=this.item)||void 0===e?void 0:e.id))return void this.setVisibility(!0);(0,M.Ox)(this.element);let s=this.getAriaLabel(t);s&&this.element.setAttribute("aria-label",s);let n=(0,M.Dx)(this.element,(0,M.px)("div.icon-container"));n.setAttribute("aria-hidden","true"),M.Bb.isThemeIcon(t.icon)?n.appendChild((0,M.px)("div".concat(M.Bb.asCSSSelector(t.icon)))):(n.classList.add("custom-icon"),M.xO.isUri(t.icon)&&(n.style.backgroundImage=(0,M.Yl)(t.icon)));let o=(0,M.Dx)(this.element,(0,M.px)("div.message-container"));if(o.setAttribute("aria-hidden","true"),o.appendChild(this.getBannerMessage(t.message)),this.messageActionsContainer=(0,M.Dx)(this.element,(0,M.px)("div.message-actions-container")),t.actions)for(let h of t.actions)this._register(this.instantiationService.createInstance(x.kf,this.messageActionsContainer,(0,V.A)((0,V.A)({},h),{},{tabIndex:-1}),{}));let r=(0,M.Dx)(this.element,(0,M.px)("div.action-container"));this.actionBar=this._register(new M.Vr(r));let a=null!==(i=t.closeLabel)&&void 0!==i?i:(0,M.EM)(2946,"Close Banner"),l=this._register(new M.Hb("banner.close",a,M.Bb.asClassName(M.Y),!0,()=>this.close(t)));this.actionBar.push(l,{icon:!0,label:!1}),this.actionBar.setFocusable(!1),this.setVisibility(!0),this.item=t}toJSON(){return{type:B.V.BANNER_PART}}};Le=(0,M.Jb)([(0,M.Yb)(0,M.Yd),(0,M.Yb)(1,B.ot),(0,M.Yb)(2,M.Io),(0,M.Yb)(3,M.Nb),(0,M.Yb)(4,M.rx)],Le),M.kb.registerCommandAndKeybindingRule({id:"workbench.banner.focusBanner",weight:M.Ob.WorkbenchContrib,primary:M.KO.Escape,when:B.mn,handler:t=>{t.get(L.Rn).focus()}}),M.kb.registerCommandAndKeybindingRule({id:"workbench.banner.focusNextAction",weight:M.Ob.WorkbenchContrib,primary:M.KO.RightArrow,secondary:[M.KO.DownArrow],when:B.mn,handler:t=>{t.get(L.Rn).focusNextAction()}}),M.kb.registerCommandAndKeybindingRule({id:"workbench.banner.focusPreviousAction",weight:M.Ob.WorkbenchContrib,primary:M.KO.LeftArrow,secondary:[M.KO.UpArrow],when:B.mn,handler:t=>{t.get(L.Rn).focusPreviousAction()}}),(0,M.Db)((R=class t extends M.bb{constructor(){super({id:t.ID,title:t.LABEL,category:k.s.View,f1:!0})}async run(t){t.get(B.ot).focusPart(B.V.BANNER_PART)}},{_:R.ID="workbench.action.focusBanner"},{_:R.LABEL=(0,M.DM)(2947,"Focus Banner")},R)),(0,M.Xb)(),(0,O.L)(),(0,O.b)(),(0,L.zn)(),(0,M.Vo)(),(0,M.Lo)(),(0,k.n)(),(0,M.SO)(),(0,M.Vb)();var Be,Oe=(D=class{constructor(t,e,i){var s;let n,o=null===(s=i.options)||void 0===s?void 0:s.welcomeBanner;o&&!e.getBoolean(Be.WELCOME_BANNER_DISMISSED_KEY,M.Ro.PROFILE,!1)&&("string"==typeof o.icon?n=M.Bb.fromId(o.icon):o.icon&&(n=M.xO.revive(o.icon)),t.show({id:"welcome.banner",message:o.message,icon:n,actions:o.actions,onClose:()=>{e.store(Be.WELCOME_BANNER_DISMISSED_KEY,!0,M.Ro.PROFILE,M.zo.MACHINE)}}))}},{_:Be=D},{_:D.WELCOME_BANNER_DISMISSED_KEY="workbench.banner.welcome.dismissed"},D);Oe=Be=(0,M.Jb)([(0,M.Yb)(0,L.Rn),(0,M.Yb)(1,M.Io),(0,M.Yb)(2,k.t)],Oe),M.jb.as(O.v.Workbench).registerWorkbenchContribution(Oe,O.M.Restored),(0,M.Zp)(),(0,L.zn)(),(0,B.x)(),(0,B.w)(async t=>{t.get(L.Rn)}),(0,M.Xb)(),(0,M.gb)(),(0,M.ox)(),(0,B.st)(),(0,M.Zp)(),(0,O.G)(),(0,O.At)(),(0,M.aP)(),(0,M.oS)(),(0,M.SE)(),(0,M.oE)(),(0,B.tt)(),(0,B.x)(),(0,x.xf)(),(0,x.N)(),(0,x.ta)(),(0,P.a)(),(0,P.x)(),(0,P._)(),(0,O.Mt)(),(0,O.en)(),(0,B.W)(),(0,M.Xt)();var ke=class extends ne{constructor(t,e,i){super((0,B.$)(),t,new M.iu,e),this.instantiationService=i,this.mainContainer.classList.add("monaco-workbench-part")}registerErrorHandler(t){(0,M.lP)(e=>this.handleUnexpectedError(e,t))}createNotificationsHandlers(){}initServices(){return this.instantiationService}restore(t){try{this.restoreParts(t)}catch(t){(0,M.sP)(t)}}};function He(t,e){return(0,V.A)((0,V.A)((0,V.A)((0,V.A)((0,V.A)((0,V.A)({},(0,Y.i)(e)),(0,L.vt)({isKeybindingConfigurationVisible:()=>!0,shouldUseGlobalPicker:()=>!0})),(0,Y.o)({shouldUseGlobalKeybindings:()=>!0})),{},{[B.ot.toString()]:new M.Xp(ke,[t],!1),[O.W.toString()]:new M.Xp(Y.u,[],!1),[O.kt.toString()]:new M.Xp(H.i,[void 0],!1)},{[L.On.toString()]:new M.Xp(ue,[],!1)}),{[x.wb.toString()]:new M.Xp(Te,[],!1),[x.xb.toString()]:new M.Xp(x.bb,[],!1)}),{[L.Rn.toString()]:new M.Xp(Le,[],!1)})}ke=(0,M.Jb)([(0,M.Yb)(1,M.mb),(0,M.Yb)(2,M.rx)],ke),(0,B.S)(async t=>{t.get(B.ot).startup();let e=(0,M.Fx)(M.wE,(0,B.$)());(0,M._E)(null!=e&&!e.guess,M.wE)}),(0,B.C)(async t=>{t.get(M.rx).createInstance(Y.a)})}}]);
"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[1508,9127],{9127:(e,t,n)=>{n.r(t),n.d(t,{ErrorEvent:()=>a,EventSource:()=>G});var i=n(9379);class s extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function r(e){}function o(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=r,onError:n=r,onRetry:i=r,onComment:o}=e;let a,c="",l=!0,h="",u="";function d(e){if(""===e)return h.length>0&&t({id:a,event:u||void 0,data:h.endsWith("\n")?h.slice(0,-1):h}),a=void 0,h="",void(u="");if(e.startsWith(":"))return void(o&&o(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)f(e,"",e);else{const t=e.slice(0,n),i=" "===e[n+1]?2:1;f(t,e.slice(n+i),e)}}function f(e,t,r){switch(e){case"event":u=t;break;case"data":h="".concat(h).concat(t,"\n");break;case"id":a=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?i(parseInt(t,10)):n(new s('Invalid `retry` value: "'.concat(t,'"'),{type:"invalid-retry",value:t,line:r}));break;default:n(new s('Unknown field "'.concat(e.length>20?"".concat(e.slice(0,20),"\u2026"):e,'"'),{type:"unknown-field",field:e,value:t,line:r}))}}return{feed:function(e){const t=l?e.replace(/^\xEF\xBB\xBF/,""):e,[n,i]=function(e){const t=[];let n="",i=0;for(;i<e.length;){const s=e.indexOf("\r",i),r=e.indexOf("\n",i);let o=-1;if(-1!==s&&-1!==r?o=Math.min(s,r):-1!==s?o=s:-1!==r&&(o=r),-1===o){n=e.slice(i);break}{const n=e.slice(i,o);t.push(n),i=o+1,"\r"===e[i-1]&&"\n"===e[i]&&i++}}return[t,n]}("".concat(c).concat(t));for(const s of n)d(s);c=i,l=!1},reset:function(){c&&(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consume&&d(c),l=!0,a=void 0,h="",u="",c=""}}}class a extends Event{constructor(e,t){var n,i;super(e),this.code=null!=(n=null==t?void 0:t.code)?n:void 0,this.message=null!=(i=null==t?void 0:t.message)?i:void 0}[Symbol.for("nodejs.util.inspect.custom")](e,t,n){return n(l(this),t)}[Symbol.for("Deno.customInspect")](e,t){return e(l(this),t)}}function c(e){return e instanceof Error?"errors"in e&&Array.isArray(e.errors)?e.errors.map(c).join(", "):"cause"in e&&e.cause instanceof Error?"".concat(e,": ").concat(c(e.cause)):e.message:"".concat(e)}function l(e){return{type:e.type,message:e.message,code:e.code,defaultPrevented:e.defaultPrevented,cancelable:e.cancelable,timeStamp:e.timeStamp}}var h,u,d,f,p,v,m,b,y,w,g,E,O,k,C,S,W,N,M,x,T,j,P,D=e=>{throw TypeError(e)},I=(e,t,n)=>t.has(e)||D("Cannot "+n),L=(e,t,n)=>(I(e,t,"read from private field"),n?n.call(e):t.get(e)),A=(e,t,n)=>t.has(e)?D("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),R=(e,t,n,i)=>(I(e,t,"write to private field"),t.set(e,n),n),U=(e,t,n)=>(I(e,t,"access private method"),n);class G extends EventTarget{constructor(e,t){var n,i;super(),A(this,k),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,A(this,h),A(this,u),A(this,d),A(this,f),A(this,p),A(this,v),A(this,m),A(this,b,null),A(this,y),A(this,w),A(this,g,null),A(this,E,null),A(this,O,null),A(this,S,(async e=>{var t;L(this,w).reset();const{body:n,redirected:i,status:s,headers:r}=e;if(204===s)return U(this,k,T).call(this,"Server sent HTTP 204, not reconnecting",204),void this.close();if(R(this,d,i?new URL(e.url):void 0),200!==s)return void U(this,k,T).call(this,"Non-200 status code (".concat(s,")"),s);if(!(r.get("content-type")||"").startsWith("text/event-stream"))return void U(this,k,T).call(this,'Invalid content type, expected "text/event-stream"',s);if(L(this,h)===this.CLOSED)return;R(this,h,this.OPEN);const o=new Event("open");if(null==(t=L(this,O))||t.call(this,o),this.dispatchEvent(o),"object"!=typeof n||!n||!("getReader"in n))return U(this,k,T).call(this,"Invalid response body, expected a web ReadableStream",s),void this.close();const a=new TextDecoder,c=n.getReader();let l=!0;do{const{done:e,value:t}=await c.read();t&&L(this,w).feed(a.decode(t,{stream:!e})),e&&(l=!1,L(this,w).reset(),U(this,k,j).call(this))}while(l)})),A(this,W,(e=>{R(this,y,void 0),"AbortError"!==e.name&&"aborted"!==e.type&&U(this,k,j).call(this,c(e))})),A(this,M,(e=>{"string"==typeof e.id&&R(this,b,e.id);const t=new MessageEvent(e.event||"message",{data:e.data,origin:L(this,d)?L(this,d).origin:L(this,u).origin,lastEventId:e.id||""});L(this,E)&&(!e.event||"message"===e.event)&&L(this,E).call(this,t),this.dispatchEvent(t)})),A(this,x,(e=>{R(this,v,e)})),A(this,P,(()=>{R(this,m,void 0),L(this,h)===this.CONNECTING&&U(this,k,C).call(this)}));try{if(e instanceof URL)R(this,u,e);else{if("string"!=typeof e)throw new Error("Invalid URL");R(this,u,new URL(e,function(){const e="document"in globalThis?globalThis.document:void 0;return e&&"object"==typeof e&&"baseURI"in e&&"string"==typeof e.baseURI?e.baseURI:void 0}()))}}catch(s){throw function(e){const t=globalThis.DOMException;return"function"==typeof t?new t(e,"SyntaxError"):new SyntaxError(e)}("An invalid or illegal string was specified")}R(this,w,o({onEvent:L(this,M),onRetry:L(this,x)})),R(this,h,this.CONNECTING),R(this,v,3e3),R(this,p,null!=(n=null==t?void 0:t.fetch)?n:globalThis.fetch),R(this,f,null!=(i=null==t?void 0:t.withCredentials)&&i),U(this,k,C).call(this)}get readyState(){return L(this,h)}get url(){return L(this,u).href}get withCredentials(){return L(this,f)}get onerror(){return L(this,g)}set onerror(e){R(this,g,e)}get onmessage(){return L(this,E)}set onmessage(e){R(this,E,e)}get onopen(){return L(this,O)}set onopen(e){R(this,O,e)}addEventListener(e,t,n){const i=t;super.addEventListener(e,i,n)}removeEventListener(e,t,n){const i=t;super.removeEventListener(e,i,n)}close(){L(this,m)&&clearTimeout(L(this,m)),L(this,h)!==this.CLOSED&&(L(this,y)&&L(this,y).abort(),R(this,h,this.CLOSED),R(this,y,void 0))}}h=new WeakMap,u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,v=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,E=new WeakMap,O=new WeakMap,k=new WeakSet,C=function(){R(this,h,this.CONNECTING),R(this,y,new AbortController),L(this,p)(L(this,u),U(this,k,N).call(this)).then(L(this,S)).catch(L(this,W))},S=new WeakMap,W=new WeakMap,N=function(){var e;const t={mode:"cors",redirect:"follow",headers:(0,i.A)({Accept:"text/event-stream"},L(this,b)?{"Last-Event-ID":L(this,b)}:void 0),cache:"no-store",signal:null==(e=L(this,y))?void 0:e.signal};return"window"in globalThis&&(t.credentials=this.withCredentials?"include":"same-origin"),t},M=new WeakMap,x=new WeakMap,T=function(e,t){var n;L(this,h)!==this.CLOSED&&R(this,h,this.CLOSED);const i=new a("error",{code:t,message:e});null==(n=L(this,g))||n.call(this,i),this.dispatchEvent(i)},j=function(e,t){var n;if(L(this,h)===this.CLOSED)return;R(this,h,this.CONNECTING);const i=new a("error",{code:t,message:e});null==(n=L(this,g))||n.call(this,i),this.dispatchEvent(i),R(this,m,setTimeout(L(this,P),L(this,v)))},P=new WeakMap,G.CONNECTING=0,G.OPEN=1,G.CLOSED=2},4980:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(2284);function s(e){var t=function(e,t){if("object"!=(0,i.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=(0,i.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.A)(t)?t:t+""}function r(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9379:(e,t,n)=>{n.d(t,{A:()=>r});var i=n(4980);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},2284:(e,t,n)=>{function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{A:()=>i})}}]);
"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[3499],{3499:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var r=a(4772);let l=(0,r.V)(r.H),i=(0,r.v)((t=>{let{workspace:e,kind:a,isTemplate:l}=t;return e&&(0,r.V)(r.Y)?"flow"==a?r.W.listFlows({workspace:e}):r.X.listScripts({workspace:e,kinds:a,isTemplate:l}):void 0}),l?{initial:{workspace:l,kind:"script",isTemplate:void 0,refreshCount:0},invalidateMs:6e4}:{});var s=(0,r.f)('<div class="text-2xs text-tertiary font-light text-center py-2 px-3 items-center"> </div>'),n=(0,r.f)('<div class="flex flex-col"><div class="text-left text-xs font-normal leading-tight py-0"> </div> <div class="text-left text-2xs font-normal"> </div></div>'),o=(t,e,a,r,l,i)=>{"flow"==e()?a("pickFlow",{path:r()}):a("pickScript",{path:r(),hash:l?i():void 0,kind:e()})},f=(0,r.f)('<div class="grow min-w-0 truncate text-left text-2xs text-secondary font-[220]"> </div>'),v=(0,r.f)('<kbd class="!text-xs">&crarr;</kbd>'),d=(0,r.f)('<button><!> <div class="flex flex-col grow min-w-0"><div class="grow min-w-0 truncate text-left text-2xs text-primary font-normal"><!></div> <!></div> <!></button>'),c=(0,r.f)('<li class="w-full"><!></li>'),u=(0,r.f)("<!> <ul></ul>",1),p=(0,r.f)("<!> <!>",1);function h(t,e){(0,r.p)(e,!0);const a=()=>(0,r.w)(r.H,"$workspaceStore",l),[l,h]=(0,r.G)();let k=(0,r.r)((async()=>await i({workspace:a(),kind:w(),isTemplate:x(),refreshCount:E()})),{loadInit:!1,clearValueOnRefresh:!1}),m=(0,r.A)(void 0),w=(0,r.a)(e,"kind",3,"script"),x=(0,r.a)(e,"isTemplate",3,void 0),g=(0,r.a)(e,"selected",3,void 0),y=(0,r.a)(e,"displayPath",3,!1),W=(0,r.a)(e,"filteredWithOwner",15,void 0),b=(0,r.a)(e,"filter",3,""),C=(0,r.a)(e,"owners",31,(()=>(0,r.x)([]))),F=(0,r.a)(e,"ownerFilter",15,void 0),E=(0,r.a)(e,"refreshCount",3,0);const J=(0,r.y)();(0,r.z)((()=>{E(),a()&&w()&&(0,r.u)((()=>k.refresh()))})),(0,r.z)((()=>{a()&&F(void 0)})),(0,r.z)((()=>{var t,e;(0,r.g)(m)&&C(Array.from(new Set(null!==(t=null==(e=(0,r.g)(m))?void 0:e.map((t=>t.path.split("/").slice(0,2).join("/"))))&&void 0!==t?t:[])).sort(((t,e)=>t.startsWith("u/")&&!e.startsWith("u/")?-1:e.startsWith("u/")&&!t.startsWith("u/")?1:t.startsWith("f/")&&!e.startsWith("f/")?-1:e.startsWith("f/")&&!t.startsWith("f/")?1:t.localeCompare(e))))})),(0,r.z)((()=>{var t;W(null!=F()?null==(t=(0,r.g)(m))?void 0:t.filter((t=>{var e;return t.path.startsWith(null==(e=F())?void 0:e.name)})):(0,r.g)(m))}));var T=p();(0,r.B)("keydown",r.$,(function(t){if(null!=g()&&W()&&g()>=0&&g()<W().length&&"Enter"===t.key){t.preventDefault();let e=W()[g()];"flow"==w()?J("pickFlow",{path:e.path}):J("pickScript",{path:e.path,hash:void 0,kind:w()})}}));var z=(0,r.C)(T);(0,r.S)(z,{get filter(){return b()},get items(){return k.value},f:t=>(0,r.D)(t.summary)?t.path:t.summary+" ("+t.path+")",get filteredItems(){return(0,r.g)(m)},set filteredItems(t){(0,r.s)(m,t,!0)}});var R=(0,r.E)(z,2),S=t=>{var e=u(),a=(0,r.C)(e),l=t=>{var e=s(),a=(0,r.J)(e);(0,r.e)((()=>(0,r.R)(a,"flow"==w()?"No flows found.":"No scripts found."))),(0,r.k)(t,e)};(0,r.F)(a,(t=>{0==(0,r.g)(m).length&&t(l)}));var i=(0,r.E)(a,2);(0,r.I)(i,21,(()=>{var t;return null!==(t=W())&&void 0!==t?t:[]}),r.T,((t,e,a)=>{let l=()=>(0,r.g)(e).path,i=()=>(0,r.g)(e).hash,s=()=>(0,r.g)(e).summary,u=()=>(0,r.g)(e).marked;var p=c(),h=(0,r.J)(p);{const t=t=>{var e=n(),a=(0,r.J)(e),i=(0,r.J)(a),o=(0,r.E)(a,2),f=(0,r.J)(o);(0,r.e)((()=>{var t,e;(0,r.R)(i,null!==(t=s())&&void 0!==t?t:""),(0,r.R)(f,null!==(e=l())&&void 0!==e?e:"")})),(0,r.k)(t,e)};let e=(0,r.K)((()=>a===g()));(0,r.P)(h,{class:"w-full ",placement:"right",get forceOpen(){return(0,r.g)(e)},text:t,children:(t,e)=>{var n=d();n.__click=[o,w,J,l,false,i];var c=(0,r.J)(n),p=t=>{(0,r.L)(t,{size:14,class:"shrink-0"})},h=t=>{(0,r.M)(t,{size:14})};(0,r.F)(c,(t=>{"flow"==w()?t(p):t(h,!1)}));var k=(0,r.E)(c,2),m=(0,r.J)(k),x=(0,r.J)(m),W=t=>{var e=(0,r.N)(),a=(0,r.C)(e);(0,r.O)(a,u),(0,r.k)(t,e)},b=t=>{var e=(0,r.Q)();(0,r.e)((()=>(0,r.R)(e,s()&&0!=s().length?s():l()))),(0,r.k)(t,e)};(0,r.F)(x,(t=>{u()?t(W):t(b,!1)}));var C=(0,r.E)(m,2),F=t=>{var e=f(),a=(0,r.J)(e);(0,r.e)((()=>(0,r.R)(a,l()))),(0,r.k)(t,e)};(0,r.F)(C,(t=>{y()&&l()&&t(F)}));var E=(0,r.E)(k,2),T=t=>{var e=v();(0,r.k)(t,e)};(0,r.F)(E,(t=>{a===g()&&t(T)})),(0,r.e)((()=>(0,r.h)(n,1,"px-3 py-2 gap-2 flex flex-row w-full hover:bg-surface-hover transition-all items-center rounded-md ".concat(a===g()?"bg-surface-hover":"")))),(0,r.k)(t,n)},$$slots:{text:!0,default:!0}})}(0,r.k)(t,p)})),(0,r.k)(t,e)},_=t=>{var e=(0,r.N)(),a=(0,r.C)(e);(0,r.I)(a,16,(()=>Array(10).fill(0)),r.T,((t,e)=>{(0,r.U)(t,{layout:[.5,[1.5]]})})),(0,r.k)(t,e)};(0,r.F)(R,(t=>{(0,r.g)(m)?t(S):t(_,!1)})),(0,r.k)(t,T),(0,r.n)(),h()}(0,r.Z)(["click"])}}]);
"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[4996],{4996:(e,t,n)=>{n.r(t),n.d(t,{setupMode:()=>_e});var r=n(4467),o=n(45),i=n(9379),a=n(6818),l=n(2274),s=(n(1359),n(7391)),c=(n(6095),n(3373),n(7852),n(2182),n(8638),n(3227),n(8871),n(1439),n(1070),n(717),n(1532),n(6361),n(5537),n(981),n(8074),n(8610),n(2527),n(2278),n(4458));n(8919);const u=["schema","documentAST","introspectionJSON","introspectionJSONString","documentString"];function d(e,t,n){return t===n||((0,l.B)(n)?!!(0,l.B)(t)&&d(e,t.ofType,n.ofType):(0,l.B)(t)?d(e,t.ofType,n):(0,l.z)(n)?!!(0,l.z)(t)&&d(e,t.ofType,n.ofType):!(0,l.z)(t)&&((0,l.M)(n)&&((0,l.L)(t)||(0,l.H)(t))&&e.isSubType(n,t)))}function f(e,t,n){return t===n||((0,l.M)(t)?(0,l.M)(n)?e.getPossibleTypes(t).some(t=>e.isSubType(n,t)):e.isSubType(t,n):!!(0,l.M)(n)&&e.isSubType(n,t))}function E(e,t){switch(t.kind){case l.st.LIST_TYPE:{let n=E(e,t.type);return n&&new l.S(n)}case l.st.NON_NULL_TYPE:{let n=E(e,t.type);return n&&new l.C(n)}case l.st.NAMED_TYPE:return e.getType(t.name.value)}}function p(e){return e.kind===l.st.OPERATION_DEFINITION||e.kind===l.st.FRAGMENT_DEFINITION}function m(e){return e.kind===l.st.SCALAR_TYPE_DEFINITION||e.kind===l.st.OBJECT_TYPE_DEFINITION||e.kind===l.st.INTERFACE_TYPE_DEFINITION||e.kind===l.st.UNION_TYPE_DEFINITION||e.kind===l.st.ENUM_TYPE_DEFINITION||e.kind===l.st.INPUT_OBJECT_TYPE_DEFINITION}function v(e){return e.kind===l.st.SCALAR_TYPE_EXTENSION||e.kind===l.st.OBJECT_TYPE_EXTENSION||e.kind===l.st.INTERFACE_TYPE_EXTENSION||e.kind===l.st.UNION_TYPE_EXTENSION||e.kind===l.st.ENUM_TYPE_EXTENSION||e.kind===l.st.INPUT_OBJECT_TYPE_EXTENSION}function T(e){let t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():l.g;for(let a of r)t[a.name]=a.args.map(e=>e.name);let o=e.getDocument().definitions;for(let a of o)if(a.kind===l.st.DIRECTIVE_DEFINITION){var i;let e=null!==(i=a.arguments)&&void 0!==i?i:[];t[a.name.value]=e.map(e=>e.name.value)}return{Directive(n){let r=n.name.value,o=t[r];if(n.arguments&&o)for(let t of n.arguments){let n=t.name.value;if(!o.includes(n)){let i=(0,l.$)(n,o);e.reportError(new l.dt('Unknown argument "'.concat(n,'" on directive "@').concat(r,'".')+(0,l.it)(i),{nodes:t}))}}return!1}}}function N(e){let t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():l.g;for(let i of r)t[i.name]=i.locations;let o=e.getDocument().definitions;for(let i of o)i.kind===l.st.DIRECTIVE_DEFINITION&&(t[i.name.value]=i.locations.map(e=>e.value));return{Directive(n,r,o,i,a){let s=n.name.value,c=t[s];if(!c)return void e.reportError(new l.dt('Unknown directive "@'.concat(s,'".'),{nodes:n}));let u=function(e){let t=e[e.length-1];switch("kind"in t||(0,l.ft)(!1),t.kind){case l.st.OPERATION_DEFINITION:return function(e){switch(e){case l.lt.QUERY:return l.ct.QUERY;case l.lt.MUTATION:return l.ct.MUTATION;case l.lt.SUBSCRIPTION:return l.ct.SUBSCRIPTION}}(t.operation);case l.st.FIELD:return l.ct.FIELD;case l.st.FRAGMENT_SPREAD:return l.ct.FRAGMENT_SPREAD;case l.st.INLINE_FRAGMENT:return l.ct.INLINE_FRAGMENT;case l.st.FRAGMENT_DEFINITION:return l.ct.FRAGMENT_DEFINITION;case l.st.VARIABLE_DEFINITION:return l.ct.VARIABLE_DEFINITION;case l.st.SCHEMA_DEFINITION:case l.st.SCHEMA_EXTENSION:return l.ct.SCHEMA;case l.st.SCALAR_TYPE_DEFINITION:case l.st.SCALAR_TYPE_EXTENSION:return l.ct.SCALAR;case l.st.OBJECT_TYPE_DEFINITION:case l.st.OBJECT_TYPE_EXTENSION:return l.ct.OBJECT;case l.st.FIELD_DEFINITION:return l.ct.FIELD_DEFINITION;case l.st.INTERFACE_TYPE_DEFINITION:case l.st.INTERFACE_TYPE_EXTENSION:return l.ct.INTERFACE;case l.st.UNION_TYPE_DEFINITION:case l.st.UNION_TYPE_EXTENSION:return l.ct.UNION;case l.st.ENUM_TYPE_DEFINITION:case l.st.ENUM_TYPE_EXTENSION:return l.ct.ENUM;case l.st.ENUM_VALUE_DEFINITION:return l.ct.ENUM_VALUE;case l.st.INPUT_OBJECT_TYPE_DEFINITION:case l.st.INPUT_OBJECT_TYPE_EXTENSION:return l.ct.INPUT_OBJECT;case l.st.INPUT_VALUE_DEFINITION:{let t=e[e.length-3];return"kind"in t||(0,l.ft)(!1),t.kind===l.st.INPUT_OBJECT_TYPE_DEFINITION?l.ct.INPUT_FIELD_DEFINITION:l.ct.ARGUMENT_DEFINITION}default:(0,l.ft)(!1,"Unexpected kind: "+(0,l.ot)(t.kind))}}(a);u&&!c.includes(u)&&e.reportError(new l.dt('Directive "@'.concat(s,'" may not be used on ').concat(u,"."),{nodes:n}))}}}function I(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);for(let i of e.getDocument().definitions)m(i)&&(r[i.name.value]=!0);let o=[...Object.keys(n),...Object.keys(r)];return{NamedType(t,i,a,s,c){let u=t.name.value;if(!n[u]&&!r[u]){var d;let n=null!==(d=c[2])&&void 0!==d?d:a,r=null!=n&&function(e){return"kind"in e&&(function(e){return e.kind===l.st.SCHEMA_DEFINITION||m(e)||e.kind===l.st.DIRECTIVE_DEFINITION}(e)||function(e){return e.kind===l.st.SCHEMA_EXTENSION||v(e)}(e))}(n);if(r&&g.includes(u))return;let i=(0,l.$)(u,r?g.concat(o):o);e.reportError(new l.dt('Unknown type "'.concat(u,'".')+(0,l.it)(i),{nodes:t}))}}}}Symbol.toStringTag;var g=[...l.v,...l.c].map(e=>e.name);function _(e){switch(e.kind){case l.st.OBJECT:return(0,i.A)((0,i.A)({},e),{},{fields:h(e.fields)});case l.st.LIST:return(0,i.A)((0,i.A)({},e),{},{values:e.values.map(_)});case l.st.INT:case l.st.FLOAT:case l.st.STRING:case l.st.BOOLEAN:case l.st.NULL:case l.st.ENUM:case l.st.VARIABLE:return e}}function h(e){return e.map(e=>(0,i.A)((0,i.A)({},e),{},{value:_(e.value)})).sort((e,t)=>(0,l.et)(e.name.value,t.name.value))}function O(e){return Array.isArray(e)?e.map(e=>{let[t,n]=e;return'subfields "'.concat(t,'" conflict because ')+O(n)}).join(" and "):e}function S(e,t,n,r,o,i,a,l){if(r.has(a,l,i))return;r.add(a,l,i);let s=e.getFragment(l);if(!s)return;let[c,u]=C(e,n,s);if(a!==c){A(e,t,n,r,o,i,a,c);for(let l of u)S(e,t,n,r,o,i,a,l)}}function y(e,t,n,r,o,i,a,l){if(a===l||o.has(a,l,i))return;o.add(a,l,i);let s=e.getFragment(a),c=e.getFragment(l);if(!s||!c)return;let[u,d]=C(e,n,s),[f,E]=C(e,n,c);A(e,t,n,r,o,i,u,f);for(let p of E)y(e,t,n,r,o,i,a,p);for(let p of d)y(e,t,n,r,o,i,p,l)}function A(e,t,n,r,o,i,a,l){for(let[s,c]of Object.entries(a)){let a=l[s];if(a)for(let l of c)for(let c of a){let a=b(e,n,r,o,i,s,l,c);a&&t.push(a)}}}function b(e,t,n,r,o,i,a,s){let[c,u,d]=a,[f,E,p]=s,m=o||c!==f&&(0,l.H)(c)&&(0,l.H)(f);if(!m){let e=u.name.value,t=E.name.value;if(e!==t)return[[i,'"'.concat(e,'" and "').concat(t,'" are different fields')],[u],[E]];if(!function(e,t){let n=e.arguments,r=t.arguments;if(void 0===n||0===n.length)return void 0===r||0===r.length;if(void 0===r||0===r.length||n.length!==r.length)return!1;let o=new Map(r.map(e=>{let{name:t,value:n}=e;return[t.value,n]}));return n.every(e=>{let t=e.value,n=o.get(e.name.value);return void 0!==n&&F(t)===F(n)})}(u,E))return[[i,"they have differing arguments"],[u],[E]]}let v=null===d||void 0===d?void 0:d.type,T=null===p||void 0===p?void 0:p.type;if(v&&T&&D(v,T))return[[i,'they return conflicting types "'.concat((0,l.ot)(v),'" and "').concat((0,l.ot)(T),'"')],[u],[E]];let N=u.selectionSet,I=E.selectionSet;return N&&I?function(e,t,n,r){if(e.length>0)return[[t,e.map(e=>{let[t]=e;return t})],[n,...e.map(e=>{let[,t]=e;return t}).flat()],[r,...e.map(e=>{let[,,t]=e;return t}).flat()]]}(function(e,t,n,r,o,i,a,l,s){let c=[],[u,d]=w(e,t,i,a),[f,E]=w(e,t,l,s);A(e,c,t,n,r,o,u,f);for(let p of E)S(e,c,t,n,r,o,u,p);for(let p of d)S(e,c,t,n,r,o,f,p);for(let p of d)for(let i of E)y(e,c,t,n,r,o,p,i);return c}(e,t,n,r,m,(0,l.A)(v),N,(0,l.A)(T),I),i,u,E):void 0}function F(e){return(0,l.Y)(_(e))}function D(e,t){return(0,l.z)(e)?!(0,l.z)(t)||D(e.ofType,t.ofType):!!(0,l.z)(t)||((0,l.B)(e)?!(0,l.B)(t)||D(e.ofType,t.ofType):!!(0,l.B)(t)||!(!(0,l.R)(e)&&!(0,l.R)(t))&&e!==t)}function w(e,t,n,r){let o=t.get(r);if(o)return o;let i=Object.create(null),a=Object.create(null);P(e,n,r,i,a);let l=[i,Object.keys(a)];return t.set(r,l),l}function C(e,t,n){return t.get(n.selectionSet)||w(e,t,E(e.getSchema(),n.typeCondition),n.selectionSet)}function P(e,t,n,r,o){for(let i of n.selections)switch(i.kind){case l.st.FIELD:{let e,n=i.name.value;((0,l.H)(t)||(0,l.L)(t))&&(e=t.getFields()[n]);let o=i.alias?i.alias.value:n;r[o]||(r[o]=[]),r[o].push([t,i,e]);break}case l.st.FRAGMENT_SPREAD:o[i.name.value]=!0;break;case l.st.INLINE_FRAGMENT:{let n=i.typeCondition;P(e,n?E(e.getSchema(),n):t,i.selectionSet,r,o);break}}}var k=class{constructor(){this._data=new Map}has(e,t,n){var r;let o=null===(r=this._data.get(e))||void 0===r?void 0:r.get(t);return void 0!==o&&(!!n||n===o)}add(e,t,n){let r=this._data.get(e);void 0===r?this._data.set(e,new Map([[t,n]])):r.set(t,n)}},M=class{constructor(){this._orderedPairSet=new k}has(e,t,n){return e<t?this._orderedPairSet.has(e,t,n):this._orderedPairSet.has(t,e,n)}add(e,t,n){e<t?this._orderedPairSet.add(e,t,n):this._orderedPairSet.add(t,e,n)}};var R={[l.st.SCALAR_TYPE_DEFINITION]:l.st.SCALAR_TYPE_EXTENSION,[l.st.OBJECT_TYPE_DEFINITION]:l.st.OBJECT_TYPE_EXTENSION,[l.st.INTERFACE_TYPE_DEFINITION]:l.st.INTERFACE_TYPE_EXTENSION,[l.st.UNION_TYPE_DEFINITION]:l.st.UNION_TYPE_EXTENSION,[l.st.ENUM_TYPE_DEFINITION]:l.st.ENUM_TYPE_EXTENSION,[l.st.INPUT_OBJECT_TYPE_DEFINITION]:l.st.INPUT_OBJECT_TYPE_EXTENSION};function U(e){var t,n;let r=Object.create(null),o=null!==(t=null===(n=e.getSchema())||void 0===n?void 0:n.getDirectives())&&void 0!==t?t:l.g;for(let s of o)r[s.name]=(0,l.rt)(s.args.filter(l.W),e=>e.name);let i=e.getDocument().definitions;for(let s of i)if(s.kind===l.st.DIRECTIVE_DEFINITION){var a;let e=null!==(a=s.arguments)&&void 0!==a?a:[];r[s.name.value]=(0,l.rt)(e.filter(j),e=>e.name.value)}return{Directive:{leave(t){let n=t.name.value,o=r[n];if(o){var i;let r=null!==(i=t.arguments)&&void 0!==i?i:[],a=new Set(r.map(e=>e.name.value));for(let[i,s]of Object.entries(o))if(!a.has(i)){let r=(0,l.q)(s.type)?(0,l.ot)(s.type):(0,l.Y)(s.type);e.reportError(new l.dt('Directive "@'.concat(n,'" argument "').concat(i,'" of type "').concat(r,'" is required, but it was not provided.'),{nodes:t}))}}}}}}function j(e){return e.type.kind===l.st.NON_NULL_TYPE&&null==e.defaultValue}function Y(e,t,n){var r;let o=null===(r=t.directives)||void 0===r?void 0:r.find(t=>t.name.value===e.name);if(o)return function(e,t,n){var r;let o={},i=(0,l.rt)(null!==(r=t.arguments)&&void 0!==r?r:[],e=>e.name.value);for(let a of e.args){let e=a.name,r=a.type,s=i[e];if(!s){if(void 0!==a.defaultValue)o[e]=a.defaultValue;else if((0,l.B)(r))throw new l.dt('Argument "'.concat(e,'" of required type "').concat((0,l.ot)(r),'" was not provided.'),{nodes:t});continue}let c=s.value,u=c.kind===l.st.NULL;if(c.kind===l.st.VARIABLE){let t=c.name.value;if(null==n||!L(n,t)){if(void 0!==a.defaultValue)o[e]=a.defaultValue;else if((0,l.B)(r))throw new l.dt('Argument "'.concat(e,'" of required type "').concat((0,l.ot)(r),'" was provided the variable "$').concat(t,'" which was not provided a runtime value.'),{nodes:c});continue}u=null==n[t]}if(u&&(0,l.B)(r))throw new l.dt('Argument "'.concat(e,'" of non-null type "').concat((0,l.ot)(r),'" must not be null.'),{nodes:c});let d=(0,l.n)(c,r,n);if(void 0===d)throw new l.dt('Argument "'.concat(e,'" has invalid value ').concat((0,l.Y)(c),"."),{nodes:c});o[e]=d}return o}(e,o,n)}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e,t,n,r,o){let i=new Map;return V(e,t,n,r,o,i,new Set),i}function V(e,t,n,r,o,i,a){for(let s of o.selections)switch(s.kind){case l.st.FIELD:{if(!B(n,s))continue;let e=J(s),t=i.get(e);void 0===t?i.set(e,[s]):t.push(s);break}case l.st.INLINE_FRAGMENT:if(!B(n,s)||!X(e,s,r))continue;V(e,t,n,r,s.selectionSet,i,a);break;case l.st.FRAGMENT_SPREAD:{let o=s.name.value;if(a.has(o)||!B(n,s))continue;a.add(o);let l=t[o];if(!l||!X(e,l,r))continue;V(e,t,n,r,l.selectionSet,i,a);break}}}function B(e,t){var n,r;return!0!==(null===(n=Y(l.m,t,e))||void 0===n?void 0:n.if)&&!1!==(null===(r=Y(l.f,t,e))||void 0===r?void 0:r.if)}function X(e,t,n){let r=t.typeCondition;if(!r)return!0;let o=E(e,r);return o===n||!!(0,l.M)(o)&&e.isSubType(o,n)}function J(e){return e.alias?e.alias.value:e.name.value}function H(e,t){let n=new Map;for(let r of e){let e=t(r),o=n.get(e);void 0===o?n.set(e,[r]):o.push(r)}return n}function G(e){return{Field:t,Directive:t};function t(t){var n;let r=H(null!==(n=t.arguments)&&void 0!==n?n:[],e=>e.name.value);for(let[o,i]of r)i.length>1&&e.reportError(new l.dt('There can be only one argument named "'.concat(o,'".'),{nodes:i.map(e=>e.name)}))}}function W(e){let t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():l.g;for(let l of r)t[l.name]=!l.isRepeatable;let o=e.getDocument().definitions;for(let s of o)s.kind===l.st.DIRECTIVE_DEFINITION&&(t[s.name.value]=!s.repeatable);let i=Object.create(null),a=Object.create(null);return{enter(n){if(!("directives"in n)||!n.directives)return;let r;if(n.kind===l.st.SCHEMA_DEFINITION||n.kind===l.st.SCHEMA_EXTENSION)r=i;else if(m(n)||v(n)){let e=n.name.value;r=a[e],void 0===r&&(a[e]=r=Object.create(null))}else r=Object.create(null);for(let o of n.directives){let n=o.name.value;t[n]&&(r[n]?e.reportError(new l.dt('The directive "@'.concat(n,'" can only be used once at this location.'),{nodes:[r[n],o]})):r[n]=o)}}}}function $(e,t){return!!((0,l.H)(e)||(0,l.L)(e)||(0,l.F)(e))&&null!=e.getFields()[t]}function q(e){let t=[],n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){let e=t.pop();e||(0,l.ft)(!1),n=e}},ObjectField(t){let r=t.name.value;n[r]?e.reportError(new l.dt('There can be only one input field named "'.concat(r,'".'),{nodes:[n[r],t.name]})):n[r]=t.name}}}function z(e,t){let n=e.getInputType();if(!n)return;let r=(0,l.A)(n);if(!(0,l.R)(r)){let r=(0,l.ot)(n);return void e.reportError(new l.dt('Expected value of type "'.concat(r,'", found ').concat((0,l.Y)(t),"."),{nodes:t}))}try{if(void 0===r.parseLiteral(t,void 0)){let r=(0,l.ot)(n);e.reportError(new l.dt('Expected value of type "'.concat(r,'", found ').concat((0,l.Y)(t),"."),{nodes:t}))}}catch(o){let r=(0,l.ot)(n);o instanceof l.dt?e.reportError(o):e.reportError(new l.dt('Expected value of type "'.concat(r,'", found ').concat((0,l.Y)(t),"; ")+o.message,{nodes:t,originalError:o}))}}function Q(e,t,n,r,o){if((0,l.B)(r)&&!(0,l.B)(t)){if((null==n||n.kind===l.st.NULL)&&void 0===o)return!1;return d(e,t,r.ofType)}return d(e,t,r)}const K=Object.freeze([function(e){function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n.kind===l.st.FRAGMENT_SPREAD){let i=n.name.value;if(!0===r[i])return!1;let a=e.getFragment(i);if(!a)return!1;try{return r[i]=!0,t(a,r,o)}finally{r[i]=void 0}}if(n.kind===l.st.FIELD&&("fields"===n.name.value||"interfaces"===n.name.value||"possibleTypes"===n.name.value||"inputFields"===n.name.value)&&(o++,o>=3))return!0;if("selectionSet"in n&&n.selectionSet)for(let e of n.selectionSet.selections)if(t(e,r,o))return!0;return!1}return{Field(n){if(("__schema"===n.name.value||"__type"===n.name.value)&&t(n))return e.reportError(new l.dt("Maximum introspection depth exceeded",{nodes:[n]})),!1}}}]);Object.freeze([function(e){return{Document(t){for(let n of t.definitions)if(!p(n)){let t=n.kind===l.st.SCHEMA_DEFINITION||n.kind===l.st.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new l.dt("The ".concat(t," definition is not executable."),{nodes:n}))}return!1}}},function(e){let t=Object.create(null);return{OperationDefinition(n){let r=n.name;return r&&(t[r.value]?e.reportError(new l.dt('There can be only one operation named "'.concat(r.value,'".'),{nodes:[t[r.value],r]})):t[r.value]=r),!1},FragmentDefinition:()=>!1}},function(e){let t=0;return{Document(e){t=e.definitions.filter(e=>e.kind===l.st.OPERATION_DEFINITION).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new l.dt("This anonymous operation must be the only defined operation.",{nodes:n}))}}},function(e){return{OperationDefinition(t){if("subscription"===t.operation){let n=e.getSchema(),r=n.getSubscriptionType();if(r){let o=t.name?t.name.value:null,i=Object.create(null),a=e.getDocument(),s=Object.create(null);for(let e of a.definitions)e.kind===l.st.FRAGMENT_DEFINITION&&(s[e.name.value]=e);let c=x(n,s,i,r,t.selectionSet);if(c.size>1){let t=[...c.values()].slice(1).flat();e.reportError(new l.dt(null==o?"Anonymous Subscription must select only one top level field.":'Subscription "'.concat(o,'" must select only one top level field.'),{nodes:t}))}for(let t of c.values())t[0].name.value.startsWith("__")&&e.reportError(new l.dt(null==o?"Anonymous Subscription must not select an introspection top level field.":'Subscription "'.concat(o,'" must not select an introspection top level field.'),{nodes:t}))}}}}},I,function(e){return{InlineFragment(t){let n=t.typeCondition;if(n){let t=E(e.getSchema(),n);if(t&&!(0,l.N)(t)){let t=(0,l.Y)(n);e.reportError(new l.dt('Fragment cannot condition on non composite type "'.concat(t,'".'),{nodes:n}))}}},FragmentDefinition(t){let n=E(e.getSchema(),t.typeCondition);if(n&&!(0,l.N)(n)){let n=(0,l.Y)(t.typeCondition);e.reportError(new l.dt('Fragment "'.concat(t.name.value,'" cannot condition on non composite type "').concat(n,'".'),{nodes:t.typeCondition}))}}}},function(e){return{VariableDefinition(t){let n=E(e.getSchema(),t.type);if(void 0!==n&&!(0,l.I)(n)){let n=t.variable.name.value,r=(0,l.Y)(t.type);e.reportError(new l.dt('Variable "$'.concat(n,'" cannot be non-input type "').concat(r,'".'),{nodes:t.type}))}}}},function(e){return{Field(t){let n=e.getType(),r=t.selectionSet;if(n)if((0,l.R)((0,l.A)(n))){if(r){let o=t.name.value,i=(0,l.ot)(n);e.reportError(new l.dt('Field "'.concat(o,'" must not have a selection since type "').concat(i,'" has no subfields.'),{nodes:r}))}}else if(r){if(0===r.selections.length){let r=t.name.value,o=(0,l.ot)(n);e.reportError(new l.dt('Field "'.concat(r,'" of type "').concat(o,'" must have at least one field selected.'),{nodes:t}))}}else{let r=t.name.value,o=(0,l.ot)(n);e.reportError(new l.dt('Field "'.concat(r,'" of type "').concat(o,'" must have a selection of subfields. Did you mean "').concat(r,' { ... }"?'),{nodes:t}))}}}},function(e){return{Field(t){let n=e.getParentType();if(n&&!e.getFieldDef()){let r=e.getSchema(),o=t.name.value,i=(0,l.it)("to use an inline fragment on",function(e,t,n){if(!(0,l.M)(t))return[];let r=new Set,o=Object.create(null);for(let a of e.getPossibleTypes(t))if(a.getFields()[n]){r.add(a),o[a.name]=1;for(let e of a.getInterfaces()){var i;e.getFields()[n]&&(r.add(e),o[e.name]=(null!==(i=o[e.name])&&void 0!==i?i:0)+1)}}return[...r].sort((t,n)=>{let r=o[n.name]-o[t.name];return 0===r?(0,l.L)(t)&&e.isSubType(t,n)?-1:(0,l.L)(n)&&e.isSubType(n,t)?1:(0,l.et)(t.name,n.name):r}).map(e=>e.name)}(r,n,o));""===i&&(i=(0,l.it)(function(e,t){return(0,l.H)(e)||(0,l.L)(e)?(0,l.$)(t,Object.keys(e.getFields())):[]}(n,o))),e.reportError(new l.dt('Cannot query field "'.concat(o,'" on type "').concat(n.name,'".')+i,{nodes:t}))}}}},function(e){let t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){let r=n.name.value;return t[r]?e.reportError(new l.dt('There can be only one fragment named "'.concat(r,'".'),{nodes:[t[r],n.name]})):t[r]=n.name,!1}}},function(e){return{FragmentSpread(t){let n=t.name.value;e.getFragment(n)||e.reportError(new l.dt('Unknown fragment "'.concat(n,'".'),{nodes:t.name}))}}},function(e){let t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){let r=Object.create(null);for(let n of t)for(let t of e.getRecursivelyReferencedFragments(n))r[t.name.value]=!0;for(let t of n){let n=t.name.value;!0!==r[n]&&e.reportError(new l.dt('Fragment "'.concat(n,'" is never used.'),{nodes:t}))}}}}},function(e){return{InlineFragment(t){let n=e.getType(),r=e.getParentType();if((0,l.N)(n)&&(0,l.N)(r)&&!f(e.getSchema(),n,r)){let o=(0,l.ot)(r),i=(0,l.ot)(n);e.reportError(new l.dt('Fragment cannot be spread here as objects of type "'.concat(o,'" can never be of type "').concat(i,'".'),{nodes:t}))}},FragmentSpread(t){let n=t.name.value,r=function(e,t){let n=e.getFragment(t);if(n){let t=E(e.getSchema(),n.typeCondition);if((0,l.N)(t))return t}}(e,n),o=e.getParentType();if(r&&o&&!f(e.getSchema(),r,o)){let i=(0,l.ot)(o),a=(0,l.ot)(r);e.reportError(new l.dt('Fragment "'.concat(n,'" cannot be spread here as objects of type "').concat(i,'" can never be of type "').concat(a,'".'),{nodes:t}))}}}},function(e){let t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(o(e),!1)};function o(i){if(t[i.name.value])return;let a=i.name.value;t[a]=!0;let s=e.getFragmentSpreads(i.selectionSet);if(0!==s.length){r[a]=n.length;for(let t of s){let i=t.name.value,a=r[i];if(n.push(t),void 0===a){let t=e.getFragment(i);t&&o(t)}else{let t=n.slice(a),r=t.slice(0,-1).map(e=>'"'+e.name.value+'"').join(", ");e.reportError(new l.dt('Cannot spread fragment "'.concat(i,'" within itself')+(""===r?".":" via ".concat(r,".")),{nodes:t}))}n.pop()}r[a]=void 0}}},function(e){return{OperationDefinition(t){var n;let r=H(null!==(n=t.variableDefinitions)&&void 0!==n?n:[],e=>e.variable.name.value);for(let[o,i]of r)i.length>1&&e.reportError(new l.dt('There can be only one variable named "$'.concat(o,'".'),{nodes:i.map(e=>e.variable.name)}))}}},function(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){let r=e.getRecursiveVariableUsages(n);for(let{node:o}of r){let r=o.name.value;!0!==t[r]&&e.reportError(new l.dt(n.name?'Variable "$'.concat(r,'" is not defined by operation "').concat(n.name.value,'".'):'Variable "$'.concat(r,'" is not defined.'),{nodes:[o,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}},function(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){let r=Object.create(null),o=e.getRecursiveVariableUsages(n);for(let{node:e}of o)r[e.name.value]=!0;for(let i of t){let t=i.variable.name.value;!0!==r[t]&&e.reportError(new l.dt(n.name?'Variable "$'.concat(t,'" is never used in operation "').concat(n.name.value,'".'):'Variable "$'.concat(t,'" is never used.'),{nodes:i}))}}},VariableDefinition(e){t.push(e)}}},N,W,function(e){return(0,i.A)((0,i.A)({},T(e)),{},{Argument(t){let n=e.getArgument(),r=e.getFieldDef(),o=e.getParentType();if(!n&&r&&o){let n=t.name.value,i=(0,l.$)(n,r.args.map(e=>e.name));e.reportError(new l.dt('Unknown argument "'.concat(n,'" on field "').concat(o.name,".").concat(r.name,'".')+(0,l.it)(i),{nodes:t}))}}})},G,function(e){let t={};return{OperationDefinition:{enter(){t={}}},VariableDefinition(e){t[e.variable.name.value]=e},ListValue(t){if(!(0,l.z)((0,l.j)(e.getParentInputType())))return z(e,t),!1},ObjectValue(n){let r=(0,l.A)(e.getInputType());if(!(0,l.F)(r))return z(e,n),!1;let o=(0,l.rt)(n.fields,e=>e.name.value);for(let t of Object.values(r.getFields()))if(!o[t.name]&&(0,l.G)(t)){let o=(0,l.ot)(t.type);e.reportError(new l.dt('Field "'.concat(r.name,".").concat(t.name,'" of required type "').concat(o,'" was not provided.'),{nodes:n}))}r.isOneOf&&function(e,t,n,r,o){var i;let a=Object.keys(r);if(1!==a.length)return void e.reportError(new l.dt('OneOf Input Object "'.concat(n.name,'" must specify exactly one key.'),{nodes:[t]}));let s=null===(i=r[a[0]])||void 0===i?void 0:i.value,c=!s||s.kind===l.st.NULL,u=(null===s||void 0===s?void 0:s.kind)===l.st.VARIABLE;if(c)return void e.reportError(new l.dt('Field "'.concat(n.name,".").concat(a[0],'" must be non-null.'),{nodes:[t]}));if(u){let r=s.name.value;o[r].type.kind!==l.st.NON_NULL_TYPE&&e.reportError(new l.dt('Variable "'.concat(r,'" must be non-nullable to be used for OneOf Input Object "').concat(n.name,'".'),{nodes:[t]}))}}(e,n,r,o,t)},ObjectField(t){let n=(0,l.A)(e.getParentInputType());if(!e.getInputType()&&(0,l.F)(n)){let r=(0,l.$)(t.name.value,Object.keys(n.getFields()));e.reportError(new l.dt('Field "'.concat(t.name.value,'" is not defined by type "').concat(n.name,'".')+(0,l.it)(r),{nodes:t}))}},NullValue(t){let n=e.getInputType();(0,l.B)(n)&&e.reportError(new l.dt('Expected value of type "'.concat((0,l.ot)(n),'", found ').concat((0,l.Y)(t),"."),{nodes:t}))},EnumValue:t=>z(e,t),IntValue:t=>z(e,t),FloatValue:t=>z(e,t),StringValue:t=>z(e,t),BooleanValue:t=>z(e,t)}},function(e){return(0,i.A)((0,i.A)({},U(e)),{},{Field:{leave(t){var n;let r=e.getFieldDef();if(!r)return!1;let o=new Set(null===(n=t.arguments)||void 0===n?void 0:n.map(e=>e.name.value));for(let i of r.args)if(!o.has(i.name)&&(0,l.W)(i)){let n=(0,l.ot)(i.type);e.reportError(new l.dt('Field "'.concat(r.name,'" argument "').concat(i.name,'" of type "').concat(n,'" is required, but it was not provided.'),{nodes:t}))}}}})},function(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){let r=e.getRecursiveVariableUsages(n);for(let{node:o,type:i,defaultValue:a,parentType:s}of r){let n=o.name.value,r=t[n];if(r&&i){let t=e.getSchema(),c=E(t,r.type);if(c&&!Q(t,c,r.defaultValue,i,a)){let t=(0,l.ot)(c),a=(0,l.ot)(i);e.reportError(new l.dt('Variable "$'.concat(n,'" of type "').concat(t,'" used in position expecting type "').concat(a,'".'),{nodes:[r,o]}))}(0,l.F)(s)&&s.isOneOf&&(0,l.V)(c)&&e.reportError(new l.dt('Variable "$'.concat(n,'" is of type "').concat(c,'" but must be non-nullable to be used for OneOf Input Object "').concat(s,'".'),{nodes:[r,o]}))}}}},VariableDefinition(e){t[e.variable.name.value]=e}}},function(e){let t=new k,n=new M,r=new Map;return{SelectionSet(o){let i=function(e,t,n,r,o,i){let a=[],[l,s]=w(e,t,o,i);if(function(e,t,n,r,o,i){for(let[a,l]of Object.entries(i))if(l.length>1)for(let i=0;i<l.length;i++)for(let s=i+1;s<l.length;s++){let c=b(e,n,r,o,!1,a,l[i],l[s]);c&&t.push(c)}}(e,a,t,n,r,l),0!==s.length)for(let c=0;c<s.length;c++){S(e,a,t,n,r,!1,l,s[c]);for(let o=c+1;o<s.length;o++)y(e,a,t,n,r,!1,s[c],s[o])}return a}(e,r,t,n,e.getParentType(),o);for(let[[t,n],r,a]of i){let o=O(n);e.reportError(new l.dt('Fields "'.concat(t,'" conflict because ').concat(o,". Use different aliases on the fields to fetch both if this was intentional."),{nodes:r.concat(a)}))}}}},q,...K]);const Z=Object.freeze([function(e){var t,n,r;let o=e.getSchema(),i=null!==(t=null!==(n=null!==(r=null===o||void 0===o?void 0:o.astNode)&&void 0!==r?r:null===o||void 0===o?void 0:o.getQueryType())&&void 0!==n?n:null===o||void 0===o?void 0:o.getMutationType())&&void 0!==t?t:null===o||void 0===o?void 0:o.getSubscriptionType(),a=0;return{SchemaDefinition(t){i?e.reportError(new l.dt("Cannot define a new schema within a schema extension.",{nodes:t})):(a>0&&e.reportError(new l.dt("Must provide only one schema definition.",{nodes:t})),++a)}}},function(e){let t=e.getSchema(),n=Object.create(null),r=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:o,SchemaExtension:o};function o(t){var o;let i=null!==(o=t.operationTypes)&&void 0!==o?o:[];for(let a of i){let t=a.operation,o=n[t];r[t]?e.reportError(new l.dt("Type for ".concat(t," already defined in the schema. It cannot be redefined."),{nodes:a})):o?e.reportError(new l.dt("There can be only one ".concat(t," type in schema."),{nodes:[o,a]})):n[t]=a}return!1}},function(e){let t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(r){let o=r.name.value;if(null==n||!n.getType(o))return t[o]?e.reportError(new l.dt('There can be only one type named "'.concat(o,'".'),{nodes:[t[o],r.name]})):t[o]=r.name,!1;e.reportError(new l.dt('Type "'.concat(o,'" already exists in the schema. It cannot also be defined in this type definition.'),{nodes:r.name}))}},function(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:o,EnumTypeExtension:o};function o(t){var o;let i=t.name.value;r[i]||(r[i]=Object.create(null));let a=null!==(o=t.values)&&void 0!==o?o:[],s=r[i];for(let r of a){let t=r.name.value,o=n[i];(0,l.P)(o)&&o.getValue(t)?e.reportError(new l.dt('Enum value "'.concat(i,".").concat(t,'" already exists in the schema. It cannot also be defined in this type extension.'),{nodes:r.name})):s[t]?e.reportError(new l.dt('Enum value "'.concat(i,".").concat(t,'" can only be defined once.'),{nodes:[s[t],r.name]})):s[t]=r.name}return!1}},function(e){let t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:o,InputObjectTypeExtension:o,InterfaceTypeDefinition:o,InterfaceTypeExtension:o,ObjectTypeDefinition:o,ObjectTypeExtension:o};function o(t){var o;let i=t.name.value;r[i]||(r[i]=Object.create(null));let a=null!==(o=t.fields)&&void 0!==o?o:[],s=r[i];for(let r of a){let t=r.name.value;$(n[i],t)?e.reportError(new l.dt('Field "'.concat(i,".").concat(t,'" already exists in the schema. It cannot also be defined in this type extension.'),{nodes:r.name})):s[t]?e.reportError(new l.dt('Field "'.concat(i,".").concat(t,'" can only be defined once.'),{nodes:[s[t],r.name]})):s[t]=r.name}return!1}},function(e){return{DirectiveDefinition(e){var t;let r=null!==(t=e.arguments)&&void 0!==t?t:[];return n("@".concat(e.name.value),r)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t;let r=e.name.value,o=null!==(t=e.fields)&&void 0!==t?t:[];for(let a of o){var i;let e=a.name.value,t=null!==(i=a.arguments)&&void 0!==i?i:[];n("".concat(r,".").concat(e),t)}return!1}function n(t,n){let r=H(n,e=>e.name.value);for(let[o,i]of r)i.length>1&&e.reportError(new l.dt('Argument "'.concat(t,"(").concat(o,':)" can only be defined once.'),{nodes:i.map(e=>e.name)}));return!1}},function(e){let t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(r){let o=r.name.value;if(null==n||!n.getDirective(o))return t[o]?e.reportError(new l.dt('There can be only one directive named "@'.concat(o,'".'),{nodes:[t[o],r.name]})):t[o]=r.name,!1;e.reportError(new l.dt('Directive "@'.concat(o,'" already exists in the schema. It cannot be redefined.'),{nodes:r.name}))}}},I,N,W,function(e){let t=e.getSchema(),n=Object.create(null);for(let o of e.getDocument().definitions)m(o)&&(n[o.name.value]=o);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(r){let o,a=r.name.value,s=n[a],c=null===t||void 0===t?void 0:t.getType(a);if(s?o=R[s.kind]:c&&(o=function(e){if((0,l.K)(e))return l.st.SCALAR_TYPE_EXTENSION;if((0,l.H)(e))return l.st.OBJECT_TYPE_EXTENSION;if((0,l.L)(e))return l.st.INTERFACE_TYPE_EXTENSION;if((0,l.J)(e))return l.st.UNION_TYPE_EXTENSION;if((0,l.P)(e))return l.st.ENUM_TYPE_EXTENSION;if((0,l.F)(e))return l.st.INPUT_OBJECT_TYPE_EXTENSION;(0,l.ft)(!1,"Unexpected type: "+(0,l.ot)(e))}(c)),o){if(o!==r.kind){let t=function(e){switch(e){case l.st.SCALAR_TYPE_EXTENSION:return"scalar";case l.st.OBJECT_TYPE_EXTENSION:return"object";case l.st.INTERFACE_TYPE_EXTENSION:return"interface";case l.st.UNION_TYPE_EXTENSION:return"union";case l.st.ENUM_TYPE_EXTENSION:return"enum";case l.st.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:(0,l.ft)(!1,"Unexpected kind: "+(0,l.ot)(e))}}(r.kind);e.reportError(new l.dt("Cannot extend non-".concat(t,' type "').concat(a,'".'),{nodes:s?[s,r]:r}))}}else{let o=(0,l.$)(a,Object.keys((0,i.A)((0,i.A)({},n),null===t||void 0===t?void 0:t.getTypeMap())));e.reportError(new l.dt('Cannot extend type "'.concat(a,'" because it is not defined.')+(0,l.it)(o),{nodes:r.name}))}}},T,G,q,U]);var ee=class{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(let e of this.getDocument().definitions)e.kind===l.st.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];let n,r=[e];for(;n=r.pop();)for(let e of n.selections)e.kind===l.st.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&r.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];let n,r=Object.create(null),o=[e.selectionSet];for(;n=o.pop();)for(let e of this.getFragmentSpreads(n)){let n=e.name.value;if(!0!==r[n]){r[n]=!0;let e=this.getFragment(n);e&&(t.push(e),o.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}},te=class extends ee{constructor(e,t,n){super(e,n),this._schema=t}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}};function ne(e){let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,r=[],o=new te(e,t,e=>{r.push(e)});return(0,l.Z)(e,(0,l.Q)(n.map(e=>e(o)))),r}(e);if(0!==t.length)throw Error(t.map(e=>e.message).join("\n\n"))}function re(e,t,n){var r,o;let a,s=[],c=Object.create(null),u=[],d=[];for(let i of t.definitions)if(i.kind===l.st.SCHEMA_DEFINITION)a=i;else if(i.kind===l.st.SCHEMA_EXTENSION)d.push(i);else if(m(i))s.push(i);else if(v(i)){let e=i.name.value,t=c[e];c[e]=t?t.concat([i]):[i]}else i.kind===l.st.DIRECTIVE_DEFINITION&&u.push(i);if(0===Object.keys(c).length&&0===s.length&&0===u.length&&0===d.length&&null==a)return e;let f=Object.create(null);for(let i of e.types)f[i.name]=I(i);for(let i of s){var E;let e=i.name.value;f[e]=null!==(E=ae[e])&&void 0!==E?E:C(i)}let p=(0,i.A)((0,i.A)({query:e.query&&N(e.query),mutation:e.mutation&&N(e.mutation),subscription:e.subscription&&N(e.subscription)},a&&h([a])),h(d));return(0,i.A)((0,i.A)({description:null===(r=a)||void 0===r||null===(r=r.description)||void 0===r?void 0:r.value},p),{},{types:Object.values(f),directives:[...e.directives.map(function(e){let t=e.toConfig();return new l.d((0,i.A)((0,i.A)({},t),{},{args:(0,l.tt)(t.args,_)}))}),...u.map(function(e){var t;return new l.d({name:e.name.value,description:null===(t=e.description)||void 0===t?void 0:t.value,locations:e.locations.map(e=>{let{value:t}=e;return t}),isRepeatable:e.repeatable,args:A(e.arguments),astNode:e})})],extensions:Object.create(null),astNode:null!==a&&void 0!==a?a:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(d),assumeValid:null!==(o=null===n||void 0===n?void 0:n.assumeValid)&&void 0!==o&&o});function T(e){return(0,l.z)(e)?new l.S(T(e.ofType)):(0,l.B)(e)?new l.C(T(e.ofType)):N(e)}function N(e){return f[e.name]}function I(e){return(0,l.l)(e)||(0,l._)(e)?e:(0,l.K)(e)?function(e){var t;let n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[],o=n.specifiedByURL;for(let i of r){var a;o=null!==(a=se(i))&&void 0!==a?a:o}return new l.T((0,i.A)((0,i.A)({},n),{},{specifiedByURL:o,extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):(0,l.H)(e)?function(e){var t;let n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new l.w((0,i.A)((0,i.A)({},n),{},{interfaces:()=>[...e.getInterfaces().map(N),...D(r)],fields:()=>(0,i.A)((0,i.A)({},(0,l.tt)(n.fields,g)),y(r)),extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):(0,l.L)(e)?function(e){var t;let n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new l.x((0,i.A)((0,i.A)({},n),{},{interfaces:()=>[...e.getInterfaces().map(N),...D(r)],fields:()=>(0,i.A)((0,i.A)({},(0,l.tt)(n.fields,g)),y(r)),extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):(0,l.J)(e)?function(e){var t;let n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new l.E((0,i.A)((0,i.A)({},n),{},{types:()=>[...e.getTypes().map(N),...w(r)],extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):(0,l.P)(e)?function(e){var t;let n=e.toConfig(),r=null!==(t=c[e.name])&&void 0!==t?t:[];return new l.y((0,i.A)((0,i.A)({},n),{},{values:(0,i.A)((0,i.A)({},n.values),F(r)),extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):(0,l.F)(e)?function(e){var t;let n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new l.b((0,i.A)((0,i.A)({},n),{},{fields:()=>(0,i.A)((0,i.A)({},(0,l.tt)(n.fields,e=>(0,i.A)((0,i.A)({},e),{},{type:T(e.type)}))),b(r)),extensionASTNodes:n.extensionASTNodes.concat(r)}))}(e):void(0,l.ft)(!1,"Unexpected type: "+(0,l.ot)(e))}function g(e){return(0,i.A)((0,i.A)({},e),{},{type:T(e.type),args:e.args&&(0,l.tt)(e.args,_)})}function _(e){return(0,i.A)((0,i.A)({},e),{},{type:T(e.type)})}function h(e){let t={};for(let r of e){var n;let e=null!==(n=r.operationTypes)&&void 0!==n?n:[];for(let n of e)t[n.operation]=O(n.type)}return t}function O(e){var t;let n=e.name.value,r=null!==(t=ae[n])&&void 0!==t?t:f[n];if(void 0===r)throw Error('Unknown type: "'.concat(n,'".'));return r}function S(e){return e.kind===l.st.LIST_TYPE?new l.S(S(e.type)):e.kind===l.st.NON_NULL_TYPE?new l.C(S(e.type)):O(e)}function y(e){let t=Object.create(null);for(let o of e){var n;let e=null!==(n=o.fields)&&void 0!==n?n:[];for(let n of e){var r;t[n.name.value]={type:S(n.type),description:null===(r=n.description)||void 0===r?void 0:r.value,args:A(n.arguments),deprecationReason:le(n),astNode:n}}}return t}function A(e){let t=null!==e&&void 0!==e?e:[],n=Object.create(null);for(let o of t){var r;let e=S(o.type);n[o.name.value]={type:e,description:null===(r=o.description)||void 0===r?void 0:r.value,defaultValue:(0,l.n)(o.defaultValue,e),deprecationReason:le(o),astNode:o}}return n}function b(e){let t=Object.create(null);for(let o of e){var n;let e=null!==(n=o.fields)&&void 0!==n?n:[];for(let n of e){var r;let e=S(n.type);t[n.name.value]={type:e,description:null===(r=n.description)||void 0===r?void 0:r.value,defaultValue:(0,l.n)(n.defaultValue,e),deprecationReason:le(n),astNode:n}}}return t}function F(e){let t=Object.create(null);for(let o of e){var n;let e=null!==(n=o.values)&&void 0!==n?n:[];for(let n of e){var r;t[n.name.value]={description:null===(r=n.description)||void 0===r?void 0:r.value,deprecationReason:le(n),astNode:n}}}return t}function D(e){return e.flatMap(e=>{var t,n;return null!==(t=null===(n=e.interfaces)||void 0===n?void 0:n.map(O))&&void 0!==t?t:[]})}function w(e){return e.flatMap(e=>{var t,n;return null!==(t=null===(n=e.types)||void 0===n?void 0:n.map(O))&&void 0!==t?t:[]})}function C(e){var t,n;let r=e.name.value,o=null!==(t=c[r])&&void 0!==t?t:[];switch(e.kind){case l.st.OBJECT_TYPE_DEFINITION:{var i;let t=[e,...o];return new l.w({name:r,description:null===(i=e.description)||void 0===i?void 0:i.value,interfaces:()=>D(t),fields:()=>y(t),astNode:e,extensionASTNodes:o})}case l.st.INTERFACE_TYPE_DEFINITION:{var a;let t=[e,...o];return new l.x({name:r,description:null===(a=e.description)||void 0===a?void 0:a.value,interfaces:()=>D(t),fields:()=>y(t),astNode:e,extensionASTNodes:o})}case l.st.ENUM_TYPE_DEFINITION:{var s;let t=[e,...o];return new l.y({name:r,description:null===(s=e.description)||void 0===s?void 0:s.value,values:F(t),astNode:e,extensionASTNodes:o})}case l.st.UNION_TYPE_DEFINITION:{var u;let t=[e,...o];return new l.E({name:r,description:null===(u=e.description)||void 0===u?void 0:u.value,types:()=>w(t),astNode:e,extensionASTNodes:o})}case l.st.SCALAR_TYPE_DEFINITION:return new l.T({name:r,description:null===(n=e.description)||void 0===n?void 0:n.value,specifiedByURL:se(e),astNode:e,extensionASTNodes:o});case l.st.INPUT_OBJECT_TYPE_DEFINITION:{var d;let t=[e,...o];return new l.b({name:r,description:null===(d=e.description)||void 0===d?void 0:d.value,fields:()=>b(t),astNode:e,extensionASTNodes:o,isOneOf:ce(e)})}}}}Symbol.toStringTag;var oe,ie,ae=(0,l.rt)([...l.v,...l.c],e=>e.name);function le(e){var t;return null===(t=Y(l.u,e))||void 0===t?void 0:t.reason}function se(e){var t;return null===(t=Y(l.h,e))||void 0===t?void 0:t.url}function ce(e){return!!Y(l.p,e)}(0,c.t)(),function(e,t){let n=e.match;e.match=e=>{let r=!1;return n&&(r=n(e)),r&&t.every(t=>t.match&&!t.match(e))}}({style:"def",match:e=>"Name"===e.kind,update(e,t){e.name=t.value}},[function(e){return{style:"keyword",match:t=>"Name"===t.kind&&t.value===e}}("on")]),l.st.SCHEMA_EXTENSION,l.st.SCALAR_TYPE_EXTENSION,l.st.OBJECT_TYPE_EXTENSION,l.st.INTERFACE_TYPE_EXTENSION,l.st.UNION_TYPE_EXTENSION,l.st.ENUM_TYPE_EXTENSION,l.st.INPUT_OBJECT_TYPE_EXTENSION,function(e){e.TYPE_SYSTEM="TYPE_SYSTEM",e.EXECUTABLE="EXECUTABLE",e.UNKNOWN="UNKNOWN"}(oe||(oe={})),l.st.SCHEMA_DEFINITION,l.st.OPERATION_TYPE_DEFINITION,l.st.SCALAR_TYPE_DEFINITION,l.st.OBJECT_TYPE_DEFINITION,l.st.INTERFACE_TYPE_DEFINITION,l.st.UNION_TYPE_DEFINITION,l.st.ENUM_TYPE_DEFINITION,l.st.INPUT_OBJECT_TYPE_DEFINITION,l.st.DIRECTIVE_DEFINITION,l.st.SCHEMA_EXTENSION,l.st.SCALAR_TYPE_EXTENSION,l.st.OBJECT_TYPE_EXTENSION,l.st.INTERFACE_TYPE_EXTENSION,l.st.UNION_TYPE_EXTENSION,l.st.ENUM_TYPE_EXTENSION,l.st.INPUT_OBJECT_TYPE_EXTENSION,Object.assign(Object.assign({},l.st),{ALIASED_FIELD:"AliasedField",ARGUMENTS:"Arguments",SHORT_QUERY:"ShortQuery",QUERY:"Query",MUTATION:"Mutation",SUBSCRIPTION:"Subscription",TYPE_CONDITION:"TypeCondition",INVALID:"Invalid",COMMENT:"Comment",SCHEMA_DEF:"SchemaDef",SCALAR_DEF:"ScalarDef",OBJECT_TYPE_DEF:"ObjectTypeDef",OBJECT_VALUE:"ObjectValue",LIST_VALUE:"ListValue",INTERFACE_DEF:"InterfaceDef",UNION_DEF:"UnionDef",ENUM_DEF:"EnumDef",ENUM_VALUE:"EnumValue",FIELD_DEF:"FieldDef",INPUT_DEF:"InputDef",INPUT_VALUE_DEF:"InputValueDef",ARGUMENTS_DEF:"ArgumentsDef",EXTEND_DEF:"ExtendDef",EXTENSION_DEFINITION:"ExtensionDefinition",DIRECTIVE_DEF:"DirectiveDef",IMPLEMENTS:"Implements",VARIABLE_DEFINITIONS:"VariableDefinitions",TYPE:"Type",VARIABLE:"Variable"}),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(ie||(ie={})),(0,c.t)(),ie.Function,ie.Function,ie.Function,ie.Function,ie.Function,ie.Function,ie.Function,ie.Function,ie.Function,ie.Function,ie.Constructor,(0,a.t)((e,t)=>{function n(e,t){if(null!=e)return e;var n=Error(void 0===t?"Got unexpected "+e:t);throw n.framesToPop=1,n}t.exports=n,t.exports.default=n,Object.defineProperty(t.exports,"__esModule",{value:!0})})();const ue=e=>"getModeId"in e?e.getModeId():e.getLanguageId(),de=e=>{let{schema:t,documentAST:n,introspectionJSON:r,introspectionJSONString:a,documentString:s}=e,c=(0,o.A)(e,u);if(t)return(0,i.A)((0,i.A)({},c),{},{documentString:(0,l.t)(t)});if(a)return(0,i.A)((0,i.A)({},c),{},{introspectionJSONString:a});if(s)return(0,i.A)((0,i.A)({},c),{},{documentString:s});if(r)return(0,i.A)((0,i.A)({},c),{},{introspectionJSONString:JSON.stringify(r)});if(n){let e=function(e,t){null!=e&&e.kind===l.st.DOCUMENT||(0,l.mt)(!1,"Must provide valid Document AST."),!0!==(null===t||void 0===t?void 0:t.assumeValid)&&!0!==(null===t||void 0===t?void 0:t.assumeValidSDL)&&ne(e);let n=re({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,t);if(null==n.astNode)for(let o of n.types)switch(o.name){case"Query":n.query=o;break;case"Mutation":n.mutation=o;break;case"Subscription":n.subscription=o}let r=[...n.directives,...l.g.filter(e=>n.directives.every(t=>t.name!==e.name))];return new l.r((0,i.A)((0,i.A)({},n),{},{directives:r}))}(n,c.buildSchemaOptions);return(0,i.A)((0,i.A)({},c),{},{documentString:(0,l.t)(e)})}throw Error("no schema supplied")};var fe=class{constructor(e){(0,r.A)(this,"_defaults",void 0),(0,r.A)(this,"_idleCheckInterval",void 0),(0,r.A)(this,"_lastUsedTime",0),(0,r.A)(this,"_configChangeListener",void 0),(0,r.A)(this,"_worker",null),(0,r.A)(this,"_client",null),this._defaults=e,this._idleCheckInterval=window.setInterval(()=>this._checkIfIdle(),3e4),this._configChangeListener=this._defaults.onDidChange(()=>{this._stopWorker()})}_stopWorker(){this._worker&&(this._worker=(this._worker.dispose(),null)),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}async _getClient(){if(this._lastUsedTime=Date.now(),!this._client&&!this._worker)try{var e;this._worker=s.u.createWebWorker({moduleId:"monaco-graphql/esm/GraphQLWorker.js",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,formattingOptions:this._defaults.formattingOptions,languageConfig:{schemas:null===(e=this._defaults.schemas)||void 0===e?void 0:e.map(de),externalFragmentDefinitions:this._defaults.externalFragmentDefinitions,fillLeafsOnComplete:this._defaults.completionSettings.__experimental__fillLeafsOnComplete}}}),this._client=this._worker.getProxy()}catch(t){console.error("error loading worker",t)}return this._client}async getLanguageServiceWorker(){let e=await this._getClient();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return await this._worker.withSyncedResources(n),e}};(0,s.n)();var Ee=class{constructor(e,t){(0,r.A)(this,"defaults",void 0),(0,r.A)(this,"_worker",void 0),(0,r.A)(this,"_disposables",[]),(0,r.A)(this,"_listener",Object.create(null)),this.defaults=e,this._worker=t,this._worker=t;let n,o=t=>{var r;let o=ue(t);if(o!==this.defaults.languageId)return;let i=t.uri.toString(),a=null===(r=e.diagnosticSettings)||void 0===r||null===(r=r.validateVariablesJSON)||void 0===r?void 0:r[i];n=setTimeout(()=>{this._doValidate(t.uri,o,a)},400),this._listener[i]=t.onDidChangeContent(()=>{clearTimeout(n),n=setTimeout(()=>{this._doValidate(t.uri,o,a)},400)})},i=e=>{s.u.setModelMarkers(e,this.defaults.languageId,[]);let t=e.uri.toString(),n=this._listener[t];n&&(n.dispose(),delete this._listener[t])};this._disposables.push(s.u.onDidCreateModel(o),{dispose(){clearTimeout(n)}},s.u.onWillDisposeModel(e=>{i(e)}),s.u.onDidChangeModelLanguage(e=>{i(e.model),o(e.model)}),{dispose:()=>{for(let e in this._listener)this._listener[e].dispose()}},e.onDidChange(()=>{for(let e of s.u.getModels())ue(e)===this.defaults.languageId&&(i(e),o(e))}));for(let r of s.u.getModels())ue(r)===this.defaults.languageId&&o(r)}dispose(){for(let e of this._disposables)null===e||void 0===e||e.dispose();this._disposables=[]}async _doValidate(e,t,r){let o=await this._worker(e);if(!o)return;let a=await o.doValidation(e.toString());if(s.u.setModelMarkers(s.u.getModel(e),t,a),r){var l,c;if(await n.e(2659).then(n.bind(n,2659)),r.length<1)throw Error("no variables URI strings provided to validate");let t=await o.doGetVariablesJSONSchema(e.toString());if(!t)return;let a=s.l.file(r[0].replace(".json","-schema.json")).toString(),u={uri:a,schema:t,fileMatch:r},d=(null===(l=s.d.json.jsonDefaults.diagnosticsOptions.schemas)||void 0===l?void 0:l.filter(e=>e.uri!==a))||[];s.d.json.jsonDefaults.setDiagnosticsOptions((0,i.A)((0,i.A)({schemaValidation:"error",validate:!0},null===(c=this.defaults)||void 0===c||null===(c=c.diagnosticSettings)||void 0===c?void 0:c.jsonDiagnosticSettings),{},{schemas:[...d,u],enableSchemaRequest:!1}))}}},pe=s.d.CompletionItemKind,me={[ie.Text]:pe.Text,[ie.Method]:pe.Method,[ie.Function]:pe.Function,[ie.Constructor]:pe.Constructor,[ie.Field]:pe.Field,[ie.Variable]:pe.Variable,[ie.Class]:pe.Class,[ie.Interface]:pe.Interface,[ie.Module]:pe.Module,[ie.Property]:pe.Property,[ie.Unit]:pe.Unit,[ie.Value]:pe.Value,[ie.Enum]:pe.Enum,[ie.Keyword]:pe.Keyword,[ie.Snippet]:pe.Snippet,[ie.Color]:pe.Color,[ie.File]:pe.File,[ie.Reference]:pe.Reference,[ie.Folder]:pe.Folder,[ie.EnumMember]:pe.EnumMember,[ie.Constant]:pe.Constant,[ie.Struct]:pe.Struct,[ie.Event]:pe.Event,[ie.Operator]:pe.Operator,[ie.TypeParameter]:pe.TypeParameter};function ve(e){return e in me?me[e]:pe.Text}function Te(e){var t;return{range:e.range,kind:ve(e.kind),label:e.label,insertText:null!==(t=e.insertText)&&void 0!==t?t:e.label,insertTextRules:e.insertText?s.d.CompletionItemInsertTextRule.InsertAsSnippet:void 0,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,command:e.command}}var Ne=class{constructor(e){(0,r.A)(this,"_worker",void 0),this._worker=e,this._worker=e}get triggerCharacters(){return[":","$"," ","(","@"]}async provideCompletionItems(e,t,n,r){try{let n=e.uri;return{incomplete:!0,suggestions:(await(await this._worker(e.uri)).doComplete(n.toString(),t)).map(Te)}}catch(e){return console.error("Error fetching completion items",e),{suggestions:[]}}}},Ie=class{constructor(e){(0,r.A)(this,"_worker",void 0),this._worker=e,this._worker=e}async provideDocumentFormattingEdits(e,t,n){let r=await(await this._worker(e.uri)).doFormat(e.uri.toString());return r?[{range:e.getFullModelRange(),text:r}]:[]}},ge=class{constructor(e){(0,r.A)(this,"_worker",void 0),this._worker=e}async provideHover(e,t,n){let r=e.uri,o=await(await this._worker(e.uri)).doHover(r.toString(),t);return o?{range:o.range,contents:[{value:o.content}]}:{contents:[]}}dispose(){}};function _e(e){let t=[],n=[],r=new fe(e);t.push(r);let o=function(){try{return r.getLanguageServiceWorker(...arguments)}catch(e){throw Error("Error fetching graphql language service worker")}};function i(){let{modeConfiguration:t,languageId:r}=e;t.documentFormattingEdits&&n.push(s.d.registerDocumentFormattingEditProvider(r,new Ie(o)))}function a(t){let{modeConfiguration:r,languageId:a}=e;Oe(n),r.completionItems&&n.push(s.d.registerCompletionItemProvider(a,new Ne(o))),r.diagnostics&&n.push(new Ee(t,o)),r.hovers&&n.push(s.d.registerHoverProvider(a,new ge(o))),i()}let{modeConfiguration:l,formattingOptions:c,diagnosticSettings:u,externalFragmentDefinitions:d,schemas:f}=e;return a(e),e.onDidChange(e=>{e.modeConfiguration!==l&&(l=e.modeConfiguration,a(e)),e.formattingOptions!==c&&(c=e.formattingOptions,i()),e.externalFragmentDefinitions!==d&&(d=e.externalFragmentDefinitions,a(e)),e.diagnosticSettings!==u&&(u=e.diagnosticSettings,a(e)),e.schemas!==f&&(f=e.schemas,a(e))}),t.push(he(n)),he(t)}function he(e){return{dispose:()=>Oe(e)}}function Oe(e){for(;e.length;)e.pop().dispose()}}}]);
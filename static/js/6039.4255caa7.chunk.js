"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[6039],{6039:(e,i,t)=>{t.r(i),t.d(i,{AbstractResourceEditorInput:()=>r.b,AbstractTextResourceEditorInput:()=>r.h,ActivityService:()=>f.s,ActivitybarPart:()=>a.h,ConfirmResult:()=>l.ea,DomScrollableElement:()=>n.Fp,EditorInput:()=>d.jt,EditorInputCapabilities:()=>d.zt,GroupOrientation:()=>d.J,PanelPart:()=>f.l,Parts:()=>s.V,Position:()=>s.H,RegisteredEditorPriority:()=>r.t,SidebarPart:()=>f.c,SplitView:()=>n.Yt,ViewContainerLocation:()=>l.gf,ViewPaneContainer:()=>l.A,attachPart:()=>w,default:()=>b,getSideBarPosition:()=>f.t,isEditorPartVisible:()=>h,isPartVisibile:()=>f.n,onDidChangeSideBarPosition:()=>f.r,onPartVisibilityChange:()=>R,renderPart:()=>p});var o=t(9379),n=t(1359),r=t(6095),l=(t(3373),t(7852),t(2182),t(8638),t(3227)),a=t(8871),s=t(1439),d=t(1070),u=t(717),c=(t(1532),t(6361),t(5537),t(981),t(8074),t(8610),t(2527),t(2278),t(9796),t(3087),t(6300),t(9494)),f=t(3767);function v(e,i,t){let o=document.createElement("status"===i?"footer":"div");return o.classList.add("part","monaco-workbench-part",...t),o.id=e,o.setAttribute("role",i),"status"===i&&o.setAttribute("aria-live","off"),o}function g(e){var i;let t=null===(i=e.getContainer())||void 0===i?void 0:i.parentNode;null!=t&&e.layout(Math.max(e.minimumWidth,Math.min(e.maximumWidth,t.offsetWidth)),Math.max(e.minimumHeight,Math.min(e.maximumHeight,t.offsetHeight)),t.offsetTop,t.offsetLeft)}function p(e,i){function t(){g(i)}e.oncontextmenu=()=>!1,i.onDidVisibilityChange(e=>{e&&t()}),t()}function P(e){return n.n.get(n.Hl).getPart(e)}function w(e,i){let t=P(e);if(null==t)throw Error("Part not found");return function(e,i){i.append(e.getContainer());let t=new ResizeObserver(()=>g(e));return t.observe(i),{dispose:()=>t.disconnect()}}(t,i)}function R(e,i){let t=P(e);if(null==t)throw Error("Part not found");return t.onDidVisibilityChange(i)}function h(){let e=n.n.get(d.W).mainPart.getContainer();return null!=e&&function(e){return!!e.isConnected&&(null==e.checkVisibility?e.offsetHeight>0&&e.offsetWidth>0:e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))}(e)}(0,n.Xb)(),(0,n.AN)(),(0,n.Ww)(),(0,n.cc)(),(0,n.iM)(),(0,n.SO)(),(0,n.r)(),(0,n.i_)(),(0,n.Il)(),(0,n.ps)(),(0,n.Zp)(),(0,n.ox)(),(0,n.Ul)(),(0,n.gb)(),(0,n.Vo)(),(0,n.Lo)(),(0,n.es)(),(0,n.Ma)(),(0,a.pt)(),(0,a.g)(),(0,d.en)(),(0,l.xf)(),(0,l.yb)(),(0,d.Q)(),(0,d.G)(),(0,d.At)(),(0,s.Nt)(),(0,s.W)(),(0,d.L)(),(0,d.z)(),(0,s.kt)(),(0,s.x)(),(0,u.i)(),(0,a.p)(),(0,a.yt)(),(0,l.N)(),(0,l.ta)(),(0,r.a)(),(0,r.x)(),(0,r._)(),(0,d.Mt)(),(0,n.Xt)(),(0,n.zp)();var y=class extends c.t{constructor(e,i){var t;super(i.createInstance(f.u),!1,e,i),t=this,this.restoreGroup=function(){return t.delegate.restoreGroup(...arguments)}}getId(){return"standalone"}updateStyles(){}registerPart(e){return this.delegate.registerPart(e)}bind(e,i){return this.delegate.bind(e,i)}get activePart(){return this.delegate.activePart}};y=(0,n.Jb)([(0,n.Yb)(1,n.rx)],y);var A=e=>e;function b(e,i,t){return null!=t&&(A="boolean"==typeof t?e=>(0,o.A)((0,o.A)({},e),{},{editor:(0,o.A)((0,o.A)({},e.editor),{},{restoreEditors:t})}):t),(0,o.A)((0,o.A)((0,o.A)((0,o.A)({},(0,f.i)(i)),(0,a.vt)({isKeybindingConfigurationVisible:h,shouldUseGlobalPicker:h})),(0,f.o)({shouldUseGlobalKeybindings:h})),{},{[d.W.toString()]:new n.Xp(y,[e],!1),[d.kt.toString()]:new n.Xp(c.n,[e,h],!1)})}(0,s.C)(async e=>{var i,t,o;let r=e.get(s.Ot),a=e.get(l.vb),u=e.get(d.R),c=e.get(n.Io),g=e.get(d.W),P=e.get(d.kt),w=e.get(n.mb),R=e.get(s.Mt),h=e.get(n.Fl),y=e.get(n.ja),b=e.get(n.r_),m=e.get(n.fs),T=e.get(n.Hl);let C=function(){var e,i,t,o,r;let l=null===(e=h.options)||void 0===e?void 0:e.defaultLayout;if((null!=(null===l||void 0===l?void 0:l.editors)&&l.editors.length>0||null!=(null===l||void 0===l||null===(i=l.layout)||void 0===i?void 0:i.editors))&&(null!==(t=l.force)&&void 0!==t&&t||c.isNew(n.Ro.WORKSPACE)))return{layout:null===(o=l.layout)||void 0===o?void 0:o.editors,filesToOpenOrCreate:null===(r=l.editors)||void 0===r?void 0:r.map(e=>({viewColumn:e.viewColumn,fileUri:n.xO.revive(e.uri),openOnlyIfExists:e.openOnlyIfExists,options:e.options}))};let{filesToOpenOrCreate:a,filesToDiff:s,filesToMerge:d}=h;return null!=a||null!=s||null!=d?{filesToOpenOrCreate:a,filesToDiff:s,filesToMerge:d}:void 0}();null!=C&&w.info("Initial editor state",C);let V={layout:{editors:null===C||void 0===C?void 0:C.layout},editor:{restoreEditors:function(e,i){return!(0,n.as)(e.getWorkspace())&&("preserve"===b.getValue("window.restoreWindows")||void 0===i)}(y,C),editorsToOpen:async function(e,i){if(null!=i){let o=(0,n._N)(await(0,d._n)(i.filesToMerge,e,w));if(4===o.length&&(0,d.un)(o[0])&&(0,d.un)(o[1])&&(0,d.un)(o[2])&&(0,d.un)(o[3]))return[{editor:{input1:{resource:o[0].resource},input2:{resource:o[1].resource},base:{resource:o[2].resource},result:{resource:o[3].resource},options:{pinned:!0}}}];let r=(0,n._N)(await(0,d._n)(i.filesToDiff,e,w));if(2===r.length)return[{editor:{original:{resource:r[0].resource},modified:{resource:r[1].resource},options:{pinned:!0}}}];let l=[],a=await(0,d._n)(i.filesToOpenOrCreate,e,w);for(let e=0;e<a.length;e++){var t;let o=a[e];null!=o&&l.push({editor:o,viewColumn:null===(t=i.filesToOpenOrCreate)||void 0===t?void 0:t[e].viewColumn})}return l}return y.getWorkbenchState()===n.Xo.EMPTY&&"newUntitledFile"===b.getValue("workbench.startupEditor")?g.mainPart.hasRestorableState?[]:[{editor:{resource:void 0}}]:[]}(m,C)},views:{defaults:function(e,i){var t,o;let r=null===(t=e.options)||void 0===t?void 0:t.defaultLayout;if(null==r||(null===(o=r.force)||void 0===o||!o)&&!i.isNew(n.Ro.WORKSPACE))return;let{views:l}=r;return null!=l&&l.length>0?l.map(e=>e.id):void 0}(h,c),containerToRestore:{}}};function E(e){var i;return null!==(i=a.getDefaultViewContainer(e))&&void 0!==i?i:a.getViewContainersByLocation(e)[0]}(function(){if(T.isVisible(s.V.SIDEBAR_PART)){var e,i;let t;t=!h.isBuilt||u.startupKind===d.F.ReloadedWindow||n._M?c.get(f.c.activeViewletSettingsKey,n.Ro.WORKSPACE,null===(e=E(l.gf.Sidebar))||void 0===e?void 0:e.id):null===(i=E(l.gf.Sidebar))||void 0===i?void 0:i.id,V.views.containerToRestore.sideBar=t}if(T.isVisible(s.V.PANEL_PART)){var t;let e=c.get(f.l.activePanelSettingsKey,n.Ro.WORKSPACE,null===(t=E(l.gf.Panel))||void 0===t?void 0:t.id);V.views.containerToRestore.panel=e}if(T.isVisible(s.V.AUXILIARYBAR_PART)){var o;let e=c.get(f._.activeViewSettingsKey,n.Ro.WORKSPACE,null===(o=E(l.gf.AuxiliaryBar))||void 0===o?void 0:o.id);V.views.containerToRestore.auxiliaryBar=e}})(),V=A(V),null!==(i=V.views.containerToRestore.sideBar)&&void 0!==i||T.setPartHidden(!0,s.V.SIDEBAR_PART),null!==(t=V.views.containerToRestore.panel)&&void 0!==t||T.setPartHidden(!0,s.V.PANEL_PART),null!==(o=V.views.containerToRestore.auxiliaryBar)&&void 0!==o||T.setPartHidden(!0,s.V.AUXILIARYBAR_PART);let S=document.createElement("div");S.style.display="none",document.body.append(S);for(let{id:n,role:l,classes:d,options:f,getPosition:A,onDidChangePosition:I}of[{id:s.V.TITLEBAR_PART,role:"none",classes:["titlebar"]},{id:s.V.BANNER_PART,role:"banner",classes:["banner"]},{id:s.V.ACTIVITYBAR_PART,role:"none",classes:["activitybar"],getPosition:()=>T.getSideBarPosition(),onDidChangePosition:T.onDidChangeSideBarPosition},{id:s.V.SIDEBAR_PART,role:"none",classes:["sidebar"],getPosition:()=>T.getSideBarPosition(),onDidChangePosition:T.onDidChangeSideBarPosition},{id:s.V.EDITOR_PART,role:"main",classes:["editor"],options:{restorePreviousState:V.editor.restoreEditors}},{id:s.V.PANEL_PART,role:"none",classes:["panel","basepanel"],getPosition:()=>T.getPanelPosition(),onDidChangePosition:T.onDidChangePanelPosition},{id:s.V.AUXILIARYBAR_PART,role:"none",classes:["auxiliarybar","basepanel"],getPosition:()=>T.getSideBarPosition()===s.H.LEFT?s.H.RIGHT:s.H.LEFT,onDidChangePosition:T.onDidChangeSideBarPosition},{id:s.V.STATUSBAR_PART,role:"status",classes:["statusbar"]}]){let e=T.getPart(n);if(null!=e){let i=v(n,l,d);if(e.create(i,f),p(i,e),e.layout(9999,9999,0,0),S.append(i),null!=A){let i=A();e.element.classList.add((0,s.Y)(i)),null===I||void 0===I||I(()=>{e.element.classList.remove((0,s.Y)(i)),i=A(),e.element.classList.add((0,s.Y)(i))})}}}let B=[],x=[];B.push((async(e,i)=>{(0,n.lc)("code/willRestoreEditors"),await g.mainPart.whenReady,(0,n.lc)("code/restoreEditors/editorGroupsReady"),null!=(null===(e=V.layout)||void 0===e?void 0:e.editors)&&g.applyLayout(V.layout.editors);let t,o=await V.editor.editorsToOpen;if((0,n.lc)("code/restoreEditors/editorsToOpenResolved"),o.length>0){let e=g.getGroups(d.X.GRID_APPEARANCE),i=new Map;for(let t of o){var r;let o=e[(null!==(r=t.viewColumn)&&void 0!==r?r:1)-1],n=i.get(o.id);null!==n&&void 0!==n||(n=new Set,i.set(o.id,n)),n.add(t.editor)}t=Promise.all(Array.from(i).map(async e=>{let[i,t]=e;try{await P.openEditors(Array.from(t),i,{validateTrust:!0})}catch(i){w.error(i)}}))}x.push(Promise.all([null===(i=t)||void 0===i?void 0:i.finally(()=>(0,n.lc)("code/restoreEditors/editorsOpened")),g.mainPart.whenRestored.finally(()=>(0,n.lc)("code/restoreEditors/editorGroupsRestored"))]).finally(()=>{(0,n.lc)("code/didRestoreEditors")}))})());let O=(async()=>{if(null!=V.views.defaults&&V.views.defaults.length>0){(0,n.lc)("code/willOpenDefaultViews");let e=[],i=i=>{let t=a.getViewLocationById(i.id);if(null!==t){let r=a.getViewContainerByViewId(i.id);if(null!=r){var o,n;i.order>=(null!==(o=null===(n=e[t])||void 0===n?void 0:n.order)&&void 0!==o?o:0)&&(e[t]={id:r.id,order:i.order});let l=a.getViewContainerModel(r);return l.setCollapsed(i.id,!1),l.setVisible(i.id,!0),!0}}return!1},t=[...V.views.defaults].reverse().map((e,i)=>({id:e,order:i})),o=t.length;for(;o>0;)o--,i(t[o])&&t.splice(o,1);if(t.length>0){await R.whenInstalledExtensionsRegistered();let e=t.length;for(;e>0;)e--,i(t[e])&&t.splice(e,1)}null!=e[l.gf.Sidebar]&&(V.views.containerToRestore.sideBar=e[l.gf.Sidebar].id),null!=e[l.gf.Panel]&&(V.views.containerToRestore.panel=e[l.gf.Panel].id),null!=e[l.gf.AuxiliaryBar]&&(V.views.containerToRestore.auxiliaryBar=e[l.gf.AuxiliaryBar].id),(0,n.lc)("code/didOpenDefaultViews")}})();B.push(O),B.push((async(e,i)=>{await O,null!=V.views.containerToRestore.sideBar&&((0,n.lc)("code/willRestoreViewlet"),null!==(e=await r.openPaneComposite(V.views.containerToRestore.sideBar,l.gf.Sidebar))&&void 0!==e||await r.openPaneComposite(null===(i=E(l.gf.Sidebar))||void 0===i?void 0:i.id,l.gf.Sidebar),(0,n.lc)("code/didRestoreViewlet"))})()),B.push((async(e,i)=>{await O,null!=V.views.containerToRestore.panel&&((0,n.lc)("code/willRestorePanel"),null!==(e=await r.openPaneComposite(V.views.containerToRestore.panel,l.gf.Panel))&&void 0!==e||await r.openPaneComposite(null===(i=E(l.gf.Panel))||void 0===i?void 0:i.id,l.gf.Panel),(0,n.lc)("code/didRestorePanel"))})()),B.push((async(e,i)=>{await O,null!=V.views.containerToRestore.auxiliaryBar&&((0,n.lc)("code/willRestoreAuxiliaryBar"),null!==(e=await r.openPaneComposite(V.views.containerToRestore.auxiliaryBar,l.gf.AuxiliaryBar))&&void 0!==e||await r.openPaneComposite(null===(i=E(l.gf.AuxiliaryBar))||void 0===i?void 0:i.id,l.gf.AuxiliaryBar),(0,n.lc)("code/didRestoreAuxiliaryBar"))})()),await n.Dw.settled(B),await n.Dw.settled(x)})}}]);
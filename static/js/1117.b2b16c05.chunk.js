"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[1117],{1117:(t,e,o)=>{o.r(e),o.d(e,{default:()=>h});var i,n,s=o(1359),a=o(3373);(0,s.r)(),(0,s.E)(),(0,s.j)(),(0,s.Aa)(),(0,s.mm)(),(0,s.ev)(),(0,s.kv)(),(0,s.Xb)(),(0,s.oS)(),(0,s.vE)(),(0,s.eO)(),(0,s.lO)(),(0,s.QO)(),(0,s.zA)(),(0,s.wj)();var r;(0,a.o)(),(0,s.ob)(),(0,s.f_)(),(0,s.bE)({});var d=(i=class extends s.mj{static get(t){return t.getContribution(r.ID)}constructor(t,e,o){super(),this._editor=t,this._languageService=o,this._widget=null,this._register(this._editor.onDidChangeModel(t=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(t=>this.stop())),this._register(s.ZD.onDidChange(t=>this.stop())),this._register(this._editor.onKeyUp(t=>t.keyCode===s.KO.Escape&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new g(this._editor,this._languageService))}stop(){this._widget&&(this._widget=(this._widget.dispose(),null))}},{_:r=i},{_:i.ID="editor.contrib.inspectTokens"},i);d=r=(0,s.Jb)([(0,s.Yb)(1,s.T),(0,s.Yb)(2,s.$_)],d);var l=class extends s.Xy{constructor(){super({id:"editor.action.inspectTokens",label:s.Da.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(t,e){var o;null===(o=d.get(e))||void 0===o||o.launch()}};var g=({_:(n=class t extends s.mj{constructor(t,e){super(),this.allowEditorOverflow=!0,this._editor=t,this._languageService=e,this._model=this._editor.getModel(),this._domNode=(0,s.jx)("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function(t,e){let o=s.ZD.get(e);if(o)return o;let i=t.encodeLanguageId(e);return{getInitialState:()=>s.d_,tokenize:(t,o,i)=>(0,s.p_)(e,i),tokenizeEncoded:(t,e,o)=>(0,s.m_)(i,o)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(t=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return t._ID}_compute(t){let e=this._getTokensAtLine(t.lineNumber),o=0;for(let s=e.tokens1.length-1;s>=0;s--){let i=e.tokens1[s];if(t.column-1>=i.offset){o=s;break}}let i=0;for(let s=e.tokens2.length>>>1;s>=0;s--)if(t.column-1>=e.tokens2[s<<1]){i=s;break}let n=this._model.getLineContent(t.lineNumber),a="";if(o<e.tokens1.length){let t=e.tokens1[o].offset,i=o+1<e.tokens1.length?e.tokens1[o+1].offset:n.length;a=n.substring(t,i)}(0,s.jS)(this._domNode,(0,s.px)("h2.tm-token",void 0,function(t){let e="";for(let o=0,i=t.length;o<i;o++){let i=t.charCodeAt(o);switch(i){case s.RA.Tab:e+="\u2192";break;case s.RA.Space:e+="\xb7";break;default:e+=String.fromCharCode(i)}}return e}(a),(0,s.px)("span.tm-token-length",void 0,"".concat(a.length," ").concat(1===a.length?"char":"chars")))),(0,s.Dx)(this._domNode,(0,s.px)("hr.tokens-inspect-separator",{style:"clear:both"}));let r=1+(i<<1)<e.tokens2.length?this._decodeMetadata(e.tokens2[1+(i<<1)]):null;(0,s.Dx)(this._domNode,(0,s.px)("table.tm-metadata-table",void 0,(0,s.px)("tbody",void 0,(0,s.px)("tr",void 0,(0,s.px)("td.tm-metadata-key",void 0,"language"),(0,s.px)("td.tm-metadata-value",void 0,"".concat(r?r.languageId:"-?-"))),(0,s.px)("tr",void 0,(0,s.px)("td.tm-metadata-key",void 0,"token type"),(0,s.px)("td.tm-metadata-value",void 0,"".concat(r?this._tokenTypeToString(r.tokenType):"-?-"))),(0,s.px)("tr",void 0,(0,s.px)("td.tm-metadata-key",void 0,"font style"),(0,s.px)("td.tm-metadata-value",void 0,"".concat(r?this._fontStyleToString(r.fontStyle):"-?-"))),(0,s.px)("tr",void 0,(0,s.px)("td.tm-metadata-key",void 0,"foreground"),(0,s.px)("td.tm-metadata-value",void 0,"".concat(r?s.Ev.Format.CSS.formatHex(r.foreground):"-?-"))),(0,s.px)("tr",void 0,(0,s.px)("td.tm-metadata-key",void 0,"background"),(0,s.px)("td.tm-metadata-value",void 0,"".concat(r?s.Ev.Format.CSS.formatHex(r.background):"-?-")))))),(0,s.Dx)(this._domNode,(0,s.px)("hr.tokens-inspect-separator")),o<e.tokens1.length&&(0,s.Dx)(this._domNode,(0,s.px)("span.tm-token-type",void 0,e.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(t){let e=s.ZD.getColorMap(),o=s.cO.getLanguageId(t),i=s.cO.getTokenType(t),n=s.cO.getFontStyle(t),a=s.cO.getForeground(t),r=s.cO.getBackground(t);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(o),tokenType:i,fontStyle:n,foreground:e[a],background:e[r]}}_tokenTypeToString(t){switch(t){case s.sO.Other:return"Other";case s.sO.Comment:return"Comment";case s.sO.String:return"String";case s.sO.RegEx:return"RegEx";default:return"??"}}_fontStyleToString(t){let e="";return t&s.iO.Italic&&(e+="italic "),t&s.iO.Bold&&(e+="bold "),t&s.iO.Underline&&(e+="underline "),t&s.iO.Strikethrough&&(e+="strikethrough "),0===e.length&&(e="---"),e}_getTokensAtLine(t){let e=this._getStateBeforeLine(t),o=this._tokenizationSupport.tokenize(this._model.getLineContent(t),!0,e),i=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(t),!0,e);return{startState:e,tokens1:o.tokens,tokens2:i.tokens,endState:o.endState}}_getStateBeforeLine(t){let e=this._tokenizationSupport.getInitialState();for(let o=1;o<t;o++)e=this._tokenizationSupport.tokenize(this._model.getLineContent(o),!0,e).endState;return e}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[a.t.BELOW,a.t.ABOVE]}}})._ID="editor.contrib.inspectTokensWidget"},n);function h(){return{}}(0,s.ub)(d.ID,d,s.$y.Lazy),(0,s.cb)(l),(0,s.ob)(),(0,s.E)(),(0,s.Aa)(),(0,s.cb)(class extends s.Xy{constructor(){super({id:"editor.action.toggleHighContrast",label:s.ka.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(t,e){let o=t.get(s.T),i=o.getColorTheme();(0,s.gm)(i.type)?(o.setTheme(this._originalThemeName||((0,s.hm)(i.type)?"vs-dark":"vs")),this._originalThemeName=null):(o.setTheme((0,s.hm)(i.type)?s.D:s.O),this._originalThemeName=i.themeName)}})}}]);
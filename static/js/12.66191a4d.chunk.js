"use strict";(self.webpackChunkWindmill_Whitelabel_Example=self.webpackChunkWindmill_Whitelabel_Example||[]).push([[12],{12:(t,e,r)=>{r.r(e),r.d(e,{default:()=>g});var l=r(7091),i=r(3829),a=r(8e3),n=r(1650),s=r(6419),o=(r(4981),r(7606)),v=(0,l.n)(i.Pn),d=(0,i.m)(t=>{let{workspace:e,kind:r,isTemplate:a}=t;return e&&(0,l.n)(i.kn)?"flow"==r?i.qn.listFlows({workspace:e}):i.fr.listScripts({workspace:e,kinds:r,isTemplate:a}):void 0},v?{initial:{workspace:v,kind:"script",isTemplate:void 0,refreshCount:0},invalidateMs:6e4}:{}),f=(0,l.vt)('<div class="text-2xs text-tertiary font-light text-center py-2 px-3 items-center"> </div>'),c=(0,l.vt)('<div class="flex flex-col"><div class="text-left text-xs font-normal leading-tight py-0"> </div> <div class="text-left text-2xs font-normal"> </div></div>'),u=(t,e,r,l,i,a)=>{"flow"==e()?r("pickFlow",{path:l()}):r("pickScript",{path:l(),hash:i?a():void 0,kind:e()})},p=(0,l.vt)('<div class="grow min-w-0 truncate text-left text-2xs text-secondary font-[220]"> </div>'),h=(0,l.vt)('<kbd class="!text-xs">&crarr;</kbd>'),m=(0,l.vt)('<button><!> <div class="flex flex-col grow min-w-0"><div class="grow min-w-0 truncate text-left text-2xs text-primary font-normal"><!></div> <!></div> <!></button>'),x=(0,l.vt)('<li class="w-full"><!></li>'),w=(0,l.vt)("<!> <ul></ul>",1),k=(0,l.vt)("<!> <!>",1);function g(t,e){(0,l.cn)(e,!0);let r=()=>(0,l.v)(i.Pn,"$workspaceStore",v),[v,g]=(0,l._)(),y=(0,i.zn)(async()=>await d({workspace:r(),kind:W(),isTemplate:b(),refreshCount:j()}),{loadInit:!1,clearValueOnRefresh:!1}),F=(0,l.Gt)(void 0),W=(0,l.f)(e,"kind",3,"script"),b=(0,l.f)(e,"isTemplate",3,void 0),Z=(0,l.f)(e,"selected",3,void 0),$=(0,l.f)(e,"displayPath",3,!1),_=(0,l.f)(e,"filteredWithOwner",15,void 0),A=(0,l.f)(e,"filter",3,""),S=(0,l.f)(e,"owners",31,()=>(0,l.en)([])),C=(0,l.f)(e,"ownerFilter",15,void 0),j=(0,l.f)(e,"refreshCount",3,0),T=(0,l.o)();(0,l.jt)(()=>{j(),r()&&W()&&(0,l.Lt)(()=>y.refresh())}),(0,l.jt)(()=>{r()&&C(void 0)}),(0,l.jt)(()=>{var t,e;(0,l.Ft)(F)&&S(Array.from(new Set(null!==(t=null===(e=(0,l.Ft)(F))||void 0===e?void 0:e.map(t=>t.path.split("/").slice(0,2).join("/")))&&void 0!==t?t:[])).sort((t,e)=>t.startsWith("u/")&&!e.startsWith("u/")?-1:e.startsWith("u/")&&!t.startsWith("u/")?1:t.startsWith("f/")&&!e.startsWith("f/")?-1:e.startsWith("f/")&&!t.startsWith("f/")?1:t.localeCompare(e)))}),(0,l.jt)(()=>{var t;_(null==C()?(0,l.Ft)(F):null===(t=(0,l.Ft)(F))||void 0===t?void 0:t.filter(t=>{var e;return t.path.startsWith(null===(e=C())||void 0===e?void 0:e.name)}))});var Q=k();(0,l.St)("keydown",l.Xt,function(t){if(null!=Z()&&_()&&Z()>=0&&Z()<_().length&&"Enter"===t.key){t.preventDefault();let e=_()[Z()];"flow"==W()?T("pickFlow",{path:e.path}):T("pickScript",{path:e.path,hash:void 0,kind:W()})}});var z=(0,l.Qt)(Q);(0,o.t)(z,{get filter(){return A()},get items(){return y.value},f:t=>(0,i.S)(t.summary)?t.path:t.summary+" ("+t.path+")",get filteredItems(){return(0,l.Ft)(F)},set filteredItems(t){(0,l.Wt)(F,t,!0)}});var E=(0,l.$t)(z,2),I=t=>{var e=w(),r=(0,l.Qt)(e),i=t=>{var e=f(),r=(0,l.Zt)(e,!0);(0,l.nn)(e),(0,l.At)(()=>(0,l.mt)(r,"flow"==W()?"No flows found.":"No scripts found.")),(0,l.gt)(t,e)};(0,l.dt)(r,t=>{0==(0,l.Ft)(F).length&&t(i)});var o=(0,l.$t)(r,2);(0,l.st)(o,21,()=>{var t;return null!==(t=_())&&void 0!==t?t:[]},l.ct,(t,e,r)=>{let i=()=>(0,l.Ft)(e).path,o=()=>(0,l.Ft)(e).hash,v=()=>(0,l.Ft)(e).summary,d=()=>(0,l.Ft)(e).marked;var f=x(),w=(0,l.Zt)(f);{let t=t=>{var e=c(),r=(0,l.Zt)(e),a=(0,l.Zt)(r,!0);(0,l.nn)(r);var n=(0,l.$t)(r,2),s=(0,l.Zt)(n,!0);(0,l.nn)(n),(0,l.nn)(e),(0,l.At)(()=>{var t,e;(0,l.mt)(a,null!==(t=v())&&void 0!==t?t:""),(0,l.mt)(s,null!==(e=i())&&void 0!==e?e:"")}),(0,l.gt)(t,e)},e=(0,l.Jt)(()=>r===Z());(0,a.x)(w,{class:"w-full ",placement:"right",get forceOpen(){return(0,l.Ft)(e)},text:t,children:(t,e)=>{var a=m();a.__click=[u,W,T,i,!1,o];var f=(0,l.Zt)(a),c=t=>{(0,s.t)(t,{size:14,class:"shrink-0"})},x=t=>{(0,n.t)(t,{size:14})};(0,l.dt)(f,t=>{"flow"==W()?t(c):t(x,!1)});var w=(0,l.$t)(f,2),k=(0,l.Zt)(w),g=(0,l.Zt)(k),y=t=>{var e=(0,l._t)();(0,l.ot)((0,l.Qt)(e),d),(0,l.gt)(t,e)},F=t=>{var e=(0,l.bt)();(0,l.At)(()=>(0,l.mt)(e,v()&&0!=v().length?v():i())),(0,l.gt)(t,e)};(0,l.dt)(g,t=>{d()?t(y):t(F,!1)}),(0,l.nn)(k);var b=(0,l.$t)(k,2),_=t=>{var e=p(),r=(0,l.Zt)(e,!0);(0,l.nn)(e),(0,l.At)(()=>(0,l.mt)(r,i())),(0,l.gt)(t,e)};(0,l.dt)(b,t=>{$()&&i()&&t(_)}),(0,l.nn)(w);var A=(0,l.$t)(w,2),S=t=>{(0,l.gt)(t,h())};(0,l.dt)(A,t=>{r===Z()&&t(S)}),(0,l.nn)(a),(0,l.At)(()=>(0,l.Z)(a,1,"px-3 py-2 gap-2 flex flex-row w-full hover:bg-surface-hover transition-all items-center rounded-md ".concat(r===Z()?"bg-surface-hover":""))),(0,l.gt)(t,a)},$$slots:{text:!0,default:!0}})}(0,l.nn)(f),(0,l.gt)(t,f)}),(0,l.nn)(o),(0,l.gt)(t,e)},O=t=>{var e=(0,l._t)();(0,l.st)((0,l.Qt)(e),16,()=>Array(10).fill(0),l.ct,(t,e)=>{(0,a.c)(t,{layout:[.5,[1.5]]})}),(0,l.gt)(t,e)};(0,l.dt)(E,t=>{(0,l.Ft)(F)?t(I):t(O,!1)}),(0,l.gt)(t,Q),(0,l.sn)(),g()}(0,l.xt)(["click"])}}]);